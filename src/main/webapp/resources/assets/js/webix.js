/**
 * @license
 * Webix UI v.8.3.1
 * This software is covered by Webix Trial License.
 * Usage without proper license is prohibited.
 * (c) XB Software Ltd.
 */

!function(t, i) { "object" == typeof exports && "undefined" != typeof module ? i(exports) : "function" == typeof define && define.amd ? define(["exports"], i) : i(t.webix = {}) }(this, function(T) {
	"use strict"; function M(t) { return (M = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function a(t, i) { return function e(t) { if (Array.isArray(t)) return t }(t) || function u(t, i) { var e = [], s = !0, n = !1, r = undefined; try { for (var h, o = t[Symbol.iterator](); !(s = (h = o.next()).done) && (e.push(h.value), !i || e.length !== i); s = !0); } catch (a) { n = !0, r = a } finally { try { s || null == o["return"] || o["return"]() } finally { if (n) throw r } } return e }(t, i) || function s() { throw new TypeError("Invalid attempt to destructure non-iterable instance") }() } function o(t) { return function s(t) { if (Array.isArray(t)) { for (var i = 0, e = new Array(t.length); i < t.length; i++)e[i] = t[i]; return e } }(t) || function i(t) { if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return Array.from(t) }(t) || function e() { throw new TypeError("Invalid attempt to spread non-iterable instance") }() } var i = window, e = 1, s = {}, n = !1; function f(t) { i.setImmediate ? i.setImmediate(t) : i.importScripts || !i.addEventListener ? setTimeout(t) : (s[++e] = t, i.postMessage(e, "*")) } function b(t) { if ("function" != typeof t && t != undefined) throw TypeError(); if ("object" != M(this) || this && this.then) throw TypeError(); var i, e, n = this, r = 0, h = 0, s = []; (n.promise = n).resolve = function(t) { return i = n.fn, e = n.er, r || (h = t, r = 1, f(u)), n }, n.reject = function(t) { return i = n.fn, e = n.er, r || (h = t, r = 2, f(u)), n }, n.i = 1, n.then = function(t, i) { if (1 != this.i) throw TypeError(); var e = new b; return e.fn = t, e.er = i, 3 == r ? e.resolve(h) : 4 == r ? e.reject(h) : s.push(e), e }, n["finally"] = function(i) { var e, t = function(t) { return e = t, i() }, s = function() { var t = new b; return 4 == r ? t.reject(e) : t.resolve(e) }; return n.then(t, t).then(s, s) }, n["catch"] = function(t) { return n.then(null, t) }, n.fail = function(t) { return n.then(null, t) }; var o = function(t) { r = t || 4; for (var i = 0; i < s.length; i++) { var e = s[i]; 3 == r && e.resolve(h) || e.reject(h) } }; try { "function" == typeof t && t(n.resolve, n.reject) } catch (c) { n.reject(c) } return n; function a(t, i, e, s) { if (2 == r) return s(); if ("object" != M(h) && "function" != typeof h || "function" != typeof t) s(); else try { var n = 0; t.call(h, function(t) { n++ || (h = t, i()) }, function(t) { n++ || (h = t, e()) }) } catch (c) { h = c, e() } } function u() { var t; try { t = h && h.then } catch (c) { return h = c, r = 2, u() } a(t, function() { r = 1, u() }, function() { r = 2, u() }, function() { try { 1 == r && "function" == typeof i ? h = i(h) : 2 == r && "function" == typeof e && (h = e(h), r = 1) } catch (c) { return h = c, o() } h == n ? (h = TypeError(), o()) : a(t, function() { o(3) }, o, function() { o(1 == r && 3) }) }) } } !i.setImmediate && i.addEventListener && i.addEventListener("message", function(t) { if (t.source == i) if (n) f(s[t.data]); else { n = !0; try { s[t.data]() } catch (t) { } delete s[t.data], n = !1 } }), b.resolve = function(i) { if (1 != this.i) throw TypeError(); return i instanceof b ? i : new b(function(t) { t(i) }) }, b.reject = function(e) { if (1 != this.i) throw TypeError(); return new b(function(t, i) { i(e) }) }, b.all = function(e) { if (1 != this.i) throw TypeError(); if (!(e instanceof Array)) return b.reject(TypeError()); var s = new b; return function n(t, i) { return i ? s.resolve(i) : t ? s.reject(t) : (0 == e.reduce(function(t, i) { return i && i.then ? t + 1 : t }, 0) && s.resolve(e), void e.map(function(t, i) { t && t.then && t.then(function(t) { return e[i] = t, n(), t }, n) })) }(), s }, b.race = function(e) { if (1 != this.i) throw TypeError(); if (!(e instanceof Array)) return b.reject(TypeError()); if (0 == e.length) return new b; var s = new b; return function n(t, i) { return i ? s.resolve(i) : t ? s.reject(t) : (0 == e.reduce(function(t, i) { return i && i.then ? t + 1 : t }, 0) && s.resolve(e), void e.map(function(t) { t && t.then && t.then(function(t) { n(null, t) }, n) })) }(), s }, b.i = 1, b.defer = function() { return new b(null) }; var r = {}; function t(t, i) { r[t] = i } function d(t) { return r[t] } var h = {}; function l(t) { var i = l.h; return i.prototype = t, new i } function _(t) {
		var i, e = !!(window.Map && window.Set && window.WeakMap && window.WeakSet); for (var s in 1 < arguments.length ? (i = arguments[0], t = arguments[1]) : i = $(t) ? [] : {}, t) {
			var n = t[s]; !n || "object" != M(n
			) || n instanceof RegExp ? i[s] = n : I(n) ? i[s] = new Date(n) : e && (n instanceof Map || n instanceof Set || n instanceof WeakMap || n instanceof WeakSet) ? i[s] = n : (i[s] = $(n) ? [] : {}, _(i[s], n))
		} return i
	} function S(t, i) { return function() { return t.apply(i, arguments) } } function p(t) { window.execScript ? window.execScript(t) : window.eval(t) } function V(t) { return void 0 === t } function k(i, e, s, t) { return window.setTimeout(function() { if (!e || !e.$destructed) { var t = i.apply(e, s || []); return i = e = s = null, t } }, t || 1) } function u(t) { var i = !0; return function() { i && (i = !1, t.apply(this, arguments)) } } l.h = function() { }, T.extend = function(t, i, e) { if (t.$protoWait) return x.insertAt.call(t.$protoWait, i, 1), t; for (var s in i) s in t && !e || (t[s] = i[s]); return i.defaults && T.extend(t.defaults, i.defaults), i.$init && i.$init.call(t), t }; var c = (new Date).valueOf(); function z() { return ++c } function C(t) { return "string" == typeof t ? document.getElementById(t) : t } function v(t, i) { if ("string" != typeof t) return t; var e = t.replace("()", ""); return i && i[e] ? i[e] : window[e] || window.eval(t) } function $(t) { return Array.isArray ? Array.isArray(t) : "[object Array]" === Object.prototype.toString.call(t) } function I(t) { return t instanceof Date } function D(t) { return T.extend(t || [], x, !0) } var x = { removeAt: function(t, i) { 0 <= t && this.splice(t, i || 1) }, remove: function(t) { this.removeAt(this.find(t)) }, insertAt: function(t, i) { i || 0 === i ? this.splice(i, 0, t) : this.push(t) }, find: function(t) { for (var i = 0; i < this.length; i++)if (t == this[i]) return i; return -1 }, each: function(t, i) { for (var e = 0; e < this.length; e++)t.call(i || this, this[e]) }, map: function(t, i) { for (var e = 0; e < this.length; e++)this[e] = t.call(i || this, this[e]); return this }, filter: function(t, i) { for (var e = 0; e < this.length; e++)t.call(i || this, this[e]) || (this.splice(e, 1), e--); return this } }, A = { parseFormat: "%Y-%m-%d %H:%i:%s", parseTimeFormat: "%H:%i:%s" }; function m(t) { var i, e = Date.prototype.toJSON; return Date.prototype.toJSON = function() { return A.parseFormatStr(this) }, i = t instanceof Date ? t.toJSON() : JSON.stringify(t), Date.prototype.toJSON = e, i } var g = { $init: function() { this.o || (this.o = {}, this.u = {}, this.l = {}) }, blockEvent: function() { this.o._ = !0 }, unblockEvent: function() { this.o._ = !1 }, mapEvent: function(t) { T.extend(this.l, t, !0) }, on_setter: function(t) { if (t) for (var i in t) { var e = v(t[i], this.$scope), s = i.indexOf("->"); -1 !== s ? this[i.substr(0, s)].attachEvent(i.substr(s + 2), S(e, this)) : this.attachEvent(i, e) } }, callEvent: function(t, i) { var e = this.m || this; if (this.o._) return !0; t = t.toLowerCase(); var s = this.o[t.toLowerCase()], n = !0; if (s) for (var r = 0; r < s.length; r++)!1 === s[r].apply(e, i || []) && (n = !1); if (this.l[t]) { var h = this.l[t]; h.$eventSource = this, h.callEvent(t, i) || (n = !1), h.$eventSource = null } return n }, attachEvent: function(t, i, e) { t = t.toLowerCase(), e = e || z(), i = v(i, this.$scope); var s = this.o[t] || D(); return arguments[3] ? s.unshift(i) : s.push(i), this.o[t] = s, this.u[e] = { f: i, t: t }, e }, detachEvent: function(t) { if (this.u[t]) { var i = this.u[t].t, e = this.u[t].f; this.o[i].remove(e), delete this.u[t] } else { var s = (t + "").toLowerCase(); this.o[s] && (this.o[s] = D()) } }, hasEvent: function(t) { t = t.toLowerCase(); var i = this.o[t]; if (i && i.length) return !0; var e = this.l[t]; return !!e && e.hasEvent(t) } }, w = {}; T.extend(w, g, !0); var y = function(t, i) { return w.callEvent(t, i) }, F = function(t, i, e, s) { return w.attachEvent(t, i, e, s) }, B = function(t) { return w.detachEvent(t) }, H = {
		w: function(t) { return t && t.documentElement ? t.getElementsByTagName("parsererror").length ? null : t : null }, toObject: function(t, i) { var e = i ? i.rawxml ? i.rawxml() : i : null; return this.w(e) ? e : (e = "string" == typeof t ? this.fromString(t.replace(/^[\s]+/, "")) : t, this.w(e) ? e : null) }, getRecords: function(t) { return this.xpath(t, this.records) }, records: "/*/item", child: "item", config: "/*/config", getDetails: function(t) { return this.tagToObject(t, {}) }, getOptions: function() { return !1 }, getInfo: function(t) { var i = this.xpath(t, this.config); return i = i.length ? this.assignTypes(this.tagToObject(i[0], {})) : null, { size: t.documentElement.getAttribute("total_count") || 0, from: t.documentElement.getAttribute("pos"), parent: t.documentElement.getAttribute("parent") || 0, config: i } }, xpath: function(t, i) {
			if (window.XPathResult) {
				var e = t; -1 == t.nodeName.indexOf("document") && (t = t.ownerDocument); for (var s = [],
					n = t.evaluate(i, e, null, XPathResult.ANY_TYPE, null), r = n.iterateNext(); r;)s.push(r), r = n.iterateNext(); return s
			} var h = !0; try { "undefined" == typeof t.selectNodes && (h = !1) } catch (a) { } if (h) return t.selectNodes(i); var o = i.split("/").pop(); return t.getElementsByTagName(o)
		}, assignTypes: function(t) { for (var i in t) { var e = t[i]; if ("object" == M(e)) this.assignTypes(e); else if ("string" == typeof e) { if ("" === e) continue; "true" == e ? t[i] = !0 : "false" == e ? t[i] = !1 : e == 1 * e && (t[i] = 1 * t[i]) } } return t }, tagToObject: function(t, i) { var e = 0; if (1 == t.nodeType && t.getAttribute("stack")) { i = []; for (var s = t.childNodes, n = 0; n < s.length; n++)1 == s[n].nodeType && i.push(this.tagToObject(s[n], {})) } else { i = i || {}; var r = t.attributes; if (r && r.length) for (var h = 0; h < r.length; h++)i[r[h].name] = r[h].value, e = 1; for (var o = t.childNodes, a = 0; a < o.length; a++)if (1 == o[a].nodeType) { var u = o[a].tagName; i[u] ? ("function" != typeof i[u].push && (i[u] = [i[u]]), i[u].push(this.tagToObject(o[a], {}))) : i[u] = this.tagToObject(o[a], {}), e = 2 } if (!e) return this.nodeValue(t); e < 2 && (i.value = i.value || this.nodeValue(t)) } return i }, nodeValue: function(t) { return t.firstChild ? t.firstChild.wholeText || t.firstChild.data : "" }, fromString: function(t) { try { if (window.DOMParser) return (new DOMParser).parseFromString(t, "text/xml"); if (window.ActiveXObject) { var i = new ActiveXObject("Microsoft.xmlDOM"); return i.loadXML(t), i } } catch (e) { return null } }
	}, R = { toObject: function(t) { if (!t) return null; if ("string" == typeof t) try { if (this.parseDates) { var e = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d{1-3})?Z/; t = JSON.parse(t, function(t, i) { return "string" == typeof i && e.test(i) ? new Date(i) : i }) } else t = JSON.parse(t) } catch (i) { return null } return t }, getRecords: function(t) { return t && t.data && (t = t.data), t && !$(t) ? [t] : t }, getDetails: function(t) { return "string" == typeof t ? { id: t || z(), value: t } : t }, getOptions: function(t) { return t.collections }, getInfo: function(t) { return { size: t.total_count || 0, from: t.pos, parent: t.parent || 0, config: t.config } }, child: "data", parseDates: !1 }; function E(t, i, e) { return 0 !== arguments.length ? (new E).get(t, i, e) : this && this.getXHR ? this : new E } E.count = 0, E.prototype = {
		master: null, getXHR: function() { return new XMLHttpRequest }, stringify: function(t) { return m(t) }, S: function(t, i, s, e) { var n; i && ($(i) || "function" == typeof (i.success || i.error || i)) && (n = s, s = i, i = null); var r = b.defer(), h = this.getXHR(), o = this.k || {}; if (!y("onBeforeAjax", [e, t, i, h, o, null, r])) return r.reject(h); var a = !1; if ("GET" !== e) { var u = !1; for (var c in o) "content-type" == c.toString().toLowerCase() && (u = !0, "application/json" == o[c] && (a = !0)); u || window.FormData && i instanceof window.FormData || (o["Content-Type"] = "application/x-www-form-urlencoded") } if ("object" == M(i) && !(window.FormData && i instanceof window.FormData)) if (a) i = this.stringify(i); else { var f = []; for (var l in i) { var d = i[l]; null !== d && d !== undefined || (d = ""), "object" === M(d) && (d = this.stringify(d)), f.push(l + "=" + encodeURIComponent(d)) } i = f.join("&") } i && "GET" === e && (t = t + (-1 != t.indexOf("?") ? "&" : "?") + i, i = null), h.open(e, t, !this.$); var v = this.D; for (var _ in v && (h.responseType = v), o) h.setRequestHeader(_, o[_]); var p = this; return this.master = this.master || n, h.onreadystatechange = function() { if (!h.readyState || 4 == h.readyState) { E.count++; var t, i, e = 400 <= h.status || 0 === h.status; i = "blob" == h.responseType || "arraybuffer" == h.responseType ? (t = "", h.response) : (t = h.responseText || "", p.I(h)), e ? (y("onAjaxError", [h]), r.reject(h)) : r.resolve(i), s && E.$callback(p.master || window, s, t, i, h, e) } }, this.F && (h.timeout = this.F), this.$ ? h.send(i || null) : setTimeout(function() { h.send(i || null) }, 0), this.master && !this.$ && r.then(function(t) { return p.master = null, s = p = n = null, t }), this.$ ? h : r }, I: function(i) { return { xml: function() { try { return H.tagToObject(H.toObject(i.responseText, this)) } catch (t) { i.responseText, t.toString() } }, rawxml: function() { return window.XPathResult ? i.responseXML : H.fromString(i.responseText) }, text: function() { return i.responseText }, json: function() { return R.toObject(i.responseText, !1) } } }, get: function(t, i, e) { return this.S(t, i, e, "GET") }, post: function(t, i, e) { return this.S(t, i, e, "POST") }, put: function(t, i, e) { return this.S(t, i, e, "PUT") }, del: function(t, i, e) { return this.S(t, i, e, "DELETE") }, patch: function(t, i, e) { return this.S(t, i, e, "PATCH") },
		sync: function() { return this.$ = !0, this }, timeout: function(t) { return this.F = t, this }, response: function(t) { return this.D = t, this }, headers: function(t) { return this.k = T.extend(this.k || {}, t), this }, bind: function(t) { return this.master = t, this }
	}, E.$callback = function(t, i, e, s, n, r) { if (!t.$destructed && (r && y("onAjaxError", [n]), i)) { var h = i.success || i; r && (h = i.error), h && h.call && h.call(t, e, s, n) } }; var P = { $proxy: !0, load: function() { var i = this.source.split("@"), e = i[0].split(".").pop(); return E().response("arraybuffer").get(i[0]).then(function(t) { return { data: t, options: { ext: e, dataurl: i[1] } } }) } }, j = { $proxy: !0, load: function() { }, save: function(t, i, e) { k(function() { window.console.log("[DP] " + i.id + " -> " + i.operation, i.data); var t = { id: i.data.id, newid: i.data.id, status: i.data.operation }; e.processResult(t, t) }) } }, N = { $proxy: !0, load: function() { return E(this.source) }, save: function(t, i) { return N.T.call(this, i, E()) }, T: function(t, i) { var e = this.source, s = "", n = e.indexOf("?"); -1 !== n && (s = e.substr(n), e = e.substr(0, n)), e += "/" == e.charAt(e.length - 1) ? "" : "/"; var r = t.operation, h = t.data; return "insert" == r && delete h.id, "update" == r ? i.put(e + h.id + s, h) : "delete" == r ? i.del(e + h.id + s, h) : i.post(e + s, h) } }, L = { $proxy: !0, load: function() { return E(this.source) }, save: function(t, i) { var e = E().headers({ "Content-Type": "application/json" }); return N.T.call(this, i, e) } }, O = { $proxy: !0, load: function(t, i) { return i = T.extend(i || {}, this.params || {}, !0), E().post(this.source, i) } }; var W = { $proxy: !0, save: function(t) { return this.load(t) }, load: function(t) { var i = { query: this.source }; return 1 === arguments.length && (i.variables = t), E().headers({ "Content-type": "application/json" }).post(this.url, i).then(function(t) { return function n(t) { if (!t || "object" === !M(t) || Array.isArray(t)) return t; var i = "", e = 0; for (var s in t) { if (2 == ++e) return t; i = s } return t[i] }(t.json().data) }) } }; function U(t, i, e) { var s = _(U[t]); return s.source = i, e && T.extend(s, e, !0), s.init && s.init(), s } U.$parse = function(t) { if ("string" != typeof t || -1 == t.indexOf("->")) return t; var i = t.split("->"); return U(i[0], i[1]) }, U.binary = P, U.debug = j, U.json = L, U.post = O, U.rest = N, U.GraphQL = W; var Y = { toObject: function(t) { return "string" == typeof t ? JSON.parse(t) : t }, getRecords: function(t) { return t && t.data && (t = t.data), t }, getDetails: function(t) { for (var i = {}, e = 0; e < t.length; e++)i["data" + e] = t[e]; return null !== this.idColumn && (i.id = t[this.idColumn]), i }, getOptions: function() { return !1 }, getInfo: function() { return { size: 0 } }, idColumn: null }, q = { toObject: function(t) { if ("string" != typeof t) return t; var i = null; return -1 == t.indexOf("<") && (i = C(t)), i || ((i = document.createElement("DIV")).innerHTML = t), i.firstChild }, getRecords: function(t) { return t.getElementsByTagName(this.tag) }, getDetails: function(t) { return H.tagToObject(t) }, getOptions: function() { return !1 }, getInfo: function() { return { size: 0 } }, tag: "LI" }, G = { cdn: "//cdn.webix.com", codebase: "", zIndexBase: 100, scrollSize: 17 }; G.strict = !!window.webix_strict, G.https = "https:" === document.location.protocol; var X = navigator.userAgent; if (G.isMac = -1 != X.indexOf("Mac"), -1 == X.indexOf("Mobile") && -1 == X.indexOf("Windows Phone") || (G.mobile = !0), (G.mobile || -1 != X.indexOf("iPad") || -1 != X.indexOf("Android")) && (G.touch = !0), !G.touch && "MacIntel" === navigator.platform && 1 < navigator.maxTouchPoints && (G.touch = !0), -1 != X.indexOf("Opera")) G.isOpera = !0; else { if (G.isIE = !!document.all || -1 !== X.indexOf("Trident"), G.isIE) 8 == parseFloat(navigator.appVersion.split("MSIE")[1]) && (G.isIE8 = !0); G.isEdge = -1 != X.indexOf("Edge"), G.isFF = -1 != X.indexOf("Firefox"), G.isWebKit = -1 != X.indexOf("KHTML"), G.isSafari = G.isWebKit && G.isMac && -1 == X.indexOf("Chrome"), (G.isIE || G.isEdge || G.isFF) && (G.maxHTMLElementSize = 1e7), G.isSafari && (G.maxHTMLElementSize = 1e8) } -1 != X.toLowerCase().indexOf("android") && (G.isAndroid = !0, -1 != X.toLowerCase().indexOf("trident") && (G.isAndroid = !1, G.isIEMobile = !0)), G.transform = !1, G.transition = !1; for (var K = -1, J = ["", "webkit", "Moz", "O", "ms"], Z = document.createElement("DIV"), Q = 0; Q < J.length; Q++) { var tt = J[Q] ? J[Q] + "Transform" : "transform"; if ("undefined" != typeof Z.style[tt]) { K = Q; break } } if (-1 < K) {
		G.cssPrefix = ["", "-webkit-", "-Moz-", "-o-", "-ms-"][K]; var it = G.jsPrefix = J[K]; G.transform = it ? it + "Transform" : "transform",
			G.transition = it ? it + "Transition" : "transition", G.transitionDuration = it ? it + "TransitionDuration" : "transitionDuration", Z.style[G.transform] = "translate3d(0,0,0)", G.translate = Z.style[G.transform] ? "translate3d" : "translate", G.transitionEnd = "-Moz-" == G.cssPrefix ? "transitionend" : it ? it + "TransitionEnd" : "transitionend"
	} G.pointerevents = !G.isIE || null !== new RegExp("Trident/.*rv:11").exec(X), G.passiveEventListeners = !1; try { var et = Object.defineProperty({}, "passive", { get: function() { G.passiveEventListeners = !0 } }); window.addEventListener("testPassive", null, et), window.removeEventListener("testPassive", null, et) } catch (Eo) { } G.svg = document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"), G.svganimation = document.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#SVG-animation", "1.1"); var st = 0, nt = {}, rt = {}; function ht() { st || (st = document.onselectstart), document.onselectstart = xt } function ot() { 0 !== st && (document.onselectstart = st || null), st = 0 } function at(t) { for (var i = 0; t = t.previousSibling;)i++; return i } function ut(t, i) { var e = ""; for (var s in i = i || "", t) e += s + ":" + t[s] + ";"; var n = rt[e + i]; return n || (ct("." + (n = "s" + z()) + (i || "") + "{" + e + "}"), rt[e + i] = n), n } function ct(t, i) { var e = i ? nt[i] : nt["default"]; e || ((e = document.createElement("style")).setAttribute("type", "text/css"), e.setAttribute("media", "screen,print"), document.getElementsByTagName("head")[0].appendChild(e), i ? nt[i] = e : nt["default"] = e), e.styleSheet ? e.styleSheet.cssText += t : e.appendChild(document.createTextNode(t)) } function ft(t) { var i = nt[t || "default"]; i && (i.innerHTML = "") } function lt(t, i, e) { i = i || {}; var s = document.createElement(t); for (var n in i) s.setAttribute(n, i[n]); return i.style && (s.style.cssText = i.style), i["class"] && (s.className = i["class"]), e && (s.innerHTML = e), s } function dt(t) { return (t = C(t)) ? V(t.value) ? t.innerHTML : t.value : "" } function vt(t) { if (t instanceof Array) for (var i = 0; i < t.length; i++)vt(t[i]); else t && t.parentNode && t.parentNode.removeChild(t) } function _t(t, i, e) { t && (i && i.parentNode ? i.parentNode.insertBefore(t, i) : e.appendChild(t)) } function pt(t, i) { var e; for (e = t.tagName ? t : (t = t || event).target; e;) { if (e.getAttribute) { var s = e.getAttribute(i); if (s) return s } e = e.parentNode } return null } function bt(t) { if (t.getBoundingClientRect) { var i = t.getBoundingClientRect(), e = document.body, s = document.documentElement, n = window.pageYOffset || s.scrollTop || e.scrollTop, r = window.pageXOffset || s.scrollLeft || e.scrollLeft, h = s.clientTop || e.clientTop || 0, o = s.clientLeft || e.clientLeft || 0, a = i.top + n - h, u = i.left + r - o; return { y: Math.round(a), x: Math.round(u), width: t.offsetWidth, height: t.offsetHeight } } for (var c = 0, f = 0; t;)c += parseInt(t.offsetTop, 10), f += parseInt(t.offsetLeft, 10), t = t.offsetParent; return { y: c, x: f, width: t.offsetHeight, height: t.offsetWidth } } function mt(t) { return V((t = t || event).offsetX) ? { x: t.layerX, y: t.layerY } : { x: t.offsetX, y: t.offsetY } } function gt(t) { if ((t = t || event).touches && t.touches[0] && (t = t.touches[0]), t.pageX || t.pageY) return { x: t.pageX, y: t.pageY }; var i = G.isIE && "BackCompat" != document.compatMode ? document.documentElement : document.body; return { x: t.clientX + i.scrollLeft - i.clientLeft, y: t.clientY + i.scrollTop - i.clientTop } } function wt(t) { return t && t.preventDefault && t.preventDefault(), t && (t.returnValue = !1), xt(t) } function xt(t) { return (t = t || event).stopPropagation && t.stopPropagation(), !(t.cancelBubble = !0) } function yt(t, i, e) { if (document.createEventObject) { var s = document.createEventObject(); t.fireEvent && t.fireEvent("on" + e, s) } else { var n = document.createEvent(i); n.initEvent(e, !0, !0), t.dispatchEvent && t.dispatchEvent(n) } } function Mt(t, i, e) { e && -1 !== t.className.indexOf(i) || (t.className += " " + i) } function St(t, i) { t.className = t.className.replace(RegExp(" " + i, "g"), "") } function kt(t, i, e) { var s = lt("DIV", { "class": "webix_view webix_measure_size " + (i || "") }, ""); s.style.cssText = "height:auto;visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;" + (e ? "width:" + e + "px;" : "width:auto;white-space:nowrap;"), document.body.appendChild(s); for (var n = "object" !== M(t) ? [t] : t, r = 0, h = 0, o = 0; o < n.length; o++)s.innerHTML = n[o], r = Math.max(r, s.offsetWidth + 1), h = Math.max(h, s.offsetHeight + 1); return vt(s), { width: r, height: h } } function Ct(t, i) {
		var e = !1; if (
			"object" == M(t)) { if (window.navigator.msSaveBlob) return window.navigator.msSaveBlob(t, i); t = window.URL.createObjectURL(t), e = !0 } var s = document.createElement("a"); s.href = t, s.download = i, document.body.appendChild(s), s.click(), k(function() { e && window.URL.revokeObjectURL(t), document.body.removeChild(s), s.remove() })
	} function $t(t) { if (!t) return ""; var i = t.className || ""; return i.baseVal && (i = i.baseVal), i.indexOf || (i = ""), i } function Dt(t, i, e) { if (i = i || 0, e = e || i, t.focus(), t.setSelectionRange) t.setSelectionRange(i, e); else { var s = t.createTextRange(); s.collapse(!0), s.moveEnd("character", e), s.moveStart("character", i), s.select() } } function It(t) { if ("selectionStart" in t) return { start: t.selectionStart || 0, end: t.selectionEnd || 0 }; t.focus(); var i = document.selection.createRange().getBookmark(), e = t.createTextRange(); e.moveToBookmark(i); var s = e.text.length; e.collapse(!0), e.moveStart("character", -t.value.length); var n = e.text.length; return { start: n, end: n + s } } function At(t, i) { document.getElementsByTagName("head").item(0).appendChild(lt("meta", { name: t, content: i })) } var Ft = { toObject: function(t) { (t = C(t)).tagName.toLowerCase(); var i = t.rows; return vt(t), i }, getRecords: function(t) { for (var i = [], e = t[0] && t[0].V ? 1 : 0; e < t.length; e++)i.push(t[e]); return i }, getDetails: function(t) { var i = t.getElementsByTagName("td"); t = {}; for (var e = 0; e < i.length; e++)t["data" + e] = i[e].innerHTML; return t }, getInfo: function() { return { size: 0 } }, getOptions: function() { }, getConfig: function(t) { var i = [], e = t[0].getElementsByTagName("th"); e.length && (t[0].V = !0); for (var s = 0; s < e.length; s++) { var n = { id: "data" + s, header: this.B(e[s].innerHTML) }, r = this.H(e[s]); n = T.extend(n, r), i.push(n) } return i }, B: function(t) { var i = t.indexOf("json://"); return -1 != i && (t = JSON.parse(t.substr(i + 7))), t }, H: function(t) { for (var i = t.attributes, e = {}, s = 0; s < i.length; s++)e[i[s].nodeName] = this.B(i[s].nodeValue); return e.width = parseInt(e.width, 10), e } }, Tt = {}; function Vt(e, t, i) { var s = b.defer(); if (t && !0 !== t && (s = s.then(function() { t.call(i || this) })), Vt.disabled) return s.resolve(), s; if ("string" != typeof e) { var n = e.length || 0; if (n) { var r = function() { n ? (n--, Vt(e[e.length - n - 1]).then(r, function() { return s.reject() })) : s.resolve() }; r() } else { for (var h in e) n++; var o = function() { 0 === --n && s.resolve() }; for (var a in e) Vt(a).then(o, function() { return s.reject() }) } return s } if (!0 !== Tt[e]) { var u = e; if (!0 === t) return p(E().sync().get(u).responseText), Tt[e] = !0, s.resolve(); if (Tt[e]) return Tt[e].push(s), s; Tt[e] = [s]; var c = function() { var t = Tt[e]; Tt[e] = !1; for (var i = 0; i < t.length; i++)t[i].reject() }, f = function() { var t = Tt[e]; Tt[e] = !0; for (var i = 0; i < t.length; i++)t[i].resolve() }, l = e.split("?"); if (".css" == l[0].substr(l[0].length - 4)) { var d = lt("LINK", { type: "text/css", rel: "stylesheet", href: u }); d.onload = f, d.onerror = c, document.getElementsByTagName("head")[0].appendChild(d) } else { var v = document.createElement("script"); v.onload = f, v.onerror = c, document.getElementsByTagName("head")[0].appendChild(v), v.src = u } } else s.resolve(); return s } var zt = T.extend({
		toObject: function(t) { if (t.excel) return t; var i = t.options || {}; i.dataurl && T.extend(i, this.R(i.dataurl)), t = t.data || t; var e = b.defer(); if (t.name) { i.ext = t.name.split(".").pop(); var s = new FileReader; s.onload = S(function(t) { e.resolve(this.parseData(t.target.result, i)) }, this), s.readAsArrayBuffer(t) } else e.resolve(this.parseData(t, i)); return e }, parseData: function(t, e) { t = new Uint8Array(t); for (var s = [], i = 0; i != t.length; ++i)s[i] = String.fromCharCode(t[i]); var n = (e.ext || e).toLowerCase(); return "xls" != n && (n = "xlsx"), Vt(G.cdn + "/extras/xlsx.core.styles.min.js").then(S(function() { var t = "xls" == n ? XLS.read(s.join(""), { type: "binary", cellStyles: !0, cellDates: !0 }) : XLSX.read(s.join(""), { type: "binary", cellStyles: !0, cellDates: !0 }), i = { sheets: t.Sheets, names: t.SheetNames, options: e, ranges: t.Workbook && t.Workbook.Names || [] }; return T.extend(this.getSheet(i, e), i) }, this)) }, getSheet: function(t, i) { var e = i.name || t.names[0]; return t = this.sheetToArray(t.sheets[e], i), i.rows && i.rows.length && (t.data = t.data.splice(i.rows[0], Math.min(i.rows[1], t.data.length) - i.rows[0])), t }, sheetToArray: function(t, i) {
			var e = [], s = [], n = [], r = [], h = [], o = [], a = { n: "number", d: "date", s: "string", b: "boolean" }; if (t && t["!ref"]) {
				var u, c, f,
				l = XLS.utils.decode_range(t["!ref"]), d = l.s.c, v = l.s.r + (i.rows ? i.rows[0] : 0); for (u = l.s.r; u <= l.e.r; u++) { var _ = []; for (c = l.s.c; c <= l.e.c; c++)if (f = t[XLS.utils.encode_cell({ r: u, c: c })]) { var p = ""; p = i.math && f.f ? "=" == f.f.charAt(0) ? f.f : "=" + f.f : "d" == f.t && I(f.v) ? A.dateFormatStr(f.v) : f.v, _.push(p), f.s && n.push([u - v, c - d, f.s]), f.t && h.push([u - v, c - d, a[f.t]]) } else _.push(""); e.push(_) } if (t["!merges"]) for (var b = t["!merges"], m = 0; m < b.length; m++) { var g = b[m].s, w = b[m].e; (!i.rows || 0 <= g.r - v && w.r - v <= i.rows[1]) && s.push([g.r - v, g.c - d, w.c - g.c + 1, w.r - g.r + 1]) } if (t["!cols"]) for (var x = t["!cols"], y = 0; y < x.length; y++) { var M = x[y]; if (M) { var S = y - d; r.push(["column", S, Math.round(M.wch / (8.43 / 70))]), M.hidden && o.push(["column", S]) } } if (t["!rows"]) for (var k = t["!rows"], C = 0; C < k.length; C++) { var $ = k[C]; if ($) { var D = C - v; r.push(["row", D, $.hpx]), $.hidden && o.push(["row", D]) } }
			} return { data: e, spans: s, styles: n, sizes: r, types: h, hidden: o, excel: !0 }
		}, R: function(t) { var i = t.split("["), e = {}; if (e.name = i[0], i[1]) { var s = i[1].split(/[^0-9]+/g); s[0] = 1 * s[0] || 0, s[1] = 1 * s[1] || 9999999, e.rows = s } return e }
	}, Y), Bt = { json: R, jsarray: Y, xml: H, csv: { toObject: function(t) { return t }, getRecords: function(t) { return t.split(this.row) }, getDetails: function(t) { t = this.stringToArray(t); for (var i = {}, e = 0; e < t.length; e++)i["data" + e] = t[e]; return null !== this.idColumn && (i.id = t[this.idColumn]), i }, getOptions: function() { return !1 }, getInfo: function() { return { size: 0 } }, stringToArray: function(t) { t = t.split(this.cell); for (var i = 0; i < t.length; i++)t[i] = t[i].replace(/^[ \t\n\r]*("|)/g, "").replace(/("|)[ \t\n\r]*$/g, ""); return t }, idColumn: null, row: "\n", cell: "," }, html: q, htmltable: Ft, excel: zt }, Ht = {}, Rt = {
		$init: function(t) { this.data = {}, this.waitData = b.defer(), t && (this.P.datatype = t.datatype || "json"), this.$ready.push(this.j) }, j: function() { this.N = !0, this.P.url && this.url_setter(this.P.url), this.P.data && this.data_setter(this.P.data) }, url_setter: function(t) { return t = U.$parse(t), this.N && this.load(t, this.P.datatype), t }, data_setter: function(t) { return this.N ? (this.parse(t, this.P.datatype), !0) : t }, load: function(t, i) { var e, s = this, n = arguments[2] || null; "string" == typeof i && (e = i, i = arguments[2]); var r = this.O(t, e, n); if (r && r.then) return r.then(function(t) { return s.W(t), i && E.$callback(s, i, "", t, -1), t }, function(t) { return s.U(t) }) }, O: function(t, i, e) { var s, n = this; if (!i && this.data.driver || (this.data.driver = Bt[i || "json"]), !this.callEvent("onBeforeLoad", [])) return b.reject(); (s = (t = U.$parse(t)).$proxy && t.load ? t.load(this, e) : "function" == typeof t ? t.call(this, e) : E().bind(this).get(t)) && !s.then && (s = b.resolve(s)); var r = this.Y; return s && s.then ? s.then(function(t) { return n.$destructed || r && n.Y !== r ? b.reject(Ht) : t }) : s }, parse: function(t, i) { if (t && "function" == typeof t.then) { var e = this.Y; return t.then(S(function(t) { if (this.$destructed || e && this.Y !== e) return b.reject(); this.parse(t, i) }, this)) } if (t && t.sync && this.sync) this.q(t); else { if (!this.callEvent("onBeforeLoad", [])) return b.reject(); !i && this.data.driver || (this.data.driver = Bt[i || "json"]), this.W(t) } return b.resolve() }, q: function(t) { this.data && this.data.attachEvent && this.data.attachEvent("onSyncApply", S(function() { this.G && this.G() }, this)), this.sync(t) }, X: function(t) { var i, e, s = this.data.driver; i = (e = s.getRecords(t)[0]) ? s.getDetails(e) : {}, this.setValues ? this.setValues(i, !1, "auto") : this.data = i }, K: function(t) { t ? this.$onLoad && this.$onLoad(t, this.data.driver) || (this.data && this.data.X ? this.data.X(t) : this.X(t)) : this.U(t), this.G && this.G(), this.callEvent("onAfterLoad", []), this.waitData.resolve() }, W: function(t) { var i = this; t && "function" == typeof t.text && !t.name && (t = t.text()), (t = this.data.driver.toObject(t)) && t.then ? t.then(function(t) { return i.K(t) }) : this.K(t) }, U: function(t) { return t !== Ht && (this.$destructed || (this.callEvent("onAfterLoad", []), this.callEvent("onLoadError", arguments)), y("onLoadError", [t, this])), b.reject(t) }, J: function(t) {
			if (!this.P.dataFeed || this.Z || !t) return !0; var i = this.P.dataFeed; return "function" == typeof i ? i.call(this, t.id || t, t) : (i = i + (-1 == i.indexOf("?") ? "?" : "&") + "action=get&id=" + encodeURIComponent(t.id || t), this.callEvent("onBeforeLoad", []) && E(i, function(t, i, e) {
				this.Z = !0; var s = Bt.json, n = s.toObject(t, i); n ? this.setValues(s.getDetails(s.getRecords(n
				)[0]), !1, "auto") : this.U(e), this.Z = !1, this.callEvent("onAfterLoad", [])
			}, this), !1)
		}
	}, Et = { collapseNames: function(t, i, e, s) { if (e = e || {}, i = i || "", s = s || function() { return !0 }, !t || "object" != M(t)) return null; for (var n in t) { var r = t[n], h = i + n; r && "object" == M(r) && !I(r) && !$(r) && s(h) ? Et.collapseNames(r, h + ".", e, s) : e[h] = r } return e }, expandNames: function(t) { var i, e, s, n, r, h = {}; for (r in t) { for (e = (s = r.split(".")).length - 1, n = h, i = 0; i < e; i++)n[s[i]] || (n[s[i]] = {}), n = n[s[i]]; n[s[e]] = t[r] } return h } }, Pt = {}, jt = {}, Nt = new RegExp("(\\r\\n|\\n)", "g"), Lt = new RegExp('(\\")', "g"), Ot = new RegExp("(\\\\)", "g"), Wt = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, Ut = /[&<>"'`]/g, Yt = function(t) { return Wt[t] || "&amp;" }; function qt(e) { if ("function" == typeof e) return e; if (Pt[e]) return Pt[e]; if (-1 != (e = (e || "").toString()).indexOf("->")) { var t = e.split("->"); switch (t[0]) { case "html": e = dt(t[1]); break; case "http": e = (new E).sync().get(t[1], { uid: z() }).responseText } } if (e = (e || "").toString(), G.strict) { if (!jt[e]) { jt[e] = []; var r = []; if (e.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g, function(t, i, e, s, n) { r.push({ pos: n, str: t, fn: function(t) { return t[i] ? e : s } }) }), e.replace(/\{common\.([^}(]*)\}/g, function(t, e, i) { r.push({ pos: i, str: t, fn: function(t, i) { return i[e] || "" } }) }), e.replace(/\{common\.([^}(]*)\(\)\}/g, function(t, e, i) { r.push({ pos: i, str: t, fn: function(t, i) { return i[e] ? i[e].apply(this, arguments) : "" } }) }), e.replace(/\{obj\.([^:}]*)\}/g, function(t, i, e) { r.push({ pos: e, str: t, fn: function(t) { return t[i] } }) }), e.replace("{obj}", function(t, i) { r.push({ pos: i, str: t, fn: function(t) { return t } }) }), e.replace(/#([^#'";, ]+)#/gi, function(t, i, e) { "!" == i.charAt(0) ? (i = i.substr(1), r.push({ pos: e, str: t, fn: function(t) { return -1 != i.indexOf(".") && (t = Et.collapseNames(t)), qt.escape(t[i]) } })) : r.push({ pos: e, str: t, fn: function(t) { return -1 != i.indexOf(".") && (t = Et.collapseNames(t)), t[i] } }) }), r.sort(function(t, i) { return t.pos > i.pos ? 1 : -1 }), r.length) { for (var i = 0, s = function(t, i, e) { jt[t].push(function() { return t.slice(i, e) }) }, n = 0; n < r.length; n++) { var h = r[n].pos; s(e, i, h), jt[e].push(r[n].fn), i = h + r[n].str.length } s(e, i, e.length) } else jt[e].push(function() { return e }) } return function() { for (var t = "", i = 0; i < jt[e].length; i++)t += jt[e][i].apply(this, arguments); return t } } var o = !1; e = (e = (e = (e = (e = (e = (e = (e = (e = e.replace(Ot, "\\\\")).replace(Nt, "\\n")).replace(Lt, '\\"')).replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g, '"+(obj.$1?"$2":"$3")+"')).replace(/\{common\.([^}(]*)\}/g, "\"+(common.$1||'')+\"")).replace(/\{common\.([^}(]*)\(\)\}/g, '"+(common.$1?common.$1.apply(this, arguments):"")+"')).replace(/\{obj\.([^}]*)\}/g, '"+(obj.$1)+"')).replace("{obj}", '"+obj+"')).replace(/#([^#'";, ]+)#/gi, function(t, i) { return "!" == i.charAt(0) ? (o = !0, '"+template.escape(obj.' + i.substr(1) + ')+"') : '"+(obj.' + i + ')+"' }); try { if (o) { var a = Function("obj", "common", "marks", "value", "template", 'return "' + e + '";'); Pt[e] = function(t, i, e, s) { return a(t, i, e, s, qt) } } else Pt[e] = Function("obj", "common", 'return "' + e + '";') } catch (Eo) { } return Pt[e] } qt.escape = function(t) { return t === undefined || null === t ? "" : (t.toString() || "").replace(Ut, Yt) }, qt.empty = function() { return "" }; var Gt = { Q: function(t) { return t.$empty ? "" : this.P.template(t, this) }, render: function() { var t = this.P; return !!this.isVisible(t.id) && (this.callEvent && !this.callEvent("onBeforeRender", [this.data]) || (this.data && !t.content && (this.tt.innerHTML = "", this.tt.innerHTML = this.Q(this.data)), this.callEvent && this.callEvent("onAfterRender", [])), !0) }, sync: function(i) { this.it = !1, "DataStore" != i.name && (i.data && "DataStore" == i.data.name ? i = i.data : this.it = !0), this.it ? i.bind("change", S(function(t) { t.id == this.data.id && (this.data = t.attributes, this.refresh()) }, this)) : i.attachEvent("onStoreUpdated", S(function(t) { t && t != this.data.id || (this.data = i.pull[t], this.refresh()) }, this)) }, template_setter: qt }, Xt = {
		et: function(t) {
			var i, e, s = this.P.dragscroll; "string" != typeof s && (s = this.P.layout || "xy"), e = -1 !== s.indexOf("x"), i = -1 !== s.indexOf("y"); var n = bt(this.st || this.$view), r = Math.max((this.P.rowHeight || (this.type && !isNaN(parseFloat(this.type.height)) ? this.type.height : 0)) + 5, 40), h = !1; i && this.nt(t, n, r) && (h = !0), e && this.rt(t, n, r) && (h = !0), h && (this.ht = k(this.et, this, [t], 100))
		}, ot: function(t) { var i = this.P.dragscroll; if ("string" != typeof i || -1 !== i.indexOf("x")) { var e = bt(this.k || this.$view), s = Math.max(this.P.headerRowHeight || 0, 40); this.rt(t, e, s) && (this.ht = k(this.ot, this, [t], 100)) } }, nt: function(t, i, e) { var s = i.y, n = s + i.height, r = this.getScrollState(), h = this.P; if (h.topSplit) { var o = this.at(this.getIdByIndex(h.topSplit - 1), this.columnId(0)); s += o.top + o.height } return t.y < s + e ? this.ut(r.x, r.y - 2 * e, t, "y") : t.y > n - e && this.ut(r.x, r.y + 2 * e, t, "y") }, rt: function(t, i, e) { var s = i.x, n = s + i.width, r = this.getScrollState(); return t.x < s + e ? this.ut(r.x - 2 * e, r.y, t, "x") : t.x > n - e && this.ut(r.x + 2 * e, r.y, t, "x") }, ut: function(t, i, e, s) { return !!this.callEvent("onBeforeAutoScroll", [e]) && (this.scrollTo(t, i), this.callEvent("onAfterAutoScroll", []), this.getScrollState()[s] === ("x" === s ? t : i)) }
	}, Kt = {}; function Jt() { for (var t in Kt) ti(t) } function Zt(t, i, e, s) { (s = s || {}).inner = !0, Qt(t, i, e, s) } function Qt(t, i, e, s) { s = s || {}, t = C(t); var n = s.id || z(); s.bind && (e = S(e, s.bind)); var r = [t, i, e, s.capture]; s.inner || (Kt[n] = r); var h = !!s.capture; return !V(s.passive) && G.passiveEventListeners && (h = { passive: s.passive, capture: h }), t.addEventListener ? t.addEventListener(i, e, h) : t.attachEvent && t.attachEvent("on" + i, r[2] = function() { return e.apply(t, arguments) }), n } function ti(t) { if (t) { Kt[t]; var i = Kt[t]; i[0].removeEventListener ? i[0].removeEventListener(i[1], i[2], !!i[3]) : i[0].detachEvent && i[0].detachEvent("on" + i[1], i[2]), delete Kt[t] } } function ii(t, i) { if (t.$protoWait) return t.ct || (t.ct = []), void t.ct.push(i); "function" == typeof t && (t = t.prototype), t.types || (t.types = { "default": t.type }, t.type.name = "default"); var e = i.name, s = t.type; for (var n in e && (s = t.types[e] = l(i.baseType ? t.types[i.baseType] : t.type)), i) 0 === n.indexOf("template") ? s[n] = qt(i[n]) : s[n] = i[n]; return e } var ei = { top_views: [], ft: null, lt: null, dt: null, vt: null, _t: null, pt: null, bt: null, mt: null, gt: 0, wt: null, xt: null, yt: [], destructors: [], Mt: null, St: [], kt: D(), Ct: null }, si = {}; function ni(t, i, e) { var s; ei.gt++; var n = ei.ft; ei.ft = t.$scope || n; try { s = function l(t, i, e) { var s, n = $(t), r = C(t.container || i || document.body); r.P && (e = function f(t, i, e) { var s = [t]; if (i) s = t.getChildViews(); else if (t.$t) s = [t.$t]; else { if ("number" == typeof e) return e; if (e) return hi(s = [ai(e)]), s[0].config.id } return hi(s), e }(r, n, e)); var h = !1, o = r == document.body; t.P || r && n ? (s = t, h = !0) : (r && o && (t.$topView = !0), t.Dt || (t.Dt = {}), i && i.getParentView && (ei.bt = e || 0 === e ? i : i.getParentView()), s = oi(t)); !o || s.setPosition || s.$apiOnly || d("_fixHeight")(); if (s.P && s.P.It && !r.$view) s.P.At = r; else if (!s.$apiOnly) if (r.appendChild) ri(r, s, t); else if (r.destructor) { var a = r; if (e || 0 === e || $(s) || (r = (e = r).getParentView()), r && r.Ft) { if (h && s.getParentView) { var u = s.getParentView(); u && u.Tt && u.Tt(s), s.bt = r, s.$scope = r.$scope } r.Ft(s, e) } else { var c = a.$view.parentNode; a.destructor(), ri(c, s, t) } } else t.container; return s }(t, i, e) } finally { ei.gt--, ei.ft = n } return s } function ri(t, i, e) { t.appendChild(i.Vt), i.getParentView() || (((!i.setPosition || i.P.fullscreen) && t == document.body || i.P.position) && ei.top_views.push(i.zt), e.skipResize || i.adjust()) } function hi(t) { for (var i = t.length - 1; 0 <= i; i--) { var e = t[i]; delete si[e.config.id], e.config.id = "x" + z(), (si[e.config.id] = e).getChildViews && hi(e.getChildViews()), e.Bt && hi(e.Bt) } } function oi(t) { if (t.view) { var i = t.view; return new ni[i](t) } if (t.rows || t.cols) { for (var e = t.rows || t.cols, s = !1, n = 0; n < e.length; n++)!e[n].body || e[n].view || e[n].align || (s = !0); return s ? new ni.headerlayout(t) : new ni.layout(t) } return t.cells ? new ni.multiview(t) : t.template || t.content ? new ni.template(t) : t.align && t.body ? new ni.align(t) : new ni.spacer(t) } function ai(t) { if (!t) return null; if (si[t]) return si[t]; var i = t; if ("object" == M(t)) { if (t.P) return t; i = t.target || t } return si[pt({ target: C(i) }, "view_id")] } ni.views = si, ni.Ht = oi, "undefined" == typeof window.$$ && (window.$$ = ai), T.protoUI = function() {
		var r = arguments[0].name, h = function(t) {
			if (!h) return ni[r].prototype; var i = h.$protoWait; if (i) { for (var e = [i[0]], s = 1; s < i.length; s++)e[s] = i[s], e[s].$protoWait && (e[s] = e[s].call(-1, e[s].name)), e[s].prototype && e[s].prototype.name && (ni[e[s].prototype.name] = e[s]); if (ni[r] = T.proto.apply(-1, e), h.ct) for (var n = 0; n < h.ct.length; n++)ii(ni[r], h.ct[n]); h = i = null } return -1 != this ? new ni[r](t
			) : ni[r]
		}; return h.$protoWait = Array.prototype.slice.call(arguments, 0), ni[r] = h
	}, T.proto = function() { for (var t = arguments, i = t[0], e = !!i.$init, s = [], n = t.length - 1; 0 < n; n--) { if (t[n], "function" == typeof t[n] && (t[n] = t[n].prototype), t[n].$init && s.push(t[n].$init), t[n].defaults) { var r = t[n].defaults; for (var h in i.defaults || (i.defaults = {}), r) V(i.defaults[h]) && (i.defaults[h] = r[h]) } if (t[n].type && i.type) for (var o in t[n].type) i.type[o] || (i.type[o] = t[n].type[o]); for (var a in t[n]) i[a] || !1 === i[a] || (i[a] = t[n][a]) } e && s.push(i.$init), i.$init = function() { for (var t = 0; t < s.length; t++)s[t].apply(this, arguments) }, i.$skin && i.$skin(); var u = function(t) { this.$ready = [], this.$init, this.$init(t), this.Rt && this.Rt(t, this.defaults); for (var i = 0; i < this.$ready.length; i++)this.$ready[i].call(this) }; return u.prototype = i, i = t = null, u }, F("onClick", function(t) { var i = ai(t); if (i && i.touchable) { d("UIManager").applyChanges(i), i.getNode(t); var e = t.target; if (i.config.disabled) return; var s = ""; if (e.className && 0 === e.className.toString().indexOf("webix_view")) return; for (i && d("UIManager").Et(i); e && e.parentNode;) { if (e.getAttribute) { if (e.getAttribute("view_id")) break; if (s = e.className) { s = s.toString().split(" "); for (var n = 0; n < s.length; n++) { if (i.on_click[s[n]]) if (!1 === i.on_click[s[n]].call(i, t, i.P.id, e)) return } } } e = e.parentNode } if (i.P.click) { var r = v(i.P.click, i.$scope); r && r.call && r.call(i, i.P.id, t) } var h = i.P.popup; h && !i.P.readonly && ("object" != M(h) || h.name || (h = i.P.popup = ni(h).P.id, i.Bt.push(ai(h))), (h = ai(h)).isVisible() || (h.P.master = i.P.id, h.show(i.getInputNode() || i.getNode(), null, !0))), i.callEvent("onItemClick", [i.P.id, t]) } }); var ui = { Pt: D(["dummy"]), jt: 0, overflow: !1, delay: 400, addTooltip: function(t, i) { var e, s, n = this; (t = C(t)) instanceof Element ? (e = t, "string" == typeof i ? e.setAttribute("webix_tooltip", i) : s = i) : (e = t.$view, s = t), s = s || this; var r = this.Pt.find(s); -1 === r && (r = this.Pt.length, this.Pt.push(s)), e.webix_tooltip = r, this.jt++, this.Nt || (this.Nt = new ni.tooltip({}), this.Nt.Lt = "webix_tooltip webix_global_tooltip", this.Ot = Qt(document, "mousemove", this.Wt, { bind: this }), this.Ut = Qt(document, "mouseleave", this.Yt, { bind: this }), this.qt = F("onDragMode", function() { return n.Yt() }), this.Gt = F("onClick", function() { return n.Yt() })) }, getTooltip: function() { return this.Nt }, Wt: function(t) { for (var i = {}, e = t.target; e instanceof Element && "HTML" != e.tagName;) { if (!i.first || !i.overflow) { var s = e.getAttribute("webix_tooltip"); i.first = i.first || s, s && e.scrollWidth > e.clientWidth && (i.overflow = s) } if (this.Pt[e.webix_tooltip]) return this.Xt && this.Xt != e ? (this.$tooltipOut(this.Xt, e, t), void (this.Xt = null)) : (this.Xt || (this.Xt = this.$tooltipIn(e, t)), this.$tooltipMove(e, t, i)); e = e.parentElement } this.Xt && (this.Xt = this.$tooltipOut(this.Xt, null, t)) }, Yt: function() { clearTimeout(this.Kt), this.Nt.hide() }, getMaster: function(t) { return this.Pt[t.webix_tooltip] }, removeTooltip: function(t) { var i, e = (i = (t = C(t)) instanceof Element ? t : t.$view).webix_tooltip; e && (this.Xt == i && (this.Yt(), this.Xt = null), delete i.webix_tooltip, this.jt--, this.Pt[e] = null), !this.jt && this.Nt && (this.Ot = ti(this.Ot), this.Ut = ti(this.Ut), this.qt = B(this.qt), this.Gt = B(this.Gt), this.Nt.destructor(), this.Nt = this.Xt = null, this.Pt = D(["dummy"])) }, $tooltipIn: function(t, i) { var e = this.Pt[t.webix_tooltip]; return e.$tooltipIn && e != this ? e.$tooltipIn(t, i) : (this.Nt.define({ dx: 20, dy: 0, template: "", css: "" }), t) }, $tooltipOut: function(t, i, e) { var s = this.Pt[t.webix_tooltip]; return s.$tooltipOut && s != this ? s.$tooltipOut(t, i, e) : (this.Yt(), null) }, $tooltipMove: function(t, i, e) { var s = this.Pt[t.webix_tooltip]; if (s.$tooltipMove && s != this) return s.$tooltipMove(t, i, e); var n = V(s.overflow) ? this.overflow : s.overflow, r = V(s.delay) ? this.delay : s.delay, h = n ? e.overflow : e.first; 0 < r && this.Yt(), this.Kt = k(this.Nt.show, this.Nt, [h || {}, gt(i)], r) } }; function ci(t) { return "$" + t + (fi[t] = (fi[t] || 0) + 1) } var fi = {}, li = !1; function di(t, i) { li = !0; var e = t(); return e && e.then ? e = e.then(function(t) { return (li = !1) !== i && vi(), t }) : (li = !1) !== i && vi(), e } function vi() { if (d("UIManager").applyChanges(), y("onClick", []), ei.Jt = !0, !li) for (var t = ei.top_views.length - 1; 0 <= t; t--)ei.top_views[t].obj && ei.top_views[t].obj.resize(); ei.Jt = !1 } function _i(t, i, e, s) {
		if (t) for (var n = s ? [t
		] : t.getChildViews(), r = 0; r < n.length; r++)!1 !== i.call(e, n[r]) && _i(n[r], i, e)
	} function pi(t) { return V(t) ? G.zIndexBase++ : (G.zIndexBase = Math.max(G.zIndexBase, t + 1), t) } function bi(t) { mi ? t.call() : gi.push(t) } Qt(window, "resize", function() { G.touch && ei.mt && new Date - ei.mt < 1e3 || vi() }); var mi = !1, gi = [], wi = document.getElementsByTagName("SCRIPT"); wi.length, wi.length && ((wi = (wi[wi.length - 1].getAttribute("src") || "").split("/")).splice(wi.length - 1, 1), G.codebase = wi.slice(0, wi.length).join("/") + "/"); var xi = function() { G.isIE && (document.body.className += " webix_ie"), y("onReady", []) }, yi = function() { mi = !0, window.webix_ready && $(webix_ready) && (gi = webix_ready.concat(gi)); for (var t = 0; t < gi.length; t++)gi[t].call(); gi = [] }; F("onReady", function(t) { t ? yi() : k(yi) }), "complete" == document.readyState ? xi() : Qt(window, "load", xi), bi(function() { Qt(document.body, "click", function(t) { y("onClick", [t || window.event]) }) }); var Mi = { set: function(t, i) { i = i || {}, this.Ht && this.exit(), ai(t) ? t = ai(t) : ("string" == typeof t && (t = document.getElementById(t)), t instanceof Element && (t = { $view: t, $html: !0 })), this.Ht = t, this.Zt = this.Qt(); var e = t.config; t.setPosition ? (e.fullscreen = !0, t.resize()) : (this.ti = ni({ view: "window", head: this.ii(i), fullscreen: !0, borderless: !0, body: { rows: [] } }), e && (this.ei = { width: e.width, minWidth: e.minWidth, maxWidth: e.maxWidth, height: e.height, minHeight: e.minHeight, maxHeight: e.maxHeight }), t.getParentView && t.getParentView() ? (this.si = t.getParentView(), this.si.index && (this.Zt.index = this.si.index(t), this.Zt.active = !!this.si.getActiveId && this.si.getActiveId() == e.id)) : (this.si = t.$view.parentNode, this.Zt.node = lt("div"), this.si.replaceChild(this.Zt.node, t.$view)), this.ti.getBody().addView(t.$html ? { view: "template", content: t.$view, css: "webix_fullscreen_html" } : t), this.ti.show(), this.ni(t)) }, exit: function() { if (this.Ht) { var t = this.Ht.config; this.Qt(!0), this.Ht.setPosition ? (t.fullscreen = !1, this.Ht.resize()) : (this.si instanceof Element ? (this.Ht.bt = null, this.Ht.ri && this.Ht.ri(this.Ht.config), this.si.replaceChild(this.Ht.$view, this.Zt.node)) : V(this.Zt.index) ? (this.Ht.bt = this.si, this.si.Ft(this.Ht)) : (this.si.addView(this.Ht, this.Zt.index), this.Zt.active && this.Ht.show(!1, !1)), this.ni(this.Ht, this.ei), this.Ht.$html || (this.ti.getBody().hi = []), this.ti.close()), this.oi() } }, oi: function() { delete this.si, delete this.Ht, delete this.ei, delete this.Zt, delete this.ti }, Qt: function(i) { var e = this, t = this.Ht, s = {}; if (t.setPosition) i ? t.setPosition(this.Zt.left, this.Zt.top) : (s.left = t.config.left, s.top = t.config.top, t.setPosition(0, 0)); else { var n = t.$view.style;["position", "top", "bottom", "left", "right"].forEach(function(t) { n[t] = i ? e.Zt[t] : (s[t] = n[t], "position" == t ? "relative" : 0) }) } return s }, ni: function(t, i) { t.$html || (i = i || { height: 0, minHeight: 0, maxHeight: 0, width: 0, minWidth: 0, maxWidth: 0 }, t.define(i), t.resize()) }, ii: function(t) { var i = this; return !1 === t.head || "object" == M(t.head) ? t.head : { cols: [{ template: t.head || "", type: "header", borderless: !0 }, { view: "icon", icon: "wxi-close", click: function() { i.exit() } }] } } }, Si = {
		Ht: null, ai: {}, mt: 0, ci: 0, fi: 0, li: { esc: "escape", up: "arrowup", down: "arrowdown", left: "arrowleft", right: "arrowright", pgdown: "pagedown", pgup: "pageup", space: " ", multiply: "*", add: "+", subtract: "-", decimal: ".", divide: "/", pausebreak: "pause", "5numlocked": "clear" }, di: { input: 1, button: 1, textarea: 1, select: 1 }, vi: function() { Qt(document, "keydown", this._i, { bind: this }), Qt(document.body, "click", this.pi, { capture: !0, bind: this }), Qt(document.body, "mousedown", function() { this.fi = new Date }, { bind: this }), Qt(document.body, "focus", this.bi, { capture: !0, bind: this }), ei.destructors.push({ obj: this }) }, destructor: function() { Si.Ht = null }, getFocus: function() { return this.Ht }, Et: function(t) { this.mi = this.mi || t.P.id }, setFocus: function(t, i, e) { return (t = ai(t)) && !t.$view && (t = null), this.mt = ei.mt = new Date, this.Ht === t || (this.Ht && this.Ht.callEvent && this.Ht.callEvent("onBlur", [this.Ht]), t && t.callEvent && (t.callEvent("onFocus", [t, this.Ht]), e && t.callEvent("onTabFocus", [t, this.Ht])), y("onFocusChange", [t, this.Ht]), this.Ht && this.Ht.blur && !i && this.Ht.blur(), (this.Ht = t) && t.focus && !i && t.focus()), !0 }, applyChanges: function(t) { var i = this.getFocus(); i && i != t && i.gi && i.gi(t) }, hasFocus: function(t) {
			return t === this.Ht
		}, wi: function(t) { var i = pt(t, "view_id") || this.mi; return i = ai(i), this.mi = null, ei.mt = new Date, i == this.Ht || (i ? this.canFocus(i) ? this.Ht && this.Ht.getFormView() == i && this.Ht.focus ? this.Ht.focus() : this.setFocus(i) : i.$view.contains(t.target) && t.target.blur() : this.setFocus(null)), !0 }, pi: function(t) { return new Date - this.mt < 100 ? (this.mi = null, !1) : this.wi(t) }, bi: function(t) { return !!this.di[t.target.nodeName.toLowerCase()] && this.wi(t) }, xi: function(t) { var i = ei.St; return !i.length || ((t.queryView(function(t) { return !t.getParentView() }, "parent") || t).$view.style.zIndex || 0) >= Math.max.apply(Math, o(i)) }, canFocus: function(t) { return t.isVisible() && t.isEnabled() && !t.config.disabled && this.xi(t) && !t.queryView({ disabled: !0 }, "parent") }, yi: function(t) { var i = this.getFocus(); if (t && !this.Mi(t, i)) return !1; this.Si("getPrev", t) || (this.Ht = null) }, Mi: function(t, i) { if (!t) return !1; if (!i) return !1; for (; i;) { if (i === t) return !0; i = i.getParentView() } return !1 }, ki: function() { this && this.callEvent && this.callEvent("onTimedKeyPress", []) }, _i: function(t) { var i = t.which || t.keyCode; 95 < i && i < 106 && (i -= 48); var e = this.getFocus(); if (e && e.callEvent && (!1 === e.callEvent("onKeyPress", [i, t]) && wt(t), e.hasEvent("onTimedKeyPress") && (clearTimeout(e.Ci), e.Ci = k(this.ki, e, [], e.P.keyPressTimeout || 250))), !1 === this.$i(t)) return wt(t), !1 }, Si: function(t, i) { var e = i || this.getFocus(); if (e) { t = t || "getNext"; for (var s = e, n = z(); ;) { if ((e = this[t](e)) && this.canFocus(e)) return this.setFocus(e); if (e === s || e.$fmarker == n) return i && document.activeElement.blur(), null; e.$fmarker = n } } }, Di: function(t, i) { var e = !i.shiftKey; if (Si.ci = new Date, t && t.Ii && !t.Ii(e, i)) return !1; if (t && t.Ai) { if (t.editNext) return t.editNext(e); if (t.editStop) return t.editStop(), !0 } else k(function() { if ((t = ai(document.activeElement)) && !Si.canFocus(t)) return Si.Si(e ? "getNext" : "getPrev", t); Si.setFocus(t, !0, !0) }) }, getTop: function(t) { for (var i, e = ai(t); e && (i = e.getParentView());)e = i; return e }, getNext: function(t, i) { var e = t.getChildViews(); if (e.length && !i) for (var s = 0; s < e.length; s++)if (this.canFocus(e[s])) return e[s]; var n = t.getParentView(); if (!n) return t; var r = n.getChildViews(); if (r.length) for (var h = x.find.call(r, t) + 1; h < r.length;) { if (this.canFocus(r[h])) return r[h]; h++ } return this.getNext(n, !0) }, getPrev: function(t, i) { var e = t.getChildViews(); if (e.length && i) for (var s = e.length - 1; 0 <= s; s--)if (this.canFocus(e[s])) return this.getPrev(e[s], !0); if (i && this.canFocus(t)) return t; var n = t.getParentView(); if (!n) return this.canFocus(t) ? this.getPrev(t, !0) : t; var r = n.getChildViews(); if (r) for (var h = x.find.call(r, t) - 1; 0 <= h;) { if (this.canFocus(r[h])) return this.getPrev(r[h], !0); h-- } return this.getPrev(n, !0) }, addHotKey: function(t, i, e) { var s = this.Fi(t); return e || (e = null), this.ai[s] || (this.ai[s] = []), this.ai[s].push({ handler: i, view: e }), t }, removeHotKey: function(t, i, e) { var s = this.Fi(t); if (i || e) { var n = this.ai[s]; if (n) { for (var r = n.length - 1; 0 <= r; r--)e && n[r].view !== e || i && n[r].handler !== i || n.splice(r, 1); n.length || delete this.ai[s] } } else delete this.ai[s] }, Ti: function(t, i, e, s, n) { return (t || "").toLowerCase() + "_" + ["", i ? "1" : "0", e ? "1" : "0", s ? "1" : "0", n ? "1" : "0"].join("") }, $i: function(t) { var i = t.which || t.keyCode, e = !t.ctrlKey && !t.altKey && !t.metaKey && 9 != i && 27 != i && 13 != i, s = this.Ti(t.key, t.ctrlKey, t.shiftKey, t.altKey, t.metaKey), n = this.getFocus(); return this.ai[s] ? this.Vi(this.ai[s], n, t) : !e || !this.ai.any_0000 || this.Vi(this.ai.any_0000, n, t) }, Vi: function(t, i, e) { for (var s = 0; s < t.length; s++) { var n = t[s]; if (null === n.view || i === n.view || "string" == typeof n.view && i && i.name === n.view) { var r = n.handler(i, e); if (!!r === r) return r } } return !0 }, Fi: function(t) { var i, e, s, n, r = this.li, h = t.toLowerCase().split(/[ +\-_]/); i = e = s = n = 0; for (var o = "", a = 0; a < h.length; a++)"ctrl" === h[a] ? i = 1 : "shift" === h[a] ? e = 1 : "alt" === h[a] ? s = 1 : "command" === h[a] ? n = 1 : o = r[h[a]] || h[a]; return this.Ti(o, i, e, s, n) }, getState: function(t, i) { i = i || !1; var e = { id: (t = ai(t)).config.id, width: t.config.width, height: t.config.height, gravity: t.config.gravity }; if (V(t.config.collapsed) || (e.collapsed = t.config.collapsed), "tabs" !== t.name && "tabbar" !== t.name || (e.activeCell = t.getValue()), i && (e = [e], t.hi)) for (var s = 0; s < t.hi.length; s++)e = e.concat(this.getState(t.hi[s], i)); return e },
		setState: function(t) { $(t) || (t = [t]); for (var i = 0; i < t.length; i++) { var e = t[i], s = ai(e.id); s && (V(e.collapsed) || s.define("collapsed", e.collapsed), V(e.activeCell) || s.setValue(e.activeCell, "auto"), s.define("width", e.width), s.define("height", e.height), s.define("gravity", e.gravity)) } var n = ai(t[0].id); n && n.resize() }
	}; bi(function() { Si.vi(), Si.addHotKey("enter", function(t, i) { if (t && t.callEvent && t.callEvent("onEnter", [i]), t && t.editStop && t.Ai) return t.editStop(), !0; if (t && t.touchable) { var e = t.getFormView(); e && !t.zi && e.callEvent("onSubmit", [t, i]) } }), Si.addHotKey("esc", function(t) { if (t) { if (t.editCancel && t.Ai) return t.editCancel(), !0; var i = t.getTopParentView(); i && i.setPosition && (Mi.ti == i && Mi.exit(), i.Bi()) } }), Si.addHotKey("shift+tab", Si.Di), Si.addHotKey("tab", Si.Di) }), t("UIManager", Si); var ki = { $init: function() { this.P = this.config = {} }, define: function(t, i) { return "object" == M(t) ? this.Hi(t) : this.Ri(t, i) }, Ri: function(t, i) { var e = this[t + "_setter"]; return this.P[t] = e ? e.call(this, i, t) : i }, Hi: function(t) { if (t) for (var i in t) this.Ri(i, t[i]) }, Rt: function(t, i) { var e = {}; i && (e = T.extend(e, i)), "object" != M(t) || t.tagName || T.extend(e, t, !0), this.Hi(e) }, Ei: function(t, i) { for (var e in i) switch (M(t[e])) { case "object": t[e] = this.Ei(t[e] || {}, i[e]); break; case "undefined": t[e] = i[e] }return t } }, Ci = { $init: function() { var t = this.zt = this.zt || { obj: this }; ei.destructors.push(t) }, destructor: function() { var t = this.P; if (this.Pi && this.editCancel(), this.callEvent && this.callEvent("onDestruct", []), this.destructor = function() { }, this.zt.obj = null, this.getChildViews) { var i = this.getChildViews(); if (i) for (var e = 0; e < i.length; e++)i[e].destructor(); if (this.Bt) for (var s = 0; s < this.Bt.length; s++)this.Bt[s].destructor() } if (delete ni.views[t.id], t.$id) { var n = this.getTopParentView(); n && n.ji && n.ji(t.$id) } this.Ni = null, this.Li = null, this.Oi = null, this.Wi && (this.Wi.innerHTML = "", this.Wi.Ni = null), this.Vt && this.Vt.parentNode && this.Vt.parentNode.removeChild(this.Vt), this.data && this.data.destructor && this.data.destructor(), this.unbind && this.unbind(), this.data = null, this.bt = null, this.Vt = this.$view = this.Wi = this.tt = null, this.o = this.u = this.l = {}, Si.Ht == this && (Si.Ht = null); var r = t.url; r && r.$proxy && r.release && r.release(), this.$scope = null, this.$destructed = !0 } }; Qt(window, "unload", function() { y("unload", []), ei.xt = !0; for (var t = 0; t < ei.destructors.length; t++) { var i = ei.destructors[t].obj; i && i.destructor() } ei.destructors = [], ei.kt = D(), Jt() }); var $i = { $init: function() { this.Ui = null, this.attachEvent("onSelectChange", function() { var t = this.getSelectedId(); this.setCursor(t ? t.id || t : null) }), this.attachEvent("onAfterCursorChange", this.Yi), this.attachEvent("onAfterDelete", function(t) { t == this.getCursor() && this.setCursor(null) }), this.data.attachEvent("onStoreUpdated", S(function(t, i, e) { t && t == this.getCursor() && "paint" != e && "delete" != e && this.Yi() }, this)), this.data.attachEvent("onClearAll", S(function() { this.Ui = null }, this)), this.data.attachEvent("onIdChange", S(function(t, i) { this.Ui == t && (this.Ui = i, this.Yi()) }, this)) }, refreshCursor: function() { this.Ui && this.callEvent("onAfterCursorChange", [this.Ui]) }, setCursor: function(t) { t == this.Ui || null !== t && !this.getItem(t) || (this.callEvent("onBeforeCursorChange", [this.Ui]), this.Ui = t, this.callEvent("onAfterCursorChange", [t])) }, getCursor: function() { return this.Ui }, qi: function(t, i, e) { if ("$level" == i && this.data.getBranch) return (t.data || t).importData(this.data.getBranch(this.getCursor())); var s = this.getItem(this.getCursor()) || this.P.defaultData || null; "$data" == i ? ("function" == typeof e ? e.call(t, s, this) : t.data.importData(s ? s[e] : []), t.callEvent("onBindApply", [s, i, this])) : (e && (s = e(s)), this.Gi(t, i, s)) } }, Di = { $init: function() { this.attachEvent("onChange", this.Yi) }, qi: function(t, i, e) { i = i || "value"; var s = this.getValue() || ""; if (e && (s = e(s)), t.setValue) t.setValue(s, "auto"); else if (t.filter) t.data.silent(function() { this.filter(i, s) }); else { var n = {}; n[i] = s, t.J(s) && t.setValues(n, !1, "auto") } t.callEvent("onBindApply", [s, i, this]) } }, Ii = { $init: function() { this.attachEvent("onChange", this.Yi) }, qi: function(t, i, e) { var s = this.getValues() || null; e && (s = e(s)), this.Gi(t, i, s) } }, Ai = {
		$init: function() { this.Xi = {}, this.Ki = {}, this.Ji = {}, this.Zi(this) }, saveBatch: function(t
		) { this.Qi = !0, t.call(this), this.Qi = !1, this.Yi() }, setBindData: function(t, i) { if (i && (this.Ji[i] = !0), this.setValue) this.setValue(t, "auto"); else if (this.setValues) this.setValues(t, !1, "auto"); else { var e = this.getCursor(); e ? this.updateItem(e, t) : this.add(t) } this.callEvent("onBindUpdate", [t, i]), this.save && this.save(), i && (this.Ji[i] = !1) }, getBindData: function(t, i) { if (this.Ki[t]) return !1; var e = ai(t); e.isVisible(e.P.id) && (this.Ki[t] = !0, this.qi(e, this.Xi[t][0], this.Xi[t][1]), i && e.filter && e.refresh()) }, addBind: function(t, i, e) { this.Xi[t] = [i, e] }, removeBind: function(t) { delete this.Xi[t], delete this.Ki[t], delete this.Ji[t] }, Zi: function(t) { t.filter ? T.extend(this, $i) : t.setValue ? T.extend(this, Di) : T.extend(this, Ii) }, Yi: function() { if (!this.Qi) for (var t in this.Xi) this.Ji[t] || (this.Ki[t] = !1, this.getBindData(t, !0)) }, Gi: function(t, i, e) { t.setValue ? t.setValue(e && i ? e[i] : e, "auto") : t.filter ? t.data.silent(function() { this.filter(i, e) }) : !e && t.clear ? t.clear("auto") : t.J(e) && t.setValues(l(e), !1, "auto"), t.callEvent("onBindApply", [e, i, this]) }
	}, Fi = { bind: function(t, i, e) { this.attachEvent || T.extend(this, g), "string" == typeof t && (t = ai(t)), t.te && t.te(), this.te && this.te(), t.getBindData || T.extend(t, Ai), this.ie(), t.addBind(this.P.id, i, e), this.ee = t.P.id, this.se = this.P.id, this.ne = this.attachEvent(this.touchable ? "onAfterRender" : "onBindRequest", function() { return t.getBindData(this.se) }), this.refresh && this.isVisible(this.se) && this.refresh() }, unbind: function() { if (this.ee) { var t = ai(this.ee); t && t.removeBind(this.se), this.detachEvent(this.ne), this.ee = this.ne = null } }, ie: function() { var t = this.P; if (this.filter) { var i = t.id; this.data.re = S(function() { ai(this.ee).Ki[i] = !1 }, this) } var e = this.render; this.render = function() { if (!this.he) { this.he = !0; var t = this.callEvent("onBindRequest"); return this.he = !1, e.apply(this, !1 === t ? arguments : []) } }, (this.getValue || this.getValues) && (this.save = function(t) { var i = ai(this.ee); if (t) i.setBindData(t); else { if (this.validate && !this.validate()) return !1; var e = this.getValue ? this.getValue : this.getValues(); i.setBindData(e, this.P.id), this.setDirty && this.setDirty(!1) } }), this.ie = function() { } } }, Ti = window.webix_view || {}, Vi = {
		name: "baseview", $init: function(t) { t.id || (t.id = ci(this.name)), this.bt = ei.bt, ei.bt = null, this.$scope = t.$scope || (this.bt ? this.bt.$scope : ei.ft), this.Vt || (this.Wi = this.Vt = lt("DIV", { "class": "webix_view" }), this.$view = this.Vt) }, $skin: !1, defaults: { width: 0, height: 0, gravity: 1 }, getNode: function() { return this.Vt }, $setNode: function(t) { this.Vt = this.tt = this.$view = t }, getParentView: function() { return this.bt || null }, getTopParentView: function() { var t = this.getParentView(); return t ? t.getTopParentView() : this }, getFormView: function() { var t = this.getParentView(); return !t || t.oe ? t : t.getFormView() }, getChildViews: function() { return [] }, queryView: function(s, t) { var i; if ("string" == typeof s && (s = { view: s }), i = "object" === M(s) ? function(t) { var i = t.config; for (var e in s) if (i[e] != s[e]) return !1; return !0 } : s, "self" === t && i(this)) return this; var e = "all" === t && [], n = "parent" === t ? this.ae : this.ue, r = this.ce(i, n, e); return "all" === t ? e : r }, ue: function(t) { return t.getChildViews() }, ae: function(t) { var i = t.getParentView(); return i ? [i] : [] }, ce: function(t, i, e) { for (var s = i(this), n = 0; n < s.length; n++) { if (t(s[n])) { if (!e) return s[n]; e.push(s[n]) } var r = s[n].ce(t, i, e); if (r && !e) return r } return null }, isVisible: function(t) { if (this.P.hidden) return t && (this.fe || (this.fe = [], this.le = {}), this.le[t] || (this.le[t] = !0, this.fe.push(t))), !1; var i = this.getParentView(); return !i || i.isVisible(t, this.P.id) }, isEnabled: function() { if (this.de) return !1; var t = this.getParentView(); return !t || t.isEnabled() }, ve: function() { this.de && !this.de.parentNode && this.Vt.appendChild(this.de) }, disable: function() { vt(this.de), this.P.disabled = !0, this.de = lt("div", { "class": "webix_disabled" }), this.Vt.appendChild(this.de), this.Vt.setAttribute("aria-disabled", "true"), Mt(this.Vt, "webix_disabled_view", !0), Si.yi(this) }, enable: function() { this.P.disabled = !1, this.de && (vt(this.de), St(this.Vt, "webix_disabled_view"), this.Vt.removeAttribute("aria-disabled"), this.de = null) }, disabled_setter: function(t) { return t ? this.disable() : this.enable(), t }, container_setter: function(t) { return C(t), !0 },
		css_setter: function(t) { return "object" == M(t) && (t = ut(t)), this.Vt.className += " " + t, t }, id_setter: function(t) { if (ei.lt && (ei.lt != this || this._e)) { var i = this.config.$id = t; t = ci(((this._e || ei.lt).pe[t] = this).name), (this._e || ei.lt).be[t] = i } return ni.views[t], (ni.views[t] = this).Vt.setAttribute("view_id", t), t }, $setSize: function(t, i) { var e = this.me; return (!e || e[0] != t || e[1] != i) && (this.me = [t, i], this.$width = this.ge = t - (this.we ? G.scrollSize : 0), this.$height = this.xe = i - (this.ye ? G.scrollSize : 0), this.P.flex || (this.Vt.style.width = t + "px", this.Vt.style.height = i + "px"), !0) }, $getSize: function(t, i) { var e = this.P, s = [1 * (e.width || e.minWidth || 0), 1 * (e.width || e.maxWidth || 1e5), 1 * (e.height || e.minHeight || 0), 1 * (e.height || e.maxHeight || 1e5), e.gravity]; return (isNaN(s[0]) || isNaN(s[1]) || isNaN(s[2]) || isNaN(s[3])) && (this.P.id, e.width = e.height = e.maxWidth = e.maxHeight = e.minWidth = e.minHeight = 0, s = [0, 0, 1e5, 1e5, 1]), s[0] += t, s[1] += t, s[2] += i, s[3] += i, s }, show: function(t, i) { var e = this.getParentView(), s = !arguments[2]; e ? (!i && !1 !== i && this.P.animate && e.P.animate && (i = T.extend(e.P.animate ? T.extend({}, e.P.animate) : {}, this.P.animate, !0)), (s ? e.Me : e.Bi) && (s ? e.Me : e.Bi).call(e, this, i), s && this.Se(), t && s && e.show(!e.$$ && t)) : this.P.hidden ? s && (C(this.P.At || document.body).appendChild(this.Vt), this.P.hidden = !1, this.adjust(), this.callEvent && (this.callEvent("onViewShow", []), this.ke && _i(this, this.ke)), this.Se()) : s || (this.P.hidden = this.P.It = !0, this.Vt && (this.P.At = this.Vt.parentNode, vt(this.Vt))) }, Se: function() { if (this.fe) { for (var t = 0; t < this.fe.length; t++) { var i = ai(this.fe[t]); i && i.render() } this.fe = [], this.le = {} } }, Ce: function(t, i) { var e = i.target, s = e.getAttribute("role"); 13 !== t && 32 !== t || "button" != s && "tab" != s || this.P.disabled || (yt(e, "MouseEvents", "click"), wt(i)) }, hidden_setter: function(t) { return t && this.hide(), this.P.hidden }, hide: function() { this.show(null, null, !0), Si.yi(this) }, adjust: function() { if (!this.Vt.parentNode) return !1; var t = this.Vt.parentNode.clientWidth || 0, i = this.Vt.parentNode.clientHeight || 0, e = this.$getSize(0, 0), s = this.Vt.parentNode == document.body && !this.setPosition; e[0] > t && (t = e[0]), e[2] > i && (i = e[2]), (!s || this.P.width) && t > e[1] && (t = e[1]), (!s || this.P.height) && i > e[3] && (i = e[3]), this.$setSize(t, i), ei.vt && (ei.vt = !1, this.adjust()) }, resize: function() { if (!(ei.dt || ei.pt || ei._t)) { var t = this.getParentView(); t ? t.resizeChildren ? t.resizeChildren() : t.resize() : (this.adjust(), y("onResize", [])) } }
	}, zi = { api: Vi, view: T.protoUI(Vi, ki, Ci, Fi, Ti) }, Bi = { name: "view", $init: function(t) { this.ri(t) }, ri: function(t) { var i = V(t.borderless); i && !this.setPosition && t.$topView && (i = !(t.borderless = !0)), i && this.defaults.borderless || t.borderless ? t.Dt = { top: !0, left: !0, bottom: !0, right: !0 } : (t.Dt || (t.Dt = {}), this.Wi.style.borderWidth = "1px") }, $getSize: function(t, i) { var e = this.P.Dt; return e && (t += (e.left ? 0 : 1) + (e.right ? 0 : 1), i += (e.top ? 0 : 1) + (e.bottom ? 0 : 1)), zi.api.$getSize.call(this, t, i) }, $setSize: function(t, i) { var e = this.P.Dt; return e && (t -= (e.left ? 0 : 1) + (e.right ? 0 : 1), i -= (e.top ? 0 : 1) + (e.bottom ? 0 : 1)), zi.api.$setSize.call(this, t, i) } }, Hi = T.protoUI(Bi, zi.view), Ri = { api: Bi, view: Hi }; Hi.call(-1); var Ei = T.proto({ template_setter: function(t) { this.type.template = qt(t) }, Q: function(t) { var i = this.type; return (i.templateStart ? i.templateStart(t, i) : "") + i.template(t, i) + (i.templateEnd ? i.templateEnd(t, i) : "") }, customize: function(t) { ii(this, t) } }, Gt), Pi = {
		name: "tooltip", defaults: { dy: 0, dx: 20 }, $init: function(t) { "string" == typeof t && (t = { template: t }), this.$view = this.Vt = this.Wi = this.tt = lt("DIV", { role: "alert", "aria-atomic": "true" }), this.Vt.className = this.Lt, _t(this.Wi, document.body.firstChild, document.body) }, adjust: function() { }, isVisible: function() { return this.$e }, De: function(t) { this.callEvent("onBeforeRender", [t]) && (this.tt.innerHTML = "", this.tt.innerHTML = t, this.callEvent("onAfterRender", [])) }, Lt: "webix_tooltip", css_setter: function(t) { return "object" === M(t) && (t = ut(t)), this.Vt.className = this.Lt + " " + t, t }, show: function(t, i) {
			if (!this.Ie) if (this.$e = !0, "string" == typeof t ? this.De(t) : (this.data = T.extend({}, t), this.render()), this.tt.firstChild) {
				var e = Math.max(document.documentElement.clientWidth, window.innerWidth || 0), s = Math.max(document.documentElement.clientHeight, window.innerHeight || 0), n = e - i.x, r = s - i.y
				; this.Wi.style.display = "block", n - this.P.dx > this.Wi.offsetWidth ? n = i.x : (n = i.x - 2 * this.P.dx - this.Wi.offsetWidth) < 0 && (n = 0), r - this.P.dy > this.Wi.offsetHeight ? r = i.y : (r = i.y - 2 * this.P.dy - this.Wi.offsetHeight) < 0 && (r = 0), this.Wi.style.left = n + this.P.dx + "px", this.Wi.style.top = r + this.P.dy + "px"
			} else this.hide()
		}, hide: function() { this.$e && (this.data = null, this.Wi.style.display = "none", this.$e = !1) }, disable: function() { this.Ie = !0 }, enable: function() { this.Ie = !1 }, type: { template: qt("{obj.value}"), templateStart: qt.empty, templateEnd: qt.empty }
	}, ji = (T.protoUI(Pi, Ei, ki, g, Ri.view), { tooltip_setter: function(t) { if (t) return "function" != typeof t && "string" != typeof t || (t = { template: t }), "object" !== M(t) && (t = {}), t.overflow && V(t.template) && (t.template = ""), this.Ae(), t }, Ae: function() { ui.addTooltip(this), this.attachEvent("onDestruct", function() { ui.removeTooltip(this) }), this.attachEvent("onAfterScroll", function() { ui.jt && ui.Yt() }), this.Ae = function() { } }, $tooltipIn: function(t) { var i = ui.Nt, e = T.extend({ dx: 20, dy: 0, template: "{obj.value}", css: "" }, this.P.tooltip, !0); return i.define(e), t }, $tooltipOut: function() { return ui.Yt(), null }, $tooltipMove: function(t, i, e) { var s = this.P.tooltip, n = !s || V(s.overflow) ? ui.overflow : s.overflow, r = !s || V(s.delay) ? ui.delay : s.delay, h = n ? e.overflow : e.first; 0 < r && ui.Yt(), ui.Kt = k(this.Fe, this, [t, i, h], r) }, Fe: function(t, i, e) { var s = e || this.Te(t, i); s && this.isVisible() && ui.Nt.show(s, gt(i)) }, Te: function(t, i) { if (this.locate && this.getItem) { var e = this.locate(i); return e ? this.getItem(e) : null } return this.P } }), Ni = T.proto({ $init: function(t) { this.Ve = [], this.ze = V(t.series) ? t.name : t.series, this.Be = C(t.container || t); var i = t.width * (window.devicePixelRatio || 1), e = t.height * (window.devicePixelRatio || 1), s = t.style || ""; s += ";width:" + t.width + "px;height:" + t.height + "px;", this.He(t.name, s, i, e, t.title) }, He: function(t, i, e, s, n) { return this.Re = lt("canvas", { title: n, width: e, height: s, canvas_id: t, style: i || "" }), this.Be.appendChild(this.Re), this.Re }, getCanvas: function(t) { var i = (this.Re || this.He(this.Wi)).getContext(t || "2d"); return this.Ee || (this.Ee = !0, i.scale(window.devicePixelRatio || 1, window.devicePixelRatio || 1)), i }, Pe: function(t, i) { this.Re && (this.Re.setAttribute("width", t * (window.devicePixelRatio || 1)), this.Re.setAttribute("height", i * (window.devicePixelRatio || 1)), this.Re.style.width = t + "px", this.Re.style.height = i + "px", this.Ee = !1) }, renderText: function(t, i, e, s, n) { if (e) { n && (n = Math.max(n, 0)), i && (i = Math.max(i, 0)); var r = lt("DIV", { "class": "webix_canvas_text" + (s ? " " + s : ""), style: "left:" + t + "px; top:" + i + "px;", "aria-hidden": "true" }, e); return this.Be.appendChild(r), this.Ve.push(r), n && (r.style.width = n + "px"), r } }, renderTextAt: function(t, i, e, s, n, r, h) { var o = this.renderText.call(this, e, s, n, r, h); return o && (t && (o.style.top = "middle" == t ? parseInt(s - o.offsetHeight / 2, 10) + "px" : s - o.offsetHeight + "px"), i && (o.style.left = "left" == i ? e - o.offsetWidth + "px" : parseInt(e - o.offsetWidth / 2, 10) + "px")), o }, clearCanvas: function(t) { var i = []; if (vt(this.Ve), this.Ve = [], !t && this.Be.Ni) { for (i = this.je(); i.length;)i[0].parentNode.removeChild(i[0]), i.splice(0, 1); i = null, this.Be.Ni.getElementsByTagName("AREA").length || (this.Be.Ni.parentNode.removeChild(this.Be.Ni), this.Be.Ni = null) } this.getCanvas().clearRect(0, 0, this.Re.offsetWidth || Math.floor(this.Re.width / (window.devicePixelRatio || 1)), this.Re.offsetHeight || Math.floor(this.Re.height / (window.devicePixelRatio || 1))) }, toggleCanvas: function() { this.Ne("none" == this.Re.style.display) }, showCanvas: function() { this.Ne(!0) }, hideCanvas: function() { this.Ne(!1) }, Ne: function(t) { var i, e; for (e = 0; e < this.Ve.length; e++)this.Ve[e].style.display = t ? "" : "none"; if (this.Be.Ni) for (i = this.je(), e = 0; e < i.length; e++)t ? i[e].removeAttribute("disabled") : i[e].setAttribute("disabled", "true"); this.Re.style.display = t ? "" : "none" }, je: function() { var t, i, e = []; for (t = this.Be.Ni.getElementsByTagName("AREA"), i = 0; i < t.length; i++)t[i].getAttribute("userdata") == this.ze && e.push(t[i]); return e } }), Li = function(t, i) {
		var e = i; if ($(t)) for (var s = 0; s < t.length; s++) {
			if ($(i) && (e = i[s]), "slide" == e.type) { if ("out" == e.subtype && 0 === s) continue; if ("in" == e.subtype && 1 == s) continue } if ("flip" != e.type) Li(t[s], e); else { var n = l(e); 0 === s && (n.type = "flipback"), 1 == s && (n.callback = null), Li(t[s], n) }
		} else { var r = C(t); r.Le ? Li.end(r, e) : Li.start(r, e) }
	}; Li.end = function(t, i) { t.style[G.transitionDuration] = "1ms", t.Le = null, ei.Ct && window.clearTimeout(ei.Ct), ei.Ct = k(Li, this, [t, i], 10) }, Li.isSupported = function() { return G.transform && G.transition && !G.isOpera }, Li.formLine = function(t, i, e) { var s = e.direction; i.parentNode && (i.parentNode.style.position = "relative"), i.style.position = "absolute", t.style.position = "absolute"; var n = G.isFF ? "top" == s || "left" == s ? -1 : 1 : 0; return "top" == s || "bottom" == s ? (t.style.left = "0px", t.style.top = (e.top || n) + ("top" == s ? 1 : -1) * i.offsetHeight + "px") : (t.style.top = (e.top || 0) + "px", t.style.left = n + ("left" == s ? 1 : -1) * i.offsetWidth + "px"), i.parentNode == t.parentNode && e.keepViews ? t.style.display = "" : _t(t, i.nextSibling, i.parentNode), "slide" == e.type && "out" == e.subtype && (t.style.left = "0px", t.style.top = (e.top || 0) + "px", i.parentNode.removeChild(i), _t(i, t.nextSibling, t.parentNode)), [t, i] }, Li.breakLine = function(t) { arguments[1] ? t[1].style.display = "none" : vt(t[1]), Li.clear(t[0]), Li.clear(t[1]), t[0].style.position = "" }, Li.clear = function(t) { t.style[G.transform] = "none", t.style[G.transition] = "none", t.style.top = t.style.left = "" }, Li.defaults = { type: "slide", delay: "0", duration: "500", timing: "ease-in-out", x: 0, y: 0 }, Li.start = function(s, t) { "string" == typeof t && (t = { type: t }), t = ki.Ei(t, Li.defaults); var i, e, n = G.cssPrefix, r = s.Le = t; switch ("slide" == r.type && r.direction) { case "right": r.x = s.offsetWidth; break; case "left": r.x = -s.offsetWidth; break; case "top": r.y = -s.offsetHeight; break; case "bottom": default: r.y = r.y || s.offsetHeight }"flip" != r.type && "flipback" != r.type || (i = [0, 0], e = "scaleX", "vertical" == r.subtype ? (i[0] = 20, e = "scaleY") : i[1] = 20, "right" != r.direction && "bottom" != r.direction || (i[0] *= -1, i[1] *= -1)); var h = r.duration + "ms " + r.timing + " " + r.delay + "ms", o = n + "TransformStyle: preserve-3d;", a = "", u = ""; switch (r.type) { case "fade": a = "opacity " + h, o = "opacity: 0;"; break; case "show": a = "opacity " + h, o = "opacity: 1;"; break; case "flip": h = r.duration / 2 + "ms " + r.timing + " " + r.delay + "ms", u = "skew(" + i[0] + "deg, " + i[1] + "deg) " + e + "(0.00001)", a = "all " + h; break; case "flipback": r.delay += r.duration / 2, h = r.duration / 2 + "ms " + r.timing + " " + r.delay + "ms", s.style[G.transform] = "skew(" + -1 * i[0] + "deg, " + -1 * i[1] + "deg) " + e + "(0.00001)", s.style.left = "0", u = "skew(0deg, 0deg) " + e + "(1)", a = "all " + h; break; case "slide": var c = r.x + "px", f = r.y + "px"; u = G.translate + "(" + c + ", " + f + ("translate3d" == G.translate ? ", 0" : "") + ")", a = n + "transform " + h }k(function() { s.style[G.transition] = a, k(function() { o && (s.style.cssText += o), u && (s.style[G.transform] = u); var i = !1, e = Qt(s, G.transitionEnd, function(t) { s.Le = null, r.callback && r.callback.call(r.master || window, s, r, t), i = !0, ti(e) }); window.setTimeout(function() { if (!i) { var t = r.master || window; s.Le = null, !t.$destructed && r.callback && r.callback.call(t, s, r), i = !0, ti(e) } }, 1.3 * (1 * r.duration + 1 * r.delay)) }) }) }; var Oi, Wi; function Ui(t) { if (Yi[t], Wi !== t) for (var i in Yi.$active = Oi = Yi[t], Yi.$name = Wi = t, ni) { var e = ni[i]; e && e.prototype && e.prototype.$skin && e.prototype.$skin(e.prototype) } } var Yi = {
		set: Ui, material: { topLayout: "space", barHeight: 44, tabbarHeight: 42, sidebarTitleHeight: 44, rowHeight: 36, toolbarHeight: 44, listItemHeight: 36, inputHeight: 38, buttonHeight: 38, inputPadding: 3, menuHeight: 36, labelTopHeight: 22, propertyItemHeight: 28, timelineItemHeight: 70, unitHeaderHeight: 36, inputSpacing: 4, borderWidth: 1, sliderHandleWidth: 14, sliderPadding: 10, sliderBorder: 1, vSliderPadding: 15, vSliderHeight: 100, switchHeight: 22, switchWidth: 50, layoutMargin: { space: 10, wide: 10, clean: 0, head: 4, line: -1, toolbar: 4, form: 8, accordion: 2 }, layoutPadding: { space: 10, wide: 0, clean: 0, head: 0, line: 0, toolbar: 2, form: 17, accordion: 0 }, tabMargin: 0, tabOffset: 0, tabBottomOffset: 0, tabTopOffset: 0, tabBorder: !0, customCheckbox: !0, customRadio: !0, sidebarMarkAll: !0, popupNoPoint: !0, borderlessPopup: !0, popupPadding: 0, dataPadding: 12, calendarWeekHeaderHeight: 18, padding: 0, accordionType: "accordion", optionHeight: 32, organogramLineColor: "#CCD7E6", timelineColor: "#1CA1C1", backColor: "#ffffff", colorPadding: 4 }, mini: {
			topLayout: "space", barHeight: 36, tabbarHeight: 34, sidebarTitleHeight: 36, rowHeight: 28, toolbarHeight: 36, listItemHeight: 28, inputHeight: 30, buttonHeight: 30, inputPadding: 3, menuHeight: 28, labelTopHeight: 16, propertyItemHeight: 24,
			unitHeaderHeight: 28, timelineItemHeight: 50, inputSpacing: 4, borderWidth: 1, sliderHandleWidth: 12, sliderPadding: 10, sliderBorder: 1, vSliderPadding: 13, vSliderHeight: 100, switchHeight: 20, switchWidth: 40, layoutMargin: { space: 5, wide: 5, clean: 0, head: 4, line: -1, toolbar: 4, form: 8, accordion: 2 }, layoutPadding: { space: 5, wide: 0, clean: 0, head: 0, line: 0, toolbar: 2, form: 12, accordion: 0 }, tabMargin: 0, tabOffset: 0, tabBottomOffset: 0, tabTopOffset: 0, tabBorder: !0, customCheckbox: !0, customRadio: !0, sidebarMarkAll: !0, popupNoPoint: !0, borderlessPopup: !0, popupPadding: 0, dataPadding: 12, calendarWeekHeaderHeight: 18, padding: 0, accordionType: "accordion", optionHeight: 24, organogramLineColor: "#CCD7E6", timelineColor: "#1CA1C1", backColor: "#ffffff", colorPadding: 4
		}, flat: { topLayout: "space", barHeight: 46, tabbarHeight: 46, rowHeight: 34, toolbarHeight: 46, sidebarTitleHeight: 45, listItemHeight: 34, inputHeight: 38, buttonHeight: 38, inputPadding: 3, menuHeight: 34, labelTopHeight: 22, unitHeaderHeight: 20, propertyItemHeight: 28, timelineItemHeight: 70, inputSpacing: 4, borderWidth: 1, sliderHandleWidth: 14, sliderPadding: 10, sliderBorder: 1, vSliderPadding: 15, vSliderHeight: 100, switchHeight: 22, switchWidth: 50, layoutMargin: { space: 10, wide: 10, clean: 0, head: 4, line: -1, toolbar: 4, form: 8, accordion: 10 }, layoutPadding: { space: 10, wide: 0, clean: 0, head: 0, line: 0, toolbar: 3, form: 17, accordion: 0 }, tabMargin: 4, tabOffset: 0, tabBottomOffset: 6, tabTopOffset: 1, customCheckbox: !0, customRadio: !0, popupPadding: 8, dataPadding: 10, calendarWeekHeaderHeight: 24, padding: 0, accordionType: "accordion", optionHeight: 32, timelineColor: "#3498db", backColor: "#ffffff", colorPadding: 4 }, compact: { topLayout: "space", barHeight: 34, tabbarHeight: 34, sidebarTitleHeight: 34, rowHeight: 24, toolbarHeight: 34, listItemHeight: 28, unitHeaderHeight: 20, propertyItemHeight: 24, timelineItemHeight: 50, inputHeight: 30, buttonHeight: 30, inputPadding: 3, menuHeight: 28, labelTopHeight: 16, inputSpacing: 4, borderWidth: 1, sliderHandleWidth: 12, sliderPadding: 10, sliderBorder: 1, vSliderPadding: 13, vSliderHeight: 100, switchHeight: 20, switchWidth: 40, layoutMargin: { space: 5, wide: 5, clean: 0, head: 4, line: -1, toolbar: 4, form: 4, accordion: 5 }, layoutPadding: { space: 5, wide: 0, clean: 0, head: 0, line: 0, toolbar: 1, form: 12, accordion: 0 }, tabMargin: 3, tabOffset: 0, tabBottomOffset: 3, tabTopOffset: 1, customCheckbox: !0, customRadio: !0, popupPadding: 8, dataPadding: 10, calendarWeekHeaderHeight: 24, padding: 0, accordionType: "accordion", optionHeight: 23, timelineColor: "#3498db", backColor: "#ffffff", colorPadding: 4 }, contrast: { topLayout: "space", barHeight: 46, tabbarHeight: 46, rowHeight: 34, toolbarHeight: 46, sidebarTitleHeight: 45, listItemHeight: 34, unitHeaderHeight: 20, inputHeight: 38, buttonHeight: 38, inputPadding: 3, menuHeight: 34, labelTopHeight: 22, propertyItemHeight: 28, timelineItemHeight: 70, inputSpacing: 4, borderWidth: 1, sliderHandleWidth: 14, sliderPadding: 10, sliderBorder: 1, vSliderPadding: 15, vSliderHeight: 100, switchHeight: 22, switchWidth: 50, layoutMargin: { space: 10, wide: 10, clean: 0, head: 4, line: -1, toolbar: 8, form: 8, accordion: 10 }, layoutPadding: { space: 10, wide: 0, clean: 0, head: 0, line: 0, toolbar: 3, form: 17, accordion: 0 }, tabMargin: 4, tabOffset: 0, tabBottomOffset: 6, tabTopOffset: 1, customCheckbox: !0, customRadio: !0, popupPadding: 8, dataPadding: 10, calendarWeekHeaderHeight: 24, padding: 0, accordionType: "accordion", optionHeight: 32, timelineColor: "#b300b3", backColor: "#393939", colorPadding: 4 }
	}; Ui(window.webix_skin || "material"); var qi = {
		config: { longTouchDelay: 1e3, scrollDelay: 150, gravity: 500, deltaStep: 30, speed: "0ms", finish: 1500, ellastic: !0 }, limit: function(t) { qi.Oe = !1 !== t }, disable: function() { qi.Ie = !0 }, enable: function() { qi.Ie = !1 }, $init: function() { qi.$init = function() { }, Qt(document.body, Xi.down, qi.We, { passive: !1 }), Qt(document.body, Xi.move, qi.Ue, { passive: !1 }), Qt(document.body, Xi.up, qi.Ye), Qt(document.body, "dragstart", function(t) { if (!qi.Ie && !qi.Oe) return wt(t) }), qi.qe(), qi.Ge = [null, null], qi.$active = !0 }, qe: function() { qi.Xe = qi.Ke = qi.Je = qi.Ze = null, qi.Qe = qi.ts = qi.es = qi.ss = null, qi.ns = { rs: 0, hs: 0, os: 0 }, qi.us && (St(qi.us, "webix_touch"), qi.us = null), window.clearTimeout(qi.cs), qi.fs = !0, qi.ls = !0, qi.ds = !0, qi.vs || qi._s() }, Ye: function(t) {
			if (qi.Xe) {
				if (qi.Qe) {
					var i = qi.ps(qi.ts), e = i.e, s = i.f, n = qi.config.finish, r = qi.bs(t, !0), h = ai(qi.ts),
					o = h && h.$scroll ? h.$scroll.gravity : qi.config.gravity; if (r.os) { var a = e + o * r.rs / r.os, u = s + o * r.hs / r.os, c = qi.Ge[0] ? qi.ms(a, !1, !1, qi.es.dx, qi.es.px) : e, f = qi.Ge[1] ? qi.ms(u, !1, !1, qi.es.dy, qi.es.py) : s, l = Math.max(Math.abs(c - e), Math.abs(f - s)); l < 150 && (n = n * l / 150), c == e && f == s || (n = Math.round(n * Math.max((c - e) / (a - e), (f - s) / (u - s)))); var d = { e: c, f: f }; (h = ai(qi.ts)) && h.adjustScroll && h.adjustScroll(d), n = Math.max(100, n), e != d.e || s != d.f ? (qi.gs(qi.ts, d.e, d.f, n + "ms"), qi.ws && qi.ws.xs(d.e, d.f, n + "ms"), qi.ys(d.e, d.f, n + "ms")) : qi._s() } else qi._s()
				} else qi.ss || (qi.ds && !qi.ls ? qi.Ms("onSwipeX") : qi.ls && !qi.ds && qi.Ms("onSwipeY")); qi.Ms("onTouchEnd"), qi.qe()
			}
		}, Ue: function(t) { if (qi.Ze && qi.Xe) { var i = qi.bs(t); if (qi.Ms("onTouchMove"), qi.Qe) qi.Ss(i); else if (qi.ls = qi.ks(i.Cs, "x", qi.ls), qi.ds = qi.ks(i.$s, "y", qi.ds), qi.Qe) { var e = qi.Ds("onBeforeScroll", !0); if (e) { var s = {}; e.callEvent("onBeforeScroll", [s]), s.update && (qi.config.speed = s.speed, qi.config.scale = s.scale) } qi.Is(i) } else if (G.isMac) { var n = ai(qi.Xe); if (n && n.$hasYScroll && n.$hasYScroll() && t.cancelable) return wt(t) } return qi.Qe && t.cancelable ? wt(t) : void 0 } }, Ss: function() { if (qi.ts) { var t = qi.ps(qi.ts), i = qi.Je || qi.Xe, e = ai(qi.ts), s = e && e.$scroll ? e.$scroll.ellastic : qi.config.ellastic; qi.Ge[0] && (t.e = qi.ms(t.e - i.x + qi.Ke.x, s, t.e, qi.es.dx, qi.es.px)), qi.Ge[1] && (t.f = qi.ms(t.f - i.y + qi.Ke.y, s, t.f, qi.es.dy, qi.es.py)), qi.gs(qi.ts, t.e, t.f, "0ms"), qi.ws && qi.ws.xs(t.e, t.f, "0ms"), qi.ys(t.e, t.f, "0ms") } }, ys: function(t, i, e) { var s = qi.es.px / qi.es.dx * -t, n = qi.es.py / qi.es.dy * -i; qi.Ge[0] && qi.gs(qi.Ge[0], s, 0, e), qi.Ge[1] && qi.gs(qi.Ge[1], 0, n, e) }, scrollTo: function(t, i, e, s) { qi.gs(t, i, e, s) }, gs: function(t, i, e, s) { if (s) { if (qi.vs = !0, t) { var n = qi.config.translate || G.translate; t.style[G.transform] = n + "(" + Math.round(i) + "px, " + Math.round(e) + "px" + ("translate3d" == n ? ", 0" : "") + ")", t.style[G.transitionDuration] = s } } else t.style[G.transform] = "" }, ps: function(t) { var i, e = window.getComputedStyle(t)[G.transform]; if ("none" == e) i = { e: 0, f: 0 }; else if (window.WebKitCSSMatrix) i = new WebKitCSSMatrix(e); else if (window.MSCSSMatrix) i = new MSCSSMatrix(e); else { var s = e.replace(/(matrix\()(.*)(\))/gi, "$2"); s = (s = s.replace(/\s/gi, "")).split(","), i = {}; for (var n = ["a", "b", "c", "d", "e", "f"], r = 0; r < n.length; r++)i[n[r]] = parseInt(s[r], 10) } return qi.ws && qi.ws.As(i), i }, ms: function(t, i, e, s, n) { if (t === e) return t; var r = Math.abs(t - e); if (0 < t) return i ? e + r / (t - e) * Math.sqrt(r) : 0; var h = s - n; return h + t < 0 ? i ? e - Math.sqrt(-(t - e)) : -h : t }, Fs: function(t) { if (!t.scroll_enabled) { t.scroll_enabled = !0, t.parentNode.style.position = "relative"; var i = G.cssPrefix; t.style.cssText += i + "transition: " + i + "transform; " + i + "user-select:none; " + i + "transform-style:flat;", t.addEventListener(G.transitionEnd, qi._s, !1) } }, Is: function() { -1 != qi.Qe.indexOf("x") && (qi.Ge[0] = qi.Ts("x", qi.es.dx, qi.es.px, "width")), -1 != qi.Qe.indexOf("y") && (qi.Ge[1] = qi.Ts("y", qi.es.dy, qi.es.py, "height")), qi.Fs(qi.ts), window.setTimeout(function() { qi.Ss(), qi.es && !qi.es.hidden && (qi.Ge[0] && (qi.Ge[0].style.visibility = "visible"), qi.Ge[1] && (qi.Ge[1].style.visibility = "visible")) }, 0) }, Ts: function(t, i, e, s) { if (i - e < 2) { var n = qi.ps(qi.ts), r = "y" == t ? n.e : 0, h = "y" == t ? 0 : n.f; return qi.ws || qi.gs(qi.ts, r, h, "0ms"), qi.Qe = qi.Qe.replace(t, ""), "" } var o = lt("DIV", { "class": "webix_scroll_" + t }, ""); return o.style.visibility = "hidden", o.style[s] = Math.max(e * e / i - 7, 10) + "px", qi.es.left && ("x" === t ? o.style.left = qi.es.left + "px" : o.style.right = -qi.es.left + "px"), qi.ts.parentNode.appendChild(o), o }, ks: function(t, i, e) { return t > qi.config.deltaStep ? (qi.fs && (qi.Vs(i), qi.zs(i), -1 == (qi.Qe || "").indexOf(i) && (qi.Qe = "")), !1) : e }, _s: function() { var t, i, e; (e = ai(qi.ts || this)) && (qi.ts ? t = qi.ps(qi.ts) : e.getScrollState && (t = { e: -(i = e.getScrollState()).x, f: -i.y }), y("onAfterScroll", [t]), e.callEvent && e.callEvent("onAfterScroll", [t])), qi.Qe || (vt(qi.Ge), qi.Ge = [null, null]), qi.vs = !1 }, Vs: function() { window.clearTimeout(qi.cs), qi.fs = !1 }, Bs: function(t) { if (!qi.Ge[0] && !qi.Ge[1]) return !0; qi.Hs(t, qi.Ge[0] ? "x" : "y") }, We: function(t) {
			var i = t.target; if (!qi.Ie) {
				qi.ss = null, qi.Ze = qi.Xe = Xi.context(t); var e = ai(t); !qi.Oe || qi.Rs() || e && e.$touchCapture || (qi.Ze = null), qi.Ms("onTouchStart"), qi.Bs(t) && (qi.cs = window.setTimeout(qi.Es, qi.config.longTouchDelay)),
					!e || !e.touchable || i.className && 0 === i.className.indexOf("webix_view") || (qi.us = e.getNode(t), Mt(qi.us, "webix_touch"))
			}
		}, Es: function() { qi.Xe && (qi.ss = !0, qi.Ms("onLongTouch"), y("onClick", [qi.Xe])) }, Hs: function(t, i) { qi.zs(i); var e = qi.Ge[0] || qi.Ge[1]; if (e) { var s = qi.Ds("onBeforeScroll", !0); s && s.callEvent("onBeforeScroll", [qi.Xe, qi.Ke]) } !e || qi.ts && e.parentNode == qi.ts.parentNode || (qi.qe(), qi._s(), qi.Xe = Xi.context(t)), qi.Ue(t) }, bs: function(t) { return qi.Je = qi.Ke, qi.Ke = Xi.context(t), qi.ns.Cs = Math.abs(qi.Xe.x - qi.Ke.x), qi.ns.$s = Math.abs(qi.Xe.y - qi.Ke.y), qi.Je && (qi.Ke.time - qi.Je.time < qi.config.scrollDelay ? (qi.ns.rs = qi.ns.rs / 1.3 + qi.Ke.x - qi.Je.x, qi.ns.hs = qi.ns.hs / 1.3 + qi.Ke.y - qi.Je.y) : qi.ns.hs = qi.ns.rs = 0, qi.ns.os = qi.ns.os / 1.3 + (qi.Ke.time - qi.Je.time)), qi.ns }, Ps: function(t) { qi.es = { dx: t.offsetWidth, dy: t.offsetHeight, px: t.parentNode.offsetWidth, py: t.parentNode.offsetHeight } }, Rs: function(t) { var i = qi.Xe.target; if (!G.touch && !G.transition && !G.transform) return null; for (; i && "BODY" != i.tagName;) { if (i.getAttribute) { var e = i.getAttribute("touch_scroll"); if (e && (!t || -1 != e.indexOf(t))) return [i, e] } i = i.parentNode } return null }, zs: function(t) { var i = this.Rs(t); return i && (qi.Qe = i[1], qi.ts = i[0], qi.Ps(i[0])), i }, Ms: function(t) { y(t, [qi.Xe, qi.Ke]); var i = qi.Ds(t); i && i.callEvent(t, [qi.Xe, qi.Ke]) }, Ds: function(t, i) { var e = ai(i ? qi.ts : qi.Xe); if (!e) return null; for (; e;) { if (e.hasEvent && e.hasEvent(t)) return e; e = e.getParentView() } return null }, js: function(t) { if (t.touches[0]) return { target: t.target, x: t.touches[0].pageX, y: t.touches[0].pageY, time: new Date }; var i = qi.Ke; return i.time = new Date, i }, Ns: function(t) { return { target: t.target, x: t.pageX, y: t.pageY, time: new Date } }
	}; function Gi(t) { t.down = "touchstart", t.move = "touchmove", t.up = "touchend", t.context = qi.js } bi(function Po() { if (G.touch) qi.$init(), -1 == document.body.className.indexOf("webix_full_screen") && qi.limit(!0), G.isSafari && ct(".webix_view{ -webkit-overflow-scrolling: touch; }"), window.MSCSSMatrix && ct(".webix_view{ -ms-touch-action: none; }"); else var s = Qt(document.body, "touchstart", function(t) { if (t.touches.length && 4 < t.touches[0].radiusX) for (var i in G.touch = !0, Gi(Xi), Po(), ni.views) { var e = ni.views[i]; e && e.$touch && e.$touch() } ti(s) }, { capture: !0 }) }); var Xi = G.mouse = { down: "mousedown", up: "mouseup", move: "mousemove", context: qi.Ns }; window.navigator.pointerEnabled ? (Xi.down = "pointerdown", Xi.move = "pointermove", Xi.up = "pointerup") : window.navigator.msPointerEnabled ? (Xi.down = "MSPointerDown", Xi.move = "MSPointerMove", Xi.up = "MSPointerUp") : G.touch && Gi(Xi); var Ki = {
		Ls: D(["dummy"]), addDrop: function(t, i, e) { (t = C(t)).webix_drop = this.Os(i), e && (t.webix_master = !0) }, Os: function(t) { t = t || Ki; var i = this.Ls.find(t); return i < 0 && (i = this.Ls.length, this.Ls.push(t), t.attachEvent && t.attachEvent("onDestruct", function() { return Ki.unlink(t) })), i }, unlink: function(t) { var i = this.Ls.find(t); -1 < i && (Ki.Ws && Ki.Ws.webix_drag == i && Ki.Us(), Ki.Xt && Ki.Xt.webix_drop == i && (Ki.Xt = null), this.Ls[i] = null) }, Ys: function(t) { var i = Ki, e = this.qs(); if (e && e.$longTouchLimit) { if (!i.Oi && !i.createDrag(t)) return; t.longtouch_drag = !0; var s = { x: t.x, y: t.y }, n = i.$dragPos(s, t), r = i.Gs; i.Oi.style.top = s.y + i.top + (n || !r.y_offset ? 0 : r.y_offset) + "px", i.Oi.style.left = s.x + i.left + (n || !r.x_offset ? 0 : r.x_offset) + "px" } }, addDrag: function(t, i) { (t = C(t)).webix_drag = this.Os(i), Zt(t, G.mouse.down, this.Xs, { bind: t }), Zt(t, "dragstart", wt) }, Xs: function(t) { if (Ki.Ws) { if (Ki.Ks == t) return; Ki.Js(t), Ki.destroyDrag(t) } Ki.Ws = this; var i = G.mouse.context(t); Ki.Zs = i, Ki.Ks = t; var e = G.touch ? { passive: !1 } : null; Ki.Qs = Qt(document.body, G.mouse.move, Ki.tn, e), Ki["in"] = Qt(document, G.mouse.up, Ki.Js), Mt(document.body, "webix_noselect", 1) }, Js: function(t) { Ki.en(), Ki.sn = !t.cancelable }, tn: function(t) { if (Ki.sn = !t.cancelable, G.touch && Ki.sn) return Ki.en(), Ki.destroyDrag(t); var i = G.mouse.context(t), e = Ki.qs(); if (!(G.touch && e && e.$longTouchLimit && !qi.ss || Math.abs(i.x - Ki.Zs.x) < 5 && Math.abs(i.y - Ki.Zs.y) < 5)) { if (!Ki.Oi && !Ki.createDrag(Ki.Ks)) return Ki.en(); Ki.en(!0), Ki.sendSignal("start"); var s = G.touch ? { passive: !1 } : null; Ki.Qs = Qt(document.body, G.mouse.move, Ki.nn, s), Ki["in"] = Qt(document, G.mouse.up, Ki.Us), Ki.nn(t) } }, Us: function(t) {
			Ki.en(), Ki.Ks = null, Ki.Xt && t && (Ki.$drop(Ki.Ws, Ki.Xt, t),
				Ki.$dragOut(Ki.Ws, Ki.Xt, null, t)), Ki.destroyDrag(t), Ki.sendSignal("stop")
		}, en: function(t) { this.Qs = ti(this.Qs), this["in"] = ti(this["in"]), t || St(document.body, "webix_noselect") }, nn: function(s) { var t = Ki, i = gt(s), e = t.$dragPos(i, s), n = t.Gs; t.Oi.style.top = i.y + t.top + (e || !n.y_offset ? 0 : n.y_offset) + "px", t.Oi.style.left = i.x + t.left + (e || !n.x_offset ? 0 : n.x_offset) + "px"; var r = s; if (t.rn) t.rn = !1; else { if (G.touch) { var h = G.mouse.context(s), o = document.elementFromPoint(h.x, h.y); r = new Proxy(s, { get: function(t, i) { if ("target" === i) return o; var e = t[i]; return "function" == typeof e ? e.bind(s) : e } }) } t.hn(r.target, r) } return wt(s) }, hn: function(t, i) { for (; t && "BODY" != t.tagName;) { if (t.webix_drop) return this.Xt && (this.Xt != t || t.webix_master) && this.$dragOut(this.Ws, this.Xt, t, i), !this.Xt || this.Xt != t || t.webix_master ? (this.Xt = null, this.an = this.$dragIn(Ki.Ws, t, i), void (this.an && (this.Xt = t))) : void 0; t = t.parentNode } this.Xt && (this.Xt = this.an = this.$dragOut(this.Ws, this.Xt, null, i)) }, sendSignal: function(t) { Ki.active = "start" == t, y("onDragMode", [t]) }, getMaster: function(t) { return this.Ls[t.webix_drag || t.webix_drop] }, getContext: function() { return this.Gs }, getNode: function() { return this.Oi }, createDrag: function(t) { var i = Ki, e = i.Ws; i.Gs = {}; var s, n = this.Ls[e.webix_drag]; if (n.$dragCreate) { if (!(s = n.$dragCreate(e, t))) return !1; this.un(t), s.style.position = "absolute" } else { var r = i.$drag(e, t); if (i.un(t), !r) return !1; (s = document.createElement("DIV")).innerHTML = r, s.className = "webix_drag_zone", document.body.appendChild(s); var h = i.Gs; h.html && G.pointerevents && (h.x_offset = -Math.round(.5 * s.offsetWidth), h.y_offset = -Math.round(.75 * s.offsetHeight)) } return s.style.zIndex = Math.max(s.style.zIndex, pi()), Ki.cn = Qt(s, G.mouse.move, Ki.ln), Ki.Gs.from || (Ki.Gs = { source: e, from: e }), Ki.Oi = s, !0 }, ln: function() { Ki.rn = !0 }, destroyDrag: function(t) { var i = Ki.Ws, e = this.Ls[i.webix_drag]; e && e.$dragDestroy ? (Ki.cn = ti(Ki.cn), Ki.Oi && e.$dragDestroy(i, Ki.Oi, t)) : vt(Ki.Oi), e && e.ht && (e.ht = window.clearTimeout(e.ht)), Ki.dn && vt(Ki.dn), Ki.an = Ki.Ws = Ki.Xt = Ki.Oi = Ki.dn = null, Ki.Gs = null }, qs: function() { return Ki.Ls[Ki.Ws.webix_drag] }, top: 0, left: 0, un: function(t) { var i = Ki, e = i.Zs, s = i.Gs; if ("undefined" != typeof s.x_offset && "undefined" != typeof s.y_offset) return null; if (s.x_offset = s.y_offset = 0, G.pointerevents) { var n = Ki.qs(); if (n.vn && n !== this) { var r = n.vn(e, t); r && (s.x_offset = r.x - e.x, s.y_offset = r.y - e.y) } } }, $dragPos: function(t, i) { var e = this.Ls[Ki.Ws.webix_drag]; if (e.$dragPos && e != this) return e.$dragPos(t, i, Ki.Oi), !0 }, $dragIn: function(t, i, e) { var s = this.Ls[i.webix_drop]; return s.$dragIn && s != this ? s.$dragIn(t, i, e) : (i.className = i.className + " webix_drop_zone", i) }, $dragOut: function(t, i, e, s) { var n = this.Ls[i.webix_drop]; return n.$dragOut && n != this ? n.$dragOut(t, i, e, s) : (i.className = i.className.replace("webix_drop_zone", ""), null) }, $drop: function(t, i, e) { var s = this.Ls[i.webix_drop]; if (Ki.Gs.from = Ki.getMaster(t), s.$drop && s != this) return s.$drop(t, i, e); i.appendChild(t) }, $drag: function(t, i) { var e = this.Ls[t.webix_drag]; return e.$drag && e != this ? e.$drag(t, i) : "<div style='" + t.style.cssText + "'>" + t.innerHTML + "</div>" }
	}; F("onLongTouch", function(t) { Ki.Ws && !Ki.sn && Ki.Ys(t) }); var Ji = { move_setter: function(t) { return t && (T.extend(this, Zi, !0), Ki.addDrag(this._n ? this._n : this.$view, this), delete this.move_setter), t } }, Zi = { $dragCreate: function(t, i) { if (this.config.move) { var e = bt(t), s = gt(i); return Ki.top = e.y - s.y, Ki.left = e.x - s.x, C(this.Vt) } }, $dragDestroy: function(t, i) { this.P && (this.P.top = parseInt(i.style.top, 10), this.P.left = parseInt(i.style.left, 10)), Ki.top = Ki.left = 0, this.callEvent("onViewMoveEnd", []) }, $dragPos: function(t, i) { this.callEvent("onViewMove", [t, i]) } }, Qi = { pn: function(t) { if (t) { if (!this.bn) { this.bn = lt("div", { "class": "webix_modal" }); var i = this.St = pi(this.P.zIndex); ei.St.push(i), this.bn.style.zIndex = i - 1, this.Vt.style.zIndex = i, document.body.appendChild(this.bn), document.body.style.overflow = "hidden", Zt(this.bn, "click", S(this.mn, this)) } } else if (this.bn) { vt(this.bn), this.bn = null; var e = ei.St; e.splice(e.indexOf(this.St), 1), e.length || (document.body.style.overflow = "") } return t } }, te = {
		resize_setter: function(t) { return t && !this.gn && this.wn(), t }, wn: function() {
			if (!this.xn) {
				var t = this.Vt; t.firstChild && ((
					t = t.firstChild).style.position = "relative"), this.xn = lt("DIV", { "class": "webix_resize_handle", webix_disable_drag: "true" }), t.appendChild(this.xn), Zt(this.xn, G.mouse.down, this.yn, { bind: this })
			}
		}, Mn: function(t, i) { if (!this.Sn) { this.Sn = lt("div", { "class": "webix_resize_frame" }, ""), document.body.appendChild(this.Sn); var e = bt(this.Vt); this.Sn.style.left = e.x + "px", this.Sn.style.top = e.y + "px", this.Sn.style.zIndex = pi() } this.Sn.style.width = t + "px", this.Sn.style.height = i + "px" }, yn: function() { this.config.resize && (Mt(document.body, "webix_noselect webix_resize_cursor"), this.kn = bt(this.Vt), this.Cn = Qt(document.body, G.mouse.move, this.$n, { bind: this }), this.Dn = Qt(document.body, G.mouse.up, this.In, { bind: this })) }, $n: function(t) { if (!1 !== this.kn) { var i = gt(t), e = { x: i.x - this.kn.x, y: i.y - this.kn.y }; if (this.$resizeMove) this.$resizeMove(e); else { var s = this.config, n = s.minWidth || 100, r = s.minHeight || 100; e.x < n ? e.x = n : e.x > s.maxWidth && (e.x = s.maxWidth), e.y < r ? e.y = r : e.y > s.maxHeight && (e.y = s.maxHeight) } this.An = e, this.Mn(e.x, e.y) } }, In: function() { this.Sn && (this.Sn = vt(this.Sn)), St(document.body, "webix_resize_cursor"), St(document.body, "webix_noselect"), ti(this.Cn), ti(this.Dn), this.An && (this.$resizeEnd ? this.$resizeEnd(this.An) : (this.config.width = this.An.x, this.config.height = this.An.y, this.resize())), this.kn = this.An = !1, this.callEvent("onViewResize", []) }
	}, ie = {
		name: "window", $init: function(t) { this.Vt.innerHTML = "<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>", this.Wi = this.Vt.firstChild, this._n = this.Wi.childNodes[0], this.tt = this.Fn = this.Wi.childNodes[1], this.Vt.className += " webix_window", this.Vt.setAttribute("role", "dialog"), this.Vt.setAttribute("tabindex", "0"), this.Tn = this.$t = null, t.Dt = { top: !1, left: !1, right: !1, bottom: !1 }, t.id || (t.id = z()), Zt(this.Wi, "click", this.mn, { bind: this }), Zt(this.Wi, "click", function() { !this.P.zIndex && this.P.toFront && (this.Vt.style.zIndex = pi()) }, { bind: this, capture: !0 }), t.modal && (this.Vn = !0), t.headHeight && (this.P.headHeight = t.headHeight), t.close && (this.P.close = t.close), this.attachEvent("onViewMoveEnd", function() { this.P.position && delete this.P.position }) }, mn: function(t) { var i = ei.kt, e = i.find(this); -1 == e && (e = i.length - 1), t.click_view = e }, getChildViews: function() { return this.Tn ? [this.Tn, this.$t] : [this.$t] }, zIndex_setter: function(t) { return this.Vt.style.zIndex = t }, Tt: function() { this.body_setter() }, Ft: function(t, i) { var e = (i = i || this.$t) == this.$t; i.destructor(), e ? this.$t = t : this.Tn = t, (e ? this.Fn : this._n).appendChild(t.Vt); var s = t.Vt.style, n = { top: !0, left: !0, right: !0, bottom: !0 }, r = "0px"; !1 === t.config.borderless && (n = l(this.P.Dt), r = "1px"), t.P.Dt = n, s.borderTopWidth = s.borderBottomWidth = s.borderLeftWidth = s.borderRightWidth = r, this.resize(!0) }, show: function(t, i, e) {
			if (!0 === t) { if (!this.P.hidden) return; t = null } if (!this.callEvent("onBeforeShow", arguments)) return !1; var s, n, r; if (this.P.hidden = !1, this.Vt.style.zIndex = pi(this.P.zIndex), (this.P.modal || this.Vn) && (this.pn(!0), this.Vn = null), (i = i || {}).pos || (i.pos = this.P.relative), t) {
				"object" != M(t) || t.tagName ? s = bt(t = C(t)) : t.target ? (s = gt(t), n = 20, r = 5) : s = t; var h = Math.max(window.innerWidth || 0, document.body.offsetWidth), o = Math.max(window.innerHeight || 0, document.body.offsetHeight); n = n || t.offsetWidth || 0, r = r || t.offsetHeight || 0; var a = this.me, u = s.x, c = s.y, f = 0, l = 0, d = 0, v = 0, _ = this.P.autofit; if (_) { var p = "node" === _, b = 6, m = 6, g = 6; this.P.point || (b = m = g = 0), e = "top", u = c = 0, d = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft, h - s.x - n < a[0] && "right" == i.pos && !p && (i.pos = "left"), l = "right" == i.pos ? (u = s.x + b + n, m = -r, e = "left", f = Math.round(s.y + r / 2), u - g) : "left" == i.pos ? (u = s.x - b - a[0] - 1, m = -r, e = "right", f = Math.round(s.y + r / 2), u + a[0] + 1) : (u = s.x < d ? d : h + d - s.x > a[0] ? s.x : h + d - b - a[0], l = Math.round(s.x + n / 2), Math.min(l, u + a[0] - 3 * g)), v = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop, (!a[1] || o + v - r - s.y - m > a[1] || p) && "top" != i.pos ? (c = r + s.y + m - (this.P.point ? 4 : 0), f || (e = "top", f = c - g)) : (c = s.y - m - a[1]) < 0 ? (c = 0, "top" == e && (e = !1)) : f || (e = "bottom", f = --c + a[1] + 1) } var w = i.x || 0, x = i.y || 0, y = this.zn(); this.$view.style.position = y ? "fixed" : "absolute", y && (c -= v, f -= v), this.setPosition(u + w, c + x), this.Bn && (
					e && this.P.point ? this.Bn(e, l + w, f + x, y) : this.Hn())
			} else this.Qt(this.P.left, this.P.top); this.Vt.style.display = "block", this.Rn = 1, k(function() { this.Rn = 0 }, this, [], G.touch ? 400 : 100), this.Se(), this.config.autofocus && (this.En = Si.getFocus(), Si.setFocus(this)), -1 == ei.kt.find(this) && ei.kt.push(this), this.callEvent("onShow", [])
		}, Bi: function(t) { if (!this.P.hidden && !this.P.modal && this.P.escHide && !this.Rn && !(t && t.showpopup && (t.showpopup == this.P.id || this.getTopMenu && this.getTopMenu().P.id == t.showpopup) || t && G.touch && t.longtouch_drag || ei.St.length && this.Vt.style.zIndex <= Math.max.apply(Math, o(ei.St)))) { if (t) { var i = t.click_view; if (i || 0 === i || (i = -1), ei.kt.find(this) <= i) return } this.Pn() } }, hidden_setter: function(t) { return t ? this.hide() : this.show(), !!t }, hide: function() { var t = this.Pn(); this.jn(t) }, Pn: function() { if (!this.$destructed && !this.P.hidden) { if (this.P.modal && this.pn(!1), this.Nn(), this.P.autofocus) { var t = document.activeElement; t && this.Vt && (this.Vt.contains(t) || t === document.body) && (Si.setFocus(this.En), this.En = null) } var i = ei.kt.find(this); return -1 < i && ei.kt.removeAt(i), i } }, Nn: function() { "top" == this.P.position ? Li(this.Vt, { type: "slide", x: 0, y: -(this.xe + 20), duration: 300, callback: this.Ln, master: this }) : this.Ln() }, jn: function(t) { if (-1 < t) for (var i = ei.kt, e = i.length - 1; t <= e; e--)i[e].Hn && i[e].Pn() }, destructor: function() { this.hide(), Ci.destructor.apply(this, []) }, Ln: function() { this.$destructed || (this.Vt.style.display = "none", this.P.hidden = !0, this.callEvent("onHide", [])) }, close: function() { this.destructor() }, On: function(t) { "undefined" == typeof t.borderless && (t.borderless = !0) }, body_setter: function(t) { return "object" != M(t) && (t = { template: t }), this.On(t), (ei.bt = this).$t = ni.Ht(t), this.Fn.appendChild(this.$t.Vt), t }, head_setter: function(t) { var i = this; if (!1 === t) return t; var e = this.P.headHeight, s = "string" == typeof t, n = { height: e, padding: 0, css: "webix_win_title", type: "header", borderless: !0 }; s && (this.Vt.setAttribute("aria-label", t), t = { template: t }), ("template" == t.view || !t.view && t.template) && T.extend(t, n), s && this.config.close ? t = { padding: { left: Oi.inputHeight + 2, right: 2 }, cols: [t, { height: e, view: "icon", icon: "wxi-close", click: function() { i.hide() } }] } : T.extend(t, { borderless: !0 }), (ei.bt = this).Tn = ni.Ht(t); var r = this.Tn.Vt.querySelector(".webix_win_title>div"); return r && (r.style.lineHeight = e + "px"), this._n.appendChild(this.Tn.Vt), t }, getBody: function() { return this.$t }, getHead: function() { return this.Tn }, adjust: function() { return this.resize() }, resizeChildren: function() { this.$t && this.resize() }, resize: function() { zi.api.adjust.call(this), y("onResize", []), this.isVisible() && this.Qt(this.P.left, this.P.top) }, zn: function() { if (this.P.master) { var t = ai(this.P.master).getTopParentView().$view; return t && "fixed" === t.style.position } return !1 }, Qt: function(t, i) { if (this.P.position || this.zn()) { this.$view.style.position = "fixed"; var e = this.ge, s = this.xe; if (e <= 0 || s <= 0) return; var n = window.innerWidth || document.documentElement.offsetWidth, r = window.innerHeight || document.documentElement.offsetHeight, h = Math.round((n - e) / 2), o = Math.round((r - s) / 2); if ("function" == typeof this.P.position) { var a = { left: h, top: o, width: e, height: s, maxWidth: n, maxHeight: r }; this.P.position.call(this, a), a.width == e && a.height == s || this.$setSize(a.width, a.height), this.setPosition(a.left, a.top) } else "top" == this.P.position && (o = Li.isSupported() ? -1 * s : 10), this.P.position || (h = this.P.left || h, o = this.P.top || o), this.setPosition(h, o); "top" == this.P.position && Li(this.Vt, { type: "slide", x: 0, y: s - 2 * (this.P.padding || 0), duration: 300, callback: this.Wn, master: this }) } else this.setPosition(t, i) }, Wn: function(t) { Li.clear(t), this.P.top = -2 * (this.P.padding || 0), this.setPosition(this.P.left, this.P.top) }, setPosition: function(t, i) { this.Vt.style.top = i + "px", this.Vt.style.left = t + "px", this.P.left = t, this.P.top = i }, $getSize: function(t, i) {
			var e = this.P.Dt; e && (t += (e.left ? 0 : 1) + (e.right ? 0 : 1), i += (e.top ? 0 : 1) + (e.bottom ? 0 : 1)), this.P.head && (i += 1); var s = this.$t.$getSize(0, 0), n = 0; if (this.Tn) { var r = this.Tn.$getSize(0, 0); r[3] == r[2] && (this.P.headHeight = r[3]), i += this.P.headHeight, n = r[0] } if (this.P.fullscreen) {
				var h = window.innerWidth || document.body.clientWidth, o = window.innerHeight || document.body.clientHeight; return [h, h, o
					, o]
			} var a = Ri.api.$getSize.call(this, 0, 0); return n && 1e5 < s[1] && (s[0] = Math.max(n, s[0])), a[1] = Math.min(a[1], (1e5 <= s[1] && 1e5 <= a[1] ? Math.max(s[0], a[0]) : s[1]) + t), a[3] = Math.min(a[3], (1e5 <= s[3] && 1e5 <= a[3] ? Math.max(s[2], a[2]) : s[3]) + i), a[0] = Math.min(Math.max(a[0], s[0] + t), a[1]), a[2] = Math.min(Math.max(a[2], s[2] + i), a[3]), a
		}, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i), t = this.ge, i = this.xe, !1 === this.P.head ? (this._n.style.display = "none", this.$t.$setSize(t, i)) : (this.Tn.$setSize(t, this.P.headHeight), this.$t.$setSize(t, i - this.P.headHeight)) }, $skin: function() { this.defaults.headHeight = Oi.barHeight }, defaults: { top: 0, left: 0, autofit: !0, relative: "bottom", body: "", head: "", hidden: !0, autofocus: !0, minWidth: 300, minHeight: 200, escHide: !0 }
	}; F("onLongTouch", function(t) { if (t && t.target) { var i = ai(t.target); if (i) { i = i.queryView(function(t) { return !t.getParentView() }, "parent") || i; var e = ei.kt.find(i); -1 !== e && (t.click_view = e) } } }); var ee = { api: ie, view: T.protoUI(ie, Ri.view, Ji, Qi, g, te) }, se = { defaults: { padding: "4", hidden: !0 }, body_setter: function(t) { return t = ee.api.body_setter.call(this, t), this.$t.Vt.style.borderWidth = "0px", t }, attachTo: function(t) { var i; i = t.on_context ? t.attachEvent("onAfterContextMenu", S(this.Un, this)) : Qt(t, "contextmenu", this.Yn, { bind: this }), this.attachEvent("onDestruct", function() { t.callEvent ? t.detachEvent(i) : ti(i), t = null }) }, getContext: function() { return this.qn }, setContext: function(t) { this.qn = t }, Yn: function(t) { return this.qn = C(t || ee.event), this.Gn(t) }, Un: function(t, i) { return this.qn = { obj: ai(i), id: t }, this.Gn(i) }, Gn: function(t) { var i = this.show(t, null, !0); if (!1 === i) return i; var e = ai(t); if (e) { var s = e.queryView(function(t) { return !t.getParentView() }, "parent") || e; s.mn && s.mn(t) } return y("onClick", [t]), wt(t) }, Xn: !0, master_setter: function(t) { return this.attachTo(t), null } }, ne = { qn: null, Kn: null, Jn: 0, init: function() { return null !== this.qn || (ei.destructors.push({ obj: this }), this.qn = document.createElement("textarea"), this.qn.className = "webix_clipbuffer", this.qn.setAttribute("webixignore", 1), this.qn.setAttribute("spellcheck", "false"), this.qn.setAttribute("autocapitalize", "off"), this.qn.setAttribute("autocorrect", "off"), this.qn.setAttribute("autocomplete", "off"), document.body.appendChild(this.qn), Qt(document.body, "keydown", S(function(t) { var i = t.keyCode, e = !(!t.ctrlKey && !t.metaKey); 86 === i && e && (this.qn.value = "", k(this.Zn, this, [t], 100)) }, this))), this.qn }, destructor: function() { this.qn = null }, set: function(t) { this.init(), t = "" === t ? "\n" : t, this.qn.value = t, this.focus() }, focus: function() { this.Qn() || (this.init(), this.qn.focus(), this.qn.select()) }, Qn: function() { var t = ""; return "undefined" != typeof window.getSelection ? t = window.getSelection().toString() : "undefined" != typeof document.selection && "Text" == document.selection.type && (t = document.selection.createRange().text), !!t }, Zn: function(t) { if (t.target === this.qn) { var i = this.qn.value, e = Si.getFocus(); !e || e.getEditor && e.getEditor() || (e.callEvent("onPaste", [i]), this.qn.select()) } } }, re = { escape: !0, delimiter: { rows: "\n", cols: "\t" }, parse: function(t, i) { if (i = i || this.delimiter, !this.escape) return this.ir(t, i); for (var e = t.replace(/\n$/, "").split(i.rows), s = 0; s < e.length - 1;)this.sr(e[s], '"') % 2 == 1 && (e[s] += i.rows + e[s + 1], delete e[s + 1], s++), s++; var n = []; for (s = 0; s < e.length; s++)if ("undefined" != typeof e[s]) { for (var r = e[s], h = 0, o = [], a = !1, u = 0; u <= r.length; u++) { if (!a && r[u] === i.cols || u === r.length) { var c = r.substr(h, u - h); c[0] === c[c.length - 1] && '"' === c[0] && (c = c.substr(1, c.length - 2).replace('""', '"')), o.push(c), h = u + 1 } '"' !== r[u] || (a = !a) } n.push(o) } return n }, ir: function(t, i) { for (var e = t.split(i.rows), s = 0; s < e.length; s++)e[s] = e[s].split(i.cols); return e }, sr: function(t, i) { return t.split(i).length - 1 }, stringify: function(t, i) { if (i = i || this.delimiter, !this.escape) { for (var e = 0; e < t.length; e++)t[e] = t[e].join(i.cols); return t.join(i.rows) } for (var s = /\n|"|;|,/, n = 0; n < t.length; n++) { for (var r = 0; r < t[n].length; r++) { var h = t[n][r]; h instanceof Date ? t[n][r] = A.parseFormatStr(h) : s.test(h) && (t[n][r] = '"' + h.toString().replace(/"/g, '""') + '"') } t[n] = t[n].join(i.cols) } return t = t.join(i.rows) } }, he = {
		clipboard_setter: function(t) {
			return G.touch || (!0 !== t && 1 !== t || (t = "modify"), this.attachEvent("onAfterSelect",
				this.nr), this.attachEvent("onAfterEditStop", function(t, i) { var e = this.getSelectedId(!0); 1 == e.length && i.id == e[0] && this.nr() }), this.attachEvent("onPaste", function(t) { if (!V(this.Zn[this.P.clipboard])) { var i = re.parse(t, this.P.delimiter); this.Zn[this.P.clipboard].call(this, i) } }), this.attachEvent("onFocus", function() { ne.focus() }), this.attachEvent("onItemClick", function(t) { this.rr && -1 === this.rr.find(t) || (ne.focus(), Si.setFocus(this)) })), t
		}, nr: function() { var h = this; k(function() { if (!h.getEditor || !h.getEditor()) { for (var t = h.getSelectedId(!0), i = [], e = 0; e < t.length; e++) { var s = t[e], n = h.getItem(s); i.push([h.type.templateCopy(n)]) } var r = 1 === i.length ? i[0][0] : re.stringify(i, h.P.delimiter); ne.set(r, h), ne.focus(), Si.setFocus(h) } }) }, Zn: { insert: function(t) { var i = this; t.forEach(function(t) { return i.add({ value: t }) }) }, modify: function(t) { for (var i = this.getSelectedId(!0), e = 0; e < i.length; e++) { if (V(t[e])) return; this.getItem(i[e]).value = t[e], this.refresh(i[e]) } }, custom: function() { } }, templateCopy_setter: function(t) { this.type.templateCopy = qt(t) }, type: { templateCopy: function(t) { return this.template(t) } }
	}, oe = { $customPrint: function(t, i) { if (this.hr(t, i)) return !0; var e = this.or(t), s = this.ar(e, t); if (i) return s; var n = lt("div", { "class": "webix_ui_print" }); n.appendChild(s), _t(n, t.docFooter, document.body), window.print(), vt(n) }, hr: function(t, i) { if (!i && ("y" == this.config.layout || t.scroll || this.config.prerender || this.config.autoheight)) return !0; "x" == this.config.layout && T.extend(t || {}, { xCount: this.count(), nobreaks: !0 }, !0) }, ur: function(t) { var i = t.size["portrait" == t.mode ? "width" : "height"]; return Math.min(i * G.printPPI - 2 * G.printMargin) }, or: function(t, i, e) { var s, n, r = "page" == t.fit ? Infinity : this.ur(t), h = t.xCount || this.fr().cr, o = [], a = [], u = 0; e = e || 0, i = i || []; for (var c = 0; c < this.data.order.length;) { var f = this.data.pull[this.data.order[c]]; if (n = c - parseInt(c / h) * h, f && e <= n) { if (r < (u += this.type.width) && e < n) { s = a.length + e, o.push(a), c += h - a.length, a = [], u = 0; continue } var l = this.type.template(f, this.type), d = this.lr, v = { display: "table-cell", height: this.type.height + "px", width: this.type.width + "px" }; a.push({ txt: l, className: d + " " + (f.$css || ""), style: v }), (c + 1) % h == 0 && (o.push(a), a = [], u = 0) } c++ } return i.push(o), s && this.or(t, i, s), i }, ar: function(n, r) { var h = lt("div"); return n.forEach(S(function(t, i) { var e = lt("table", { "class": "webix_table_print " + this.$view.className, style: "border-collapse:collapse" }); if (t.forEach(function(t) { var s = lt("tr"); t.forEach(function(i) { var e = lt("td"); (i.txt && (e.innerHTML = i.txt), i.className && (e.className = i.className), i.style) && Object.keys(i.style).forEach(function(t) { i.style[t] && (e.style[t] = i.style[t]) }); i.span && (1 < i.span.colspan && (e.colSpan = i.span.colspan), 1 < i.span.rowspan && (e.rowSpan = i.span.rowspan)), s.appendChild(e) }), e.appendChild(s) }), h.appendChild(e), !r.nobreaks && i + 1 < n.length) { var s = lt("DIV", { "class": "webix_print_pagebreak" }); h.appendChild(s) } }, this)), h } }, ae = {
		scrollStep: 40, init: function() { this.dr(), this.scrollStep = Oi.rowHeight, G.$customScroll = !0, G.scrollSize = 0, ei.destructors.push({ obj: { destructor: function() { this.vr = null } } }), F("onReconstruct", ae._r), F("onResize", ae._r), F("onClick", ae._r) }, resize: function() { this._r() }, pr: function(t) { t.st.mr = t.P.id, t.attachEvent("onAfterRender", function() { var t = ae.gr(this), i = Math.max(t.dy - t.py, 0), e = Math.max(t.dx - t.px, 0); this.wr && this.xr > i ? this.wr.scrollTo(i) : this.yr && this.Mr > e && this.yr.scrollTo(e), ae.vr == this.st && ae._r() }), Zt(t.st, "mouseover", ae.Sr), Zt(t.st, "mouseout", ae.kr) }, enable: function(t, i) { if (ae.dr(), t.mapCells) return this.pr(t); var e = t; t.tt && (e = t.tt.parentNode), e.Cr = i || "xy", Zt(e, "mouseover", ae.Sr), Zt(e, "mouseout", ae.kr), Zt(e, "mousewheel", ae.Dr, { passive: !1 }), Zt(e, "DOMMouseScroll", ae.Dr, { passive: !1 }), this.Ir(t) }, _r: function() { var t = ae.vr; if (t && t.Ar) { var i = ai(t), e = i ? i.queryView(function(t) { var i = ae.Fr(t); return i && i.Ar }, "all").map(function(t) { return ae.Fr(t) }) : []; e.push(t), e.forEach(function(t) { ae.Tr.call(t), ae.Sr.call(t) }) } }, Fr: function(t) { return t.st || t.tt && t.tt.parentNode || t.$view }, dr: function() { Qt(document.body, "mousemove", function(t) { ae.Vr && ae.zr(ae.Vr, ae.Vr.Br, gt(t)) }), ae.dr = function() { } }, Sr: function() {
			if (ae.vr = this, clearTimeout(this.Hr),
				-1 == this.className.indexOf("webix_modalbox_inside") && !this.Ar && !ae.Vr) { var t = ai(this); if (!t || t.isEnabled()) { var i; if (this.mr) { if (!(t = ai(this.mr))) return; i = ae.gr(t) } else (i = { dx: this.scrollWidth, dy: this.scrollHeight, px: this.clientWidth, py: this.clientHeight }).ye = i.dx > i.px && -1 != this.Cr.indexOf("x"), i.we = i.dy > i.py && -1 != this.Cr.indexOf("y"); (this.Ar = i).ye && (i.Rr = ae.Ts(this, "x", i.dx, i.px, "width", "height"), i.Er = i.px - i.Rr.offsetWidth - 4, i.Pr = i.dx - i.px, ae.trackBar && (i.jr = ae.Nr(this, "x"))), i.we && (i.Lr = ae.Ts(this, "y", i.dy, i.py, "height", "width"), i.Or = i.py - i.Lr.offsetHeight - 4, i.Wr = i.dy - i.py, ae.trackBar && (i.Ur = ae.Nr(this, "y"))), ae.Yr(this) } }
		}, Nr: function(t, i) { var e = lt("DIV", { webixignore: "1", "class": "webix_c_scroll_bar_" + i }, ""); return t.appendChild(e), e }, zr: function(t, i, e) { var s = t.Ar, n = t.mr; if (n && (n = ai(n)), s.Rr == t.qr) { var r = (e.x - i.x) * s.Pr / s.Er; n ? n.yr.scrollTo(n.Mr + r) : ae.Gr(t, "scrollLeft", r) } if (s.Lr == t.qr) { var h = (e.y - i.y) * s.Wr / s.Or; n ? n.wr.scrollTo(n.xr + h) : ae.Gr(t, "scrollTop", h) } t.Br = e, ae.Yr(t) }, gr: function(t) { var i = {}; return t.yr && t.P.scrollX && (i.dx = t.yr.getSize(), i.px = t.yr.Xr || 1, i.ye = 1 < i.dx - i.px), t.wr && t.P.scrollY && (i.dy = t.wr.getSize(), i.py = t.wr.Xr || 1, i.we = 1 < i.dy - i.py), i }, kr: function() { clearTimeout(this.Hr), this.Hr = k(ae.Tr, this, [], 200) }, Kr: function(t) { t && (vt(t), t.Jr && (ti(t.Jr), ti(t.Zr), ti(t.Qr))) }, Tr: function() { if (this.Ar) { if (this.qr) return void (this.th = !0); var t = this.Ar; ae.Kr(t.Rr), ae.Kr(t.Lr), t.jr && vt(t.jr), t.Ur && vt(t.Ur), this.Ar = null } }, Dr: function(t) { var i = this.Ar, e = t.wheelDelta / -40, s = !1; if (!e && t.detail && V(t.wheelDelta) && (e = t.detail), i) { t.scrolledBy || (t.scrolledBy = i.we ? "y" : "x"); var n = t.wheelDeltaX && Math.abs(t.wheelDeltaX) > Math.abs(t.wheelDeltaY); if (i.Rr && ("y" !== t.scrolledBy && (t.wheelDeltaX || e) || n)) { var r = t.wheelDeltaX / -40 || e; s = ae.Gr(this, "scrollLeft", r * ae.scrollStep) } else !n && e && i.Lr && (s = ae.Gr(this, "scrollTop", e * ae.scrollStep)) } if (ae.Yr(this), !1 !== s) return wt(t) }, Gr: function(t, i, e) { var s = t.Ar, n = "scrollLeft" == i ? s.dx - s.px : s.dy - s.py, r = t[i]; return n < r + e && (e = n - r), !(!e || r + e < 0 && 0 === r) && (G.isIE && ae.Yr(t, i, e + r), t[i] += e, !0) }, Ts: function(t, i, e, s, n) { var r = lt("DIV", { webixignore: "1", "class": "webix_c_scroll_" + i }, "<div></div>"); return r.style[n] = Math.max(s * s / e - 7, 40) + "px", r.style["height" == n ? "top" : "left"] = "0px", t.style.position = "relative", t.appendChild(r), t.Jr = Qt(r, "mousedown", ae.ih(t)), t.Zr = Qt(document.body, "mouseup", S(ae.eh, t)), t.Qr = Qt(document.body, "mouseleave", S(ae.eh, t)), r }, ih: function(i) { return function(t) { Mt(document.body, "webix_noselect", 1), this.className += " webix_scroll_active", (ae.Vr = i).qr = this, i.Br = gt(t) } }, eh: function() { this.qr && (St(document.body, "webix_noselect"), this.qr.className = this.qr.className.toString().replace(" webix_scroll_active", ""), this.qr = !1, ae.Vr = 0, this.th && (ae.Tr.call(this), this.th = !1)) }, Yr: function(t, i, e) { var s = t.Ar; if (s && (s.Rr || s.Lr)) { var n = t.mr, r = "scrollLeft" == i ? e : t.scrollLeft, h = n ? ai(n).Mr : r, o = n ? 0 : h, a = "scrollTop" == i ? e : t.scrollTop, u = n ? ai(n).xr : a, c = n ? 0 : u; s.Rr && (s.Rr.style.bottom = 1 - c + "px", s.Rr.style.left = Math.round(s.Er * h / (s.dx - s.px)) + o + 1 + "px", s.jr && (s.jr.style.bottom = 1 - c + "px", s.jr.style.left = o + "px")), s.Lr && (s.Lr.style.right = 0 - o + "px", s.Lr.style.top = Math.round(s.Or * u / (s.dy - s.py)) + c + 1 + "px", s.Ur && (s.Ur.style.right = 0 - o + "px", s.Ur.style.top = c + "px")) } }, Ir: function(t) { var i = this; t.attachEvent && (t.attachEvent("onViewShow", function() { return i.sh(t) }), t.attachEvent("onAfterAutoScroll", function() { return i.sh(t) })), t.data && t.data.attachEvent && t.data.attachEvent("onStoreUpdated", function() { return i.sh(t) }) }, sh: function(t) { var i = ae.vr; i && t.$view.contains(i) ? ae._r() : ae.Tr.call(t.$view) }
	}, ue = { addCss: function(t, i, e) { if (!this.addRowCss && !e && !this.hasCss(t, i)) { var s = this.getItemNode(t); s && (s.className += " " + i, e = !0) } return this.data.addMark(t, i, 1, 1, e) }, removeCss: function(t, i, e) { if (!this.addRowCss && !e && this.hasCss(t, i)) { var s = this.getItemNode(t); s && (s.className = s.className.replace(i, "").replace("  ", " "), e = !0) } return this.data.removeMark(t, i, 1, e) }, hasCss: function(t, i) { return this.data.getMark(t, i) }, clearCss: function(t, i) { return this.data.clearMark(t, 1, i) } }, ce = {
		copy: function(t, i, e, s) {
			var n = (s = s || {}).newId || t; e = e || this; var r = this.getItem(t)
				; return e && (r = e.nh(r)), e.data.add(e.nh(r, n), i, s.parent || 0)
		}, rh: function(t, i, e) { if (i && t) { var s = this.getIndexById(t); return s + (e == this && e.getIndexById(i) < s ? 0 : 1) } }, move: function(t, i, e, s) { var n = (s = s || {}).newId || t; if ((e = e || this).data, e.data) { if ($(t)) { 3 < t.length && (this.$blockRender = e.$blockRender = !0); for (var r = 0; r < t.length; r++) { var h = this.move(t[r], i, e, s); i = e.rh(h, t[r + 1], this) } return this.$blockRender = e.$blockRender = !1, void (3 < t.length && (this.refresh(), e != this && e.refresh())) } var o = t, a = this.getItem(t); return e && e != this ? (o = e.data.add(e.nh(a, n), i, s.parent || 0), this.data.remove(t)) : (i < 0 && (i = this.data.order.length - 1), this.data.move(this.getIndexById(t), i), this.data.callEvent("onDataMove", [t, i, null, this.data.order[i + 1]])), o } }, moveUp: function(t, i) { var e = this.getIndexById(t) - (i || 1); return this.move(t, e < 0 ? 0 : e) }, moveDown: function(t, i) { return this.moveUp(t, -1 * (i || 1)) }, moveTop: function(t) { return this.move(t, 0) }, moveBottom: function(t) { return this.move(t, this.data.count() - 1) }, nh: function(t, i) { var e = T.extend({}, t); return e.id = !i || this.data.pull[i] ? z() : i, e.$template = null, this.P.externalData && (e = this.P.externalData.call(this, e, i, t)), e }
	}, fe = { isEmail: function(t) { return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test((t || "").toString()) }, isNumber: function(t) { return parseFloat(t) == t }, isChecked: function(t) { return !!t || "0" === t }, isNotEmpty: function(t) { return 0 === t || t } }, le = { $init: function() { this.yt && this.attachEvent("onChange", this.clearValidation) }, clearValidation: function() { if (this.elements) for (var t in this.elements) this.hh(t) }, validate: function(t, i) { this.callEvent, this.callEvent("onBeforeValidate", []); var e = this.oh = {}, s = !0, n = this.P.rules, r = this.isVisible && !this.isVisible(), h = t && t.hidden, o = t && t.disabled, a = {}, u = {}; for (var c in this.elements) { var f = this.elements[c].config.name; (r || this.elements[c].isVisible() || h) && (this.elements[c].isEnabled() || o) ? a[f] = this.elements[c] : u[f] = !0 } if ((n || a) && !i && this.getValues && (i = this.getValues()), n) { n.$obj && (s = this.ah(n.$obj, i, i, "") && s); var l = n.$all, d = i; if (this.P.complexData && (d = Et.collapseNames(i, "", {}, function(t) { return !n[t] })), l) for (var v in i) if (!u[v]) { var _ = this.ah(l, d[v], i, v); _ || (e[v] = !0), s = _ && s } for (var p in n) if (!u[p] && 0 !== p.indexOf("$") && !e[p]) { n[p]; var b = this.ah(n[p], d[p], i, p); b || (e[p] = !0), s = b && s } } if (a) for (var m in a) if (!e[m]) { var g = a[m]; if (g.validate) { var w = g.validate(); s = w && s, w || (e[m] = !0) } else { var x = g.P; if (x) { var y = x.validate; if (!y && x.required && (y = n.isNotEmpty), y) { var M = this.ah(y, i[m], i, m); M || (e[m] = !0), s = M && s } } } } return this.callEvent("onAfterValidation", [s, this.oh]), s }, ah: function(t, i, e, s) { return "string" == typeof t && (t = fe[t]), t.call(this, i, e, s) ? (this.callEvent("onValidationSuccess", [s, e]) && this.hh && this.hh(s), !0) : (this.callEvent("onValidationError", [s, e]) && this.uh && this.uh(s), !1) } }, de = {}; function ve(t, i) { if ("object" == M(t) && t.P && (t = t.P.id), de[t] || i) return de[t]; "string" != typeof t && "number" != typeof t || (t = { master: ai(t) }); var e = new _e(t), s = e.P.master.P.id; return de[s] = e, ai(s).attachEvent("onDestruct", function() { de[this.P.id] = null, delete de[this.P.id] }), e } t("dp", ve), ve.$$ = function(t) { return de[t] }; var _e = T.proto({
		defaults: { autoupdate: !0, updateFromResponse: !1, mode: "post", operationName: "webix_operation", trackMove: !1 }, $init: function() { this.reset(), this.ch = !1, this.name = "DataProcessor", this.$ready.push(this.fh) }, reset: function() { this.lh = [] }, url_setter: function(t) { var i = ""; if ("string" == typeof t) { var e = t.split("->"); 1 < e.length && (t = e[1], i = e[0]) } else t && t.mode && (i = t.mode, t = t.url); return i ? U(i, t) : t }, master_setter: function(t) { var i = t; return "DataStore" != t.name && (i = t.data), this.P.store = i, t }, dh: function(t) { var i = this.vh; this.vh = [], t(); var e = Promise.all(this.vh); return (this.vh = i) && i.push(e), e }, fh: function() { var t = this.P.store; t && (t.attachEvent("onStoreUpdated", S(this._h, this)), t.attachEvent("onDataMove", S(this.ph, this))) }, ignore: function(t, i) { var e = this.ch; this.ch = !0, t.call(i || this), this.ch = e }, off: function() { this.ch = !0 }, on: function() { this.ch = !1 }, bh: function(t) { var i = {}; for (var e in t) 0 !== e.indexOf("$") && (i[e] = t[e]); return i }, save: function(t, i, e) { return i = i || "update", this.mh(t, e, i, !0) }, mh: function(t, i, e, s) {
			if ("object" == M(t) && (t = t.toString()),
				t && !0 !== this.ch && e && "paint" != e) { var n = this.P.store; n && (i = i || this.P.store.getItem(t), n.gh && (i = n.gh(i))); var r = { id: t, data: this.bh(i), operation: e }; if (V(i.$parent) || (r.data.parent = i.$parent), "delete" != r.operation) { var h = this.P.master; h && h.data && h.data.getMark && h.data.getMark(t, "webix_invalid") && (r.wh = !0), this.validate(null, r.data) || (r.wh = !0) } return this.xh(r) && this.lh.push(r), this.P.autoupdate || s ? this.yh(t) : void 0 }
		}, ph: function(t, i, e, s) { if (this.P.trackMove) { var n = _(this.P.store.getItem(t)); n.webix_move_index = i, n.webix_move_id = s, n.webix_move_parent = e, this.mh(t, n, "order") } }, _h: function(t, i, e) { switch (e) { case "save": case "update": e = "update"; break; case "add": e = "insert"; break; case "delete": e = "delete"; break; default: return !0 }return this.mh(t, i, e) }, xh: function(t) { for (var i = 0; i < this.lh.length; i++) { var e = this.lh[i]; if (e.id == t.id && !e.Mh) return "delete" == t.operation && ("insert" == e.operation ? this.lh.splice(i, 1) : e.operation = "delete"), e.data = t.data, e.wh = t.wh, !1 } return !0 }, send: function() { return this.yh() }, yh: function(t) { if (this.P.url) { for (var i, e = this.lh, s = [], n = this.P.url, r = 0; r < e.length; r++) { var h = e[r]; if (!h.Mh && !h.wh) { var o = h.id; if (this.P.autoupdate || !t || t == o) { var a = h.operation, u = U.$parse("object" != M(n) || n.$proxy ? n : n[a]), c = u && (u.$proxy || "function" == typeof u); if (u) { var f = this.P.store; if (f && f.Sh && f.Sh(h.data), this.callEvent("onBefore" + a, [o, h])) { if (h.Mh = !0, !this.callEvent("onBeforeDataSend", [h])) return; h.data = this.kh(h.data); var l = void 0; u.$proxy ? (u.save && (l = u.save(this.config.master, h, this)), s.push(h)) : ("insert" == a && delete h.data.id, l = c ? u.call(this.config.master, h.id, h.operation, h.data) : (h.data[this.P.operationName] = a, this.S(u, h.data, this.P.mode))), l && (l = this.Ch(l, { id: h.id, status: h.operation }), t && o === t && (i = l)), this.callEvent("onAfterDataSend", [h]) } } } } } if (n.$proxy && n.saveAll && s.length) { var d = n.saveAll(this.config.master, s, this); d && (d = this.Ch(d, null), i || (i = d)) } return i } }, Ch: function(t, e) { var s = this; if (t) return t.then || (t = b.resolve(t)), t = t.then(function(t) { var i; if (t && "function" == typeof t.json && (t = t.json()), !(i = null === e ? s.$h(t) : s.$h(e, "", t, -1))) throw i; return i }, function(t) { throw s.Dh(e, "", null, t), t }), this.vh && this.vh.push(t), t }, kh: function(t) { var i = {}; for (var e in t) 0 !== e.indexOf("$") && (i[e] = t[e]); return i }, S: function(t, i, e) { return E()[e](t, i) }, attachProgress: function(t, i, e) { this.attachEvent("onBeforeDataSend", t), this.attachEvent("onAfterSync", i), this.attachEvent("onAfterSaveError", e), this.attachEvent("onLoadError", e) }, Dh: function(t, i, e, s) { t ? this.Ih(!0, t.id, !1, t.status, !1, { text: i, data: e, loader: s }) : (this.callEvent("onLoadError", arguments), y("onLoadError", [i, e, s, this])) }, Ih: function(t, i, e, s, n, r) { var h = this.P.master, o = this.getItemState(i); if (o.Mh = !1, !t) { this.setItemState(i, !1); var a = this.P.store; return a && a.exists(i) && (e && i != e && a.changeId(i, e), n && "delete" != s && this.P.updateFromResponse && this.ignore(function() { a.updateItem(e || i, n) })), this.P.undoOnError && h.P.undo && h.removeUndo(e || i), this.callEvent("onAfterSave", [n, i, r]), this.callEvent("onAfter" + s, [n, i, r]), n || {} } this.callEvent("onBeforeSaveError", [i, s, n, r]) && (o.wh = !0, this.P.undoOnError && h.P.undo && (this.ignore(function() { h.undo(i) }), this.setItemState(i, !1)), this.callEvent("onAfterSaveError", [i, s, n, r])) }, processResult: function(t, i, e) { var s = i && ("error" == i.status || "invalid" == i.status), n = !!i && (i.newid || i.id); return this.Ih(s, t.id, n, t.status, i, e) }, $h: function(t, i, e, s) { var n, r = this; if (this.callEvent("onBeforeSync", [t, i, e, s]), $(t)) n = [], t.forEach(function(t) { n.push(r.processResult(t, t, {})) }); else if (-1 === s) n = this.processResult(t, e, {}); else { var h, o = this.P.url; if (o.$proxy && o.result) n = o.result(t, this.P.master, this, i, e, s) || {}; else i && (h = e.json(), i && null == h && (h = { status: "error" })), n = this.processResult(t, h, { text: i, data: e, loader: s }) } return this.callEvent("onAfterSync", [t, i, e, s]), n }, escape: function(t) { return this.P.escape ? this.P.escape(t) : encodeURIComponent(t) }, getState: function() { if (!this.lh.length) return !1; for (var t = this.lh.length - 1; 0 <= t; t--)if (this.lh[t].Mh) return "saving"; return !0 }, getItemState: function(t) { var i = this.Ah(t); return this.lh[i] || null }, setItemState: function(t, i) {
			if (i) this.mh(t, null, "update"); else {
				var e = this.Ah(t); -1 < e && this.lh.splice(e, 1)
			}
		}, Ah: function(t) { for (var i = -1, e = 0; e < this.lh.length; e++)if (this.lh[e].id == t) { i = e; break } return i }
	}, ki, g, le); function pe() { this.name = "DataStore", T.extend(this, g), this.setDriver("json"), this.pull = {}, this.order = D(), this.Fh = {} } pe.prototype = {
		setDriver: function(t) { Bt[t], this.driver = Bt[t] }, X: function(t) { this.callEvent("onParse", [this.driver, t]), this.Th && this.filter(); var i = this.driver.getInfo(t); i.config && this.callEvent("onServerConfig", [i.config]); var e = this.driver.getOptions(t); e && this.callEvent("onServerOptions", [e]); var s = this.driver.getRecords(t); this.Vh(i, s), this.zh && this.Bh && !this.Hh && this.Bh(this.zh), this.Rh && (this.blockEvent(), this.sort(this.Rh), this.unblockEvent()), this.callEvent("onStoreLoad", [this.driver, t]), this.refresh() }, Vh: function(t, i) { var e = t.from, s = !0, n = !1; if (!e && 0 !== e && this.order[0]) { if (this.Eh) { n = {}; for (var r = 0; r < this.order.length; r++)n[this.order[r]] = !0 } s = !1, e = this.order.length } else e = 1 * (e || 0); for (var h = 0, o = 0; o < i.length; o++) { var a = this.driver.getDetails(i[o]), u = this.id(a); this.pull[u] ? s && this.order[h + e] && h++ : (this.order[h + e] = u, h++), this.pull[u] ? (T.extend(this.pull[u], a, !0), this.Ph && this.Ph(this.pull[u]), n && delete n[u]) : (this.pull[u] = a, this.jh && this.jh(a)) } if (n) { for (var c in this.blockEvent(), n) this.remove(c); this.unblockEvent() } var f = 1 * t.size; f && (this.order[f - 1] || (this.order[f - 1] = undefined), f < this.order.length && (this.order = this.order.slice(0, f))) }, id: function(t) { return t.id || (t.id = z()) }, changeId: function(t, i) { t != i && (this.pull[t] && (this.pull[i] = this.pull[t]), this.pull[i].id = i, this.order[this.order.find(t)] = i, this.Th && (this.Th[this.Th.find(t)] = i), this.Fh[t] && (this.Fh[i] = this.Fh[t], delete this.Fh[t]), this.callEvent("onIdChange", [t, i]), this.Nh && this.Nh(t, i), delete this.pull[t]) }, getItem: function(t) { return this.pull[t] }, updateItem: function(t, i, e) { "object" === M(t) && (t = t.toString()); var s = this.getItem(t), n = null, r = this.hasEvent("onDataUpdate"); !i || !i.id || i.id, V(i) || s === i || (r && (n = _(s)), t = s.id, T.extend(s, i, !0), s.id = t), this.Ph && this.Ph(s), this.callEvent("onStoreUpdated", [t, s, e || "update"]), r && this.callEvent("onDataUpdate", [t, s, n]) }, refresh: function(t) { this.Lh || (t ? this.exists(t) && this.callEvent("onStoreUpdated", [t, this.pull[t], "paint"]) : this.callEvent("onStoreUpdated", [null, null, null])) }, silent: function(t, i) { this.Lh = !0, t.call(i || this), this.Lh = !1 }, getRange: function(t, i) { if (t = t ? this.getIndexById(t) : this.$min || this.startOffset || 0, i ? i = this.getIndexById(i) : (i = 0 === this.$max ? 0 : Math.min(this.$max ? this.$max - 1 : this.endOffset || Infinity, this.count() - 1)) < 0 && (i = 0), i < t) { var e = i; i = t, t = e } return this.getIndexRange(t, i) }, getIndexRange: function(t, i) { i = Math.min(0 === i ? 0 : i || Infinity, this.count() - 1); for (var e = D(), s = t || 0; s <= i; s++)e.push(this.getItem(this.order[s])); return e }, count: function() { return this.order.length }, exists: function(t) { return !!this.pull[t] }, move: function(t, i) { if (t != i) { var e = this.getIdByIndex(t), s = this.getItem(e); this.Th && this.Oh(this.Th, 0, 0, this.getIdByIndex(t), this.getIdByIndex(i)), this.Oh(this.order, t, i), this.callEvent("onStoreUpdated", [e, s, "move"]) } }, Oh: function(t, i, e, s, n) { if (s || n) { i = e = -1; for (var r = 0; r < t.length; r++)t[r] == s && i < 0 && (i = r), t[r] == n && e < 0 && (e = r) } var h = t[i]; t.removeAt(i), t.insertAt(h, Math.min(t.length, e)) }, scheme: function(t) { for (var i in this.Wh = {}, this.Sh = t.$save, this.jh = t.$init || t.$change, this.Ph = t.$update || t.$change, this.gh = t.$serialize, this.zh = t.$group, this.Rh = t.$sort, this.Uh = t.$export, t) "$" != i.substr(0, 1) && (this.Wh[i] = t[i]) }, importData: function(t, i) {
			var e = t ? t.data || t : []; if (this.Th = null, "function" == typeof e.serialize) { if (this.order = D([].concat(e.order)), this.Yh) { this.Yh = !1; var s = this.pull; for (var n in this.pull = {}, e.pull) { var r = s[n]; this.pull[n] = _(e.pull[n]), r && r.open && (this.pull[n].open = !0) } } else for (var h in this.pull = {}, e.pull) this.pull[h] = e.pull[h]; e.branch && this.branch && (this.branch = _(e.branch), this.qh = null) } else { var o, a; if (this.order = D(), this.pull = {}, $(t)) for (var u = 0; u < t.length; u++)"object" == M(a = o = t[u]) ? a.id = a.id || z() : a = { id: o, value: o }, this.order.push(a.id), this.jh && this.jh(a), this.pull[a.id] = a; else for (var c in e) this.order.push(c), this.pull[c] = { id: c, value: e[c] } } if (
				this.Gh && !e.branch) { this.branch = { 0: [] }, this.Xh || this.Kh("data"); for (var f = 0; f < this.order.length; f++) { var l = this.order[f]; this.Gh(this.pull[l], 0, 0, !1) } } this.callEvent("onStoreLoad", []), i || this.callEvent("onStoreUpdated", [])
		}, sync: function(s, n, r) { this.unsync(); var t = M(s); if ("string" == t && (s = ai(s)), "function" != t && "object" != t && (r = n, n = null), "DataStore" != s.name && "TreeStore" != s.name) { if (!s.data || "DataStore" !== s.data.name && "TreeStore" !== s.data.name) return this.Jh = s, y("onSyncUnknown", [this, s, n]); s = s.data } var i = S(function(t, i, e) { this.Zh || (n && this.branch && (this.Yh = !0), this.importData(s, !0), n && this.silent(n), this.re && this.re(), t && i && e || this.count() || (this.Fh = {}), "delete" == e && this.Fh[t] && delete this.Fh[t], this.callEvent("onSyncApply", []), r ? r = !1 : this.refresh()) }, this); this.Qh = [s.attachEvent("onStoreUpdated", i), s.attachEvent("onIdChange", S(function(t, i) { this.changeId(t, i), this.refresh(i) }, this))], this.Jh = s, this.io = this.attachEvent("onStoreUpdated", function(t, i, e) { "update" != e && "save" != e || (this.Zh = 1, s.updateItem(t, i), this.Zh = 0) }), i() }, unsync: function() { if (this.Jh) { var t = this.Jh; if ("DataStore" == t.name || "TreeStore" == t.name || t.data && "DataStore" == t.data.name && "TreeStore" == t.data.name) { for (var i = 0; i < this.Qh.length; i++)t.detachEvent(this.Qh[i]); this.detachEvent(this.io) } else y("onUnSyncUnknown", [this, t]); this.Jh = null } }, destructor: function() { this.unsync(), this.pull = this.order = this.Fh = null, this.o = this.u = {} }, add: function(t, i) { if (this.Wh) for (var e in this.Wh) V(t[e]) && (t[e] = this.Wh[e]); this.jh && this.jh(t); var s = this.id(t), n = arguments[2] || this.order, r = n.length; if ((V(i) || i < 0) && (i = r), r < i && (i = Math.min(n.length, i)), !1 === this.callEvent("onBeforeAdd", [s, t, i])) return !1; if (this.exists(s), this.pull[s] = t, n.insertAt(s, i), this.Th) { var h = this.Th.length; this.order.length && (h = Math.min(i || 0, h)), this.Th.insertAt(s, h) } return this.callEvent("onStoreUpdated", [s, t, "add"]), this.callEvent("onAfterAdd", [s, i]), t.id }, remove: function(t) { if ($(t)) for (var i = 0; i < t.length; i++)this.remove(t[i]); else { if (!1 === this.callEvent("onBeforeDelete", [t])) return !1; this.exists(t); var e = this.getItem(t); this.order.remove(t), this.Th && this.Th.remove(t), delete this.pull[t], this.Fh[t] && delete this.Fh[t], this.callEvent("onStoreUpdated", [t, e, "delete"]), this.callEvent("onAfterDelete", [t]) } }, clearAll: function(t) { this.pull = {}, this.Fh = {}, this.order = D(), this.Th = null, t || (this.url = null), this.callEvent("onClearAll", [t]), this.refresh() }, getIdByIndex: function(t) { return this.order[t] }, getIndexById: function(t) { return this.pull[t] ? this.order.find(t) : -1 }, getNextId: function(t, i) { return this.order[this.getIndexById(t) + (i || 1)] }, getFirstId: function() { return this.order[0] }, getLastId: function() { return this.order[this.order.length - 1] }, getPrevId: function(t, i) { return this.order[this.getIndexById(t) - (i || 1)] }, sort: function(t, i, e) { var s, n = this, r = t; if (s = $(r) ? [r = r.map(function(t) { return n.eo(t) })] : [(r = this.eo(t, i, e)).by, r.dir, r.as, r], this.callEvent("onBeforeSort", s)) { var h = this.sorting.create(r); this.order = this.so(h, this.order), this.Th && (this.Th = this.so(h, this.Th)), this.refresh(), this.callEvent("onAfterSort", s) } }, eo: function(t, i, e) { var s = t; return "function" == typeof t ? s = { as: t, dir: i } : "string" == typeof t && (s = { by: t, dir: i, as: e }), "string" == typeof s.by && (s.by = s.by.replace(/#/g, "")), s }, so: function(t, i) { if (this.order.length) { for (var e = i.splice(0, this.$freeze), s = D(), n = i.length - 1; 0 <= n; n--)s[n] = this.pull[i[n]]; return s.sort(t), D(e.concat(s.map(function(t) { return this.id(t) }, this))) } return i }, no: function(t) { this.Th && !t && (this.order = this.Th, delete this.Th) }, ro: function(t, i, e) { for (var s = D(), n = this.$freeze || 0, r = 0; r < this.order.length; r++) { var h = this.order[r]; (r < n || t(this.getItem(h), i)) && s.push(h) } e && this.Th || (this.Th = this.order), this.order = s }, find: function(t, i) { var e = []; for (var s in this.pull) { var n = this.pull[s], r = !0; if ("object" == M(t)) { for (var h in t) if (n[h] != t[h]) { r = !1; break } } else t(n) || (r = !1); if (r && e.push(n), i && e.length) return e[0] } return i ? null : e }, filter: function(e, i, t) {
			if ((e || this.Th || this.qh) && this.callEvent("onBeforeFilter", [e, i]) && (this.no(t), this.order.length)) {
				if (e) {
					var s = e; i = i || "", "string" == typeof e && (e = e.replace(/#/g, ""),
						s = "function" == typeof i ? function(t) { return i(t[e]) } : (i = i.toString().toLowerCase(), function(t, i) { return -1 != (t[e] || "").toString().toLowerCase().indexOf(i) })), this.ro(s, i, t, this.ho)
				} this.refresh(), this.callEvent("onAfterFilter", [])
			}
		}, oo: function() { for (var t = [], i = this.order.length - 1; 0 <= i; i--)t[i] = this.pull[this.order[i]]; return t }, each: function(t, i, e) { var s = this.order; e && (s = this.Th || s); for (var n = 0; n < s.length; n++)s[n] && t.call(i || this, this.getItem(s[n]), n) }, ao: function(t, i) { return function() { return t[i].apply(t, arguments) } }, provideApi: function(t, i) { i && this.mapEvent({ onbeforesort: t, onaftersort: t, onbeforeadd: t, onafteradd: t, onbeforedelete: t, onafterdelete: t, ondataupdate: t }); for (var e = ["sort", "add", "remove", "exists", "getIdByIndex", "getIndexById", "getItem", "updateItem", "refresh", "count", "filter", "find", "getNextId", "getPrevId", "clearAll", "getFirstId", "getLastId", "serialize", "sync"], s = 0; s < e.length; s++)t[e[s]] = this.ao(this, e[s]) }, addMark: function(t, i, e, s, n) { var r = this.Fh[t] || {}; if (!(this.Fh[t] = r)[i]) { if (r[i] = s || !0, e) { var h = r.$css || ""; r.$css = h + " " + i } n || this.refresh(t) } return r[i] }, removeMark: function(t, i, e, s) { var n = this.Fh[t]; if (n) { if (n[i] && delete n[i], e) { var r = n.$css; r && (n.$css = r.replace(i, "").replace("  ", " ")) } s || this.refresh(t) } }, getMark: function(t, i) { var e = this.Fh[t]; return !!e && e[i] }, clearMark: function(t, i, e) { for (var s in this.Fh) { var n = this.Fh[s]; n[t] && (delete n[t], i && n.$css && (n.$css = n.$css.replace(t, "").replace("  ", " ")), e || this.refresh(s)) } }, serialize: function(t) { var i = this.order; t && this.Th && (i = this.Th); for (var e = [], s = 0; s < i.length; s++) { var n = this.pull[i[s]]; this.gh && !1 === (n = this.gh(n)) || e.push(n) } return e }, sorting: { create: function(t) { return $(t) ? this.uo(t) : this.co(t.dir, this.fo(t.by, t.as)) }, as: { server: function() { return !1 }, date: function(t, i) { return t -= 0, i -= 0, isNaN(i) ? 1 : isNaN(t) ? -1 : i < t ? 1 : t < i ? -1 : 0 }, "int": function(t, i) { return t *= 1, i *= 1, isNaN(i) ? 1 : isNaN(t) ? -1 : i < t ? 1 : t < i ? -1 : 0 }, string_strict: function(t, i) { return i ? t ? (t = t.toString(), (i = i.toString()) < t ? 1 : t < i ? -1 : 0) : -1 : 1 }, string: function(t, i) { return i ? t ? (t = t.toString().toLowerCase(), (i = i.toString().toLowerCase()) < t ? 1 : t < i ? -1 : 0) : -1 : 1 }, raw: function(t, i) { return i < t ? 1 : t < i ? -1 : 0 } }, uo: function(n) { var i = this; return n = n.map(function(t) { return i.co(t.dir, i.fo(t.by, t.as)) }), function(t, i) { for (var e, s = 0; !(e = n[s](t, i)) && n[++s];); return e } }, fo: function(e, s) { return e ? ("function" != typeof s && (s = this.as[s || "string"]), function(t, i) { return s(t[e], i[e]) }) : s }, co: function(t, e) { return "asc" != t && t ? function(t, i) { return -1 * e(t, i) } : e } }
	}; var be = T.proto({
		$init: function(t) { t = t || "", this.lo = {}, this.Y = 1, this.data = new pe, this.data.attachEvent("onClearAll", S(this["do"], this)), this.data.attachEvent("onServerConfig", S(this.vo, this)), this.attachEvent("onDestruct", this["do"]), this.data.feed = this._o, this.data.owner = t.id }, _o: function(t, i, e, s) { return this.po ? (s = b.defer(), this.po = [t, i, e, s], s) : (this.po = !0, this.lo.from = t, this.lo.count = i, this.bo.call(this, t, i, e, !1, !1, s)) }, bo: function(t, i, e, s, n, r) { var h = this, o = null; if (s = s || this.data.url, t < 0 && (t = 0), n || (n = { start: t, count: i }), this.count() && (n["continue"] = "true"), this.getState && (o = this.getState()), s && "string" != typeof s) return o && (o.sort && (n.sort = o.sort), o.filter && (n.filter = o.filter)), this.load(s, 0, n).then(function(t) { return h.mo(t, e, r) }, function() { return h.go() }); s += -1 == s.indexOf("?") ? "?" : "&"; var a = []; for (var u in n) a.push(u + "=" + n[u]); if (o) { if (o.sort) for (var c = $(o.sort) ? o.sort : [o.sort], f = 0; f < c.length; f++)a.push("sort[" + c[f].id + "]=" + encodeURIComponent(c[f].dir)); if (o.filter) for (var l in o.filter) { var d = o.filter[l]; "object" == M(d) && (d = E().stringify(d)), a.push("filter[" + l + "]=" + encodeURIComponent(d)) } } return s += a.join("&"), this.lo.url !== s ? (this.lo.url = s, this.load(s).then(function(t) { return h.mo(t, e, r) }, function() { return h.go() })) : (this.po = !1, b.reject()) }, mo: function(t, i, e) { var s = this; return k(function() { return s.go() }, "", "", 100), i && E.$callback(this, i, t), e && e.resolve(t), t }, go: function() { var t = this.po; this.po = !1, "object" == M(t) && this.data.feed.apply(this, t) }, load: function(t) { t = U.$parse(t); var i = Rt.load.apply(this, arguments); return this.data.url || (this.data.url = t), i }, loadNext: function(t, i, e, s, n) {
			var r = this.P; if (!r.datathrottle || n) return i || 0 === i || (i = this.count()), t || (t = r.datafetch || this.count()), this.data.url = this.data.url || s, this.callEvent("onDataRequest", [i, t, e, s]) && this.data.url ? this.data.feed.call(this, i, t, e) : b.reject(); this.wo && window.clearTimeout(this.wo); var h = b.defer(); return this.wo = k(function() { h.resolve(this.loadNext(t, i, e, s, !0)) }, this, 0, r.datathrottle), h
		}, xo: function(t, i) { var e = this.lo; return !!(this.po && e.url && e.from <= i && e.count + e.from >= t + i) }, removeMissed_setter: function(t) { return this.data.Eh = t }, yo: function() { var t = this.P.save; !0 === t && (t = this.P.save = this.P.url); var i = { master: this }; t && t.url ? T.extend(i, t) : i.url = t, ve(i) }, save_setter: function(t) { return t && this.$ready.push(this.yo), t }, waitSave: function(t) { var i = this; return ve(this).dh(function() { t.call(i) }).then(function(t) { return 1 == t.length ? t[0] : t }) }, scheme_setter: function(t) { this.data.scheme(t) }, dataFeed_setter: function(t) { return t = U.$parse(t), this.data.attachEvent("onBeforeFilter", S(function(t, i) { var e, s = this; if ("function" == typeof t) return !0; if (this.P.dataFeed && (t || i)) { t = t || "id", i && "object" == M(i) && (i = i.id); var n = this.P.dataFeed; if ("string" == typeof n) { var r = "filter[" + t + "]=" + encodeURIComponent(i); e = this.O(n + (n.indexOf("?") < 0 ? "?" : "&") + r, this.P.datatype) } else { var h = {}; h[t] = i, "function" == typeof n ? e = n.call(this, i, h) : n.$proxy && n.load && (e = n.load(this, { filter: h })) } return e && (e.then || (e = b.resolve(e)), e.then(function(t) { s.clearAll(), s.W(t), s.data.callEvent("onAfterFilter", []) }, function(t) { return s.U(t) })), !1 } }, this)), t }, G: function() { if (this.P.ready && !this.Mo) { var t = v(this.P.ready, this.$scope); t && k(t, this, arguments), this.callEvent && k(this.callEvent, this, ["onReady", []]), this.Mo = !0 } }, "do": function(t) { this.Y++, t || (this.po = !1, this.lo = {}, this.waitData = b.defer()) }, vo: function(t) { this.Hi(t) }
	}, Rt), me = { getState: function() { for (var i = this, t = this.config.columns.length, e = this.config.columns, s = { ids: [], size: [], select: this.getSelectedId(!0), scroll: this.getScrollState() }, n = 0; n < t; n++) { var r = e[n]; s.ids.push(r.id), s.size.push(r.fillspace || r.adjust ? -1 : r.width) } if (s.order = [].concat(this.So.length ? this.So : s.ids), this.ko.length) { var h = this.ko.map(function(t) { return { id: t, dir: i.Co[t].dir } }); s.sort = 1 == h.length ? h[0] : h } if (this.$o && this.Do) { var o = {}, a = 0; for (var u in this.$o) if (!this.Io[u]) { var c = this.$o[u]; c[1].value = o[u] = c[2].getValue(c[0]), a = 1 } a && (s.filter = o) } for (var f in s.hidden = [], this.Io) s.hidden.push(f); return s }, setState: function(t) { var i = this.config.columns; if (t) { if (this.markSorting(), this.ko = [], this.Co = {}, this.blockEvent(), t.order && t.order.length) { this.So = D([].concat(t.order)); var e = t.order.length - this.P.rightSplit; this.Ao = [this.P.leftSplit, e, this.P.rightSplit] } if (t.hidden) { for (var s = {}, n = 0; n < t.hidden.length; n++)s[t.hidden[n]] = !0, this.So.length || this.hideColumn(t.hidden[n]); if (this.So.length) for (var r = 0; r < this.So.length; r++) { var h = this.So[r]; !!s[h] == !this.Io[h] && this.hideColumn(h, {}, !1, !!s[h]) } } if (t.ids) { for (var o = !1, a = 0; a < i.length; a++)i[a].id != t.ids[a] && (o = !0); if (o) { for (var u = 0; u < t.ids.length; u++)i[u] = this.getColumnConfig(t.ids[u]) || i[u]; this.refreshColumns() } } if (t.size) for (var c = Math.min(t.size.length, i.length), f = 0; f < c; f++) { var l = i[f]; l && 0 < t.size[f] && l.width != t.size[f] && (delete l.fillspace, delete l.adjust, this.Fo(f, t.size[f], !0)) } this.unblockEvent(); var d = !(this.P.leftSplit || this.P.rightSplit); if (this.To(d), this.callEvent("onStructureUpdate", []), t.sort) { var v = t.sort, _ = !0; $(v) || (_ = !(v = [v])); for (var p = 0; p < v.length; p++) { var b = this.getColumnConfig(v[p].id); b && this.Vo(b.id, v[p].dir, b.sort, _) } } if (t.filter) { var m = this.filterByAll; for (var g in this.filterByAll = function() { }, t.filter) { var w = t.filter[g]; if (w && this.$o[g]) { var x = this.$o[g]; x[2].setValue(x[0], w); var y = x[1].contentId; y && (this.zo[y].value = w) } } for (var M in this.$o) if (!t.filter[M]) { var S = this.$o[M]; S[2].setValue(S[0], "") } this.filterByAll = m, this.filterByAll() } if (t.select && this.select) { var k = t.select; this.unselect(); for (var C = 0; C < k.length; C++)k[C].row && !this.exists(k[C].row) || this.Bo(k[C], !0) } t.scroll && this.scrollTo(t.scroll.x, t.scroll.y) } } }, ge = {
		Ho: function(t, i, e) {
			i || Ki.addDrop(t.Wi, t, !0), e || Ki.addDrag(t.Wi, t), this.attachEvent(
				"onDragOut", function(t, i) { this.$dragMark(t, i) }), this.attachEvent("onBeforeAutoScroll", function() { var t = Ki.getContext(); return !(!Ki.Ws || !t || t.to !== this && !this.Ro) })
		}, drag_setter: function(t) { return t && (T.extend(this, Xt, !0), "order" != t && "move" != t || T.extend(this, d("DragOrder"), !0), "inner" != t && "order" != t || (this.Eo = !0), this.Ho(this, "source" == t, "target" == t), delete this.drag_setter), t }, $dragIn: function(t, i, e) { var s = this.locate(e) || null, n = Ki.Gs; if ((this.Eo || n.from.Eo) && n.from !== this) return !1; var r = Ki.getMaster(i), h = this.getItemNode(s, e) || this.tt; if (h == Ki.an) return h; n.target = s, n.to = r, this.ht && (this.ht = window.clearTimeout(this.ht)); var o = this.addRowCss && G.touch && !this.P.prerender; return !1 === this.P.dragscroll || o || (this.ht = k(function(t, i) { this.Po(i), this.et(t, i) }, this, [gt(e), s], 250)), this.$dropAllow(n, e) && this.callEvent("onBeforeDragIn", [n, e]) ? (this.$dragMark(n, e), h) : (n.to = n.target = null, this.ht && (this.ht = window.clearTimeout(this.ht)), null) }, $dropAllow: function() { return !0 }, Po: function() { }, jo: function(t) { return t && "object" === M(t) ? t.toString() : t }, $dragOut: function(t, i, e, s) { var n = (this.Vt.contains(e) ? this.locate(s) : null) || null, r = Ki.Gs; return (r.target || "").toString() == (n || "").toString() || (this.ht && (this.ht = window.clearTimeout(this.ht)), r.target = r.to = null, this.callEvent("onDragOut", [r, s])), null }, $drop: function(t, i, e) { var s = Ki.Gs; (s.to = this).No(t, i, s), this.$dragMark({}, e), s.from && s.from != s.to && s.from.callEvent && !s.from.callEvent("onBeforeDropOut", [s, e]) || this.callEvent("onBeforeDrop", [s, e]) && (this.Lo(s, e), this.callEvent("onAfterDrop", [s, e])) }, No: function(t, i, e) { var s = this.jo(e.target); this.getBranchIndex ? e.index = s ? (e.parent = this.getParentId(s), this.getBranchIndex(s)) : -1 : e.index = s ? this.getIndexById(s) : this.count() }, Lo: function(t) { if (t.from, t.from && t.from.move) { var i = { parent: t.parent, mode: t.pos }; t.from.move(t.source, t.index, t.to, i) } }, $longTouchLimit: !0, vn: function(t, i) { if (this.getItemNode) { var e = this.locate(i, !0), s = e ? this.getItemNode(e) : null; return s ? bt(s) : s } }, $drag: function(t, i) { var e = this.locate(i, !0); if (e) { var s = [e]; if (this.getSelectedId) { var n = this.getSelectedId(!0, !0); if (n && 1 < n.length && -1 != x.find.call(n, e)) { var r = {}; s = []; for (var h = 0; h < n.length; h++)r[n[h]] = !0; for (var o = 0; o < this.data.order.length; o++) { var a = this.data.order[o]; r[a] && s.push(a) } } } var u = Ki.Gs = { source: s, start: e }; if ((u.from = this).callEvent("onBeforeDrag", [u, i])) return G.touch && "touch" == this.Oo && k(function() { qi.Xe = null }), u.html || this.$dragHTML(this.getItem(e), i, u) } return null }, $dragHTML: function(t, i, e) { var s = this.Q(t); return $(e.source) && 1 < e.source.length && (s = this.Wo(s, e.source.length)), s }, Wo: function(t, i) { var e = "<div class='webix_drag_multiple'></div>"; return 2 < i && (e = "<div class='webix_drag_multiple_last'></div>" + e), e + (t = "<div class='webix_drag_main'>" + t + "</div>") + "<span class='webix_badge'>" + i + "</span>" }, $dragMark: function(t) { var i = null; return t.target && (i = this.jo(t.target)), this.Uo && this.Uo != i && (this.Yo([this.Uo], "webix_drag_over", !0), this.Uo = null), !this.Uo && i ? (this.Uo = i, this.qo([i], "webix_drag_over", !0), i) : !!t.to }, qo: function(t, i) { for (var e = 0; e < t.length; e++)this.addCss(t[e], i) }, Yo: function(t, i) { for (var e = 0; e < t.length; e++)this.removeCss(t[e], i) }, $dropHTML: function() { return "" }, Go: function(t, i) { var e = this.getItemNode(t); e ? e.parentNode.insertBefore(Ki.dn[0], e) : i.children[0].appendChild(Ki.dn[0]) }
	}, we = {
		$drag: function(t, i) { var e = ge.$drag.apply(this, arguments); if (!e) return e; var s = Ki.Gs; return this.Xo && this.Xo(s), this.Eo && this.getBranchIndex && (this.Ko = this.Jo ? 20 * (this.getItem(s.start).$level + 1) + 8 : 0), $(s.source) && (Ki.un(i), this.qo(s.source, "webix_invisible")), e }, $dragIn: function(t, i, e) { var s = ge.$dragIn.apply(this, arguments); if (!s) return s; Ki.dn || (Ki.dn = this.Zo()); var n = Ki.Gs, r = "$webix-last"; if (n.target && (r = this.jo(n.target)), "$webix-last" != r && "$webix-drop" != r) { var h = { direction: this.P.layout || this.Qo || "y", x: "width", y: "height" }, o = bt(s); 2 * (gt(e)[h.direction] - o[h.direction]) > o[h[h.direction]] && (r = this.getNextId(r) || "$webix-last") } return r == this.ta || "$webix-drop" == r || (this.ta = r, this.Go(r, i)), s }, $dragPos: function(t) {
			if (!this.Eo) { var i = Ki.Gs; return t.y += i.y_offset, void (t.x += i.x_offset) }
			var e = bt(this.$view); if ("x" == this.P.layout) if (e.x -= 12, t.y = e.y - 8, t.x = t.x - 18, t.x < e.x) t.x = e.x; else { var s = e.x + e.width; t.x > s && (t.x = s) } else if (e.y += (this.ia || 0) - 12, t.x = e.x + 8 + (this.Ko || 0), t.y = t.y - 18, t.y < e.y) t.y = e.y; else { var n = e.y + e.height - (this.ia || 0); t.y > n && (t.y = n) }
		}, $dragOut: function(t, i, e) { return i != e && (vt(Ki.dn), this.ta = Ki.dn = null), ge.$dragOut.apply(this, arguments) }, No: function(t, i, e) { var s = "$webix-last" == this.ta ? null : this.ta; this.getBranchIndex ? s ? (e.parent = this.getParentId(s), e.index = this.getBranchIndex(s), t == i && this.getParentId(e.start) == e.parent && this.getBranchIndex(e.start) < e.index && (e.index -= 1)) : e.index = -1 : (e.index = s ? this.getIndexById(s) : this.count(), e.index -= t == i && this.getIndexById(e.start) < e.index ? 1 : 0) }, $dragDestroy: function() { var t = Ki.Gs; $(t.source) && this.Yo(t.source, "webix_invisible"), vt(Ki.Oi) }, Zo: function() { var t = document.createElement("div"); return t.className = "webix_drop_area", t.style.width = this.type.width + "px", t.style.height = this.type.height + "px", t.innerHTML = this.$dropHTML(), t.setAttribute(this.ea, "$webix-drop"), [t] }, $dragMark: function() { return !1 }
	}; t("DragOrder", we); var xe = { $init: function() { this.sa = T.extend([], x, !0), this.na = -1 }, undo_setter: function(t) { return t && (this.ra(), this.ra = function() { }), t }, ra: function() { var n = this; this.attachEvent("onBeforeDrop", function(t) { if (t.from == t.to) { var i = n.ha = _(this.getItem(t.start)); this.data.branch ? i.$index = this.getBranchIndex(i.id) : i.$index = this.getIndexById(i.id) } }), this.data.attachEvent("onDataMove", function(t) { if (n.ha && n.ha.id == t) { var i = n.ha; n.ha = null, n.oa(t, i, "move") } }), this.data.attachEvent("onBeforeDelete", function(t) { if (this.getItem(t)) { var i = n.aa = _(this.getItem(t)); this.branch ? (i.$index = this.getBranchIndex(t), this.branch[t] && (i.$branch = _(this.serialize(t)))) : i.$index = this.getIndexById(t) } }), this.data.attachEvent("onDataUpdate", function(t, i, e) { n.oa(t + "", e, "update") }), this.data.attachEvent("onStoreUpdated", function(t, i, e) { var s = null; t && ("add" == e ? s = _(i) : "delete" == e && (s = n.aa), s && n.oa(t, s, e)) }), this.data.attachEvent("onIdChange", function(t, i) { "object" == M(t) && (t = t.row); for (var e = 0; e < n.sa.length; e++)n.sa[e].id == t && (n.sa[e].id = i) }) }, oa: function(t, i, e) { !this.ua && this.P.undo && (this.sa.push({ id: t, action: e, data: i }), 20 == this.sa.length && this.sa.splice(0, 1), this.ca || (this.na = this.sa.length - 1)) }, ignoreUndo: function(t, i) { this.ua = !0, t.call(i || this), this.ua = !1 }, removeUndo: function(t) { for (var i = this.sa.length - 1; 0 <= i; i--)this.sa[i].id == t && ("id" == this.sa[i].action && (t = this.sa[i].data), this.sa.removeAt(i)); this.na = this.sa.length - 1 }, undo: function(e) { if (e) this.ignoreUndo(function() { var t, i; for (i = this.sa.length - 1; !t && 0 <= i; i--)this.sa[i].id == e && (t = this.sa[i]); t && (this.fa(t), this.sa.removeAt(i + 1), this.na = this.sa.length - 1) }); else { var t = this.sa[this.na]; t && (this.ignoreUndo(function() { this.fa(t), this.sa.removeAt(this.na) }), this.na--) } }, fa: function(t) { if ("delete" == t.action) { var i = null, e = t.data.$parent; t.data.$branch && (i = { parent: t.id, data: _(t.data.$branch) }, delete t.data.$branch, e && !this.data.branch[e] && (e = 0)), this.add(t.data, t.data.$index, e), i && this.parse(i) } else "add" == t.action ? this.remove(t.id) : "update" == t.action ? this.updateItem(t.id, t.data) : "move" == t.action && (t.data.$parent ? this.getItem(t.data.$parent) && this.move(t.id, t.data.$index, null, { parent: t.data.$parent }) : this.move(t.id, t.data.$index)) } }; function ye(t) { t && t.setMasterValue && !t.la && (t.la = !0, t.attachEvent("onValueSuggest", function() { k(function() { y("onEditEnd", []) }) })) } function Me(t) { return "string" == typeof t ? t : t.linkInput ? t.P.id : ("object" == M(t) ? ($(t) && (t = { data: t }), t.view = t.view || "suggest") : !0 === t && (t = { view: "suggest" }), ni(t).config.id) } function Se(t) { return ((t.header && t.header[0] ? t.header[0].text : t.editValue || t.label) || "").toString().replace(/<[^>]*>/g, "") } var ke = {
		text: {
			focus: function() { this.getInputNode(this.node).focus(), this.getInputNode(this.node).select() }, getValue: function() { return this.getInputNode(this.node).value }, setValue: function(t) { var i = this.getInputNode(this.node); i.value = t, ye(function n(t, i) { var e = t.config.suggest; if (e) { var s = ai(t.config.suggest = Me(e)); return s && i && s.linkInput(i), s } }(this, i)) }, getInputNode: function() {
				return this.node.firstChild
			}, render: function() { return lt("div", { "class": "webix_dt_editor" }, "<input type='text' aria-label='" + Se(this.config) + "'>") }
		}, "inline-checkbox": { render: function() { return {} }, getValue: function() { return this.node.checked }, setValue: function() { }, focus: function() { this.node.focus() }, getInputNode: function() { }, $inline: !0 }, "inline-text": { render: function() { return {} }, getValue: function() { return this.node.value }, setValue: function() { }, focus: function() { try { this.node.select(), this.node.focus() } catch (Eo) { } }, getInputNode: function() { }, $inline: !0 }, checkbox: { focus: function() { this.getInputNode().focus() }, getValue: function() { return this.getInputNode().checked }, setValue: function(t) { this.getInputNode().checked = !!t }, getInputNode: function() { return this.node.firstChild.firstChild }, render: function() { return lt("div", { "class": "webix_dt_editor" }, "<div><input type='checkbox' aria-label='" + Se(this.config) + "'></div>") } }, select: { focus: function() { this.getInputNode().focus() }, getValue: function() { return this.getInputNode().value }, setValue: function(t) { this.getInputNode().value = t }, getInputNode: function() { return this.node.firstChild }, render: function() { var i = "", t = this.config.options || this.config.collection; if (t.data && t.data.each) t.data.each(function(t) { i += "<option value='" + t.id + "'>" + t.value + "</option>" }); else if ($(t)) for (var e = 0; e < t.length; e++) { var s = t[e], n = V(s.id), r = n ? s : s.id, h = n ? s : s.value; i += "<option value='" + r + "'>" + h + "</option>" } else for (var o in t) i += "<option value='" + o + "'>" + t[o] + "</option>"; return lt("div", { "class": "webix_dt_editor" }, "<select aria-label='" + Se(this.config) + "'>" + i + "</select>") } }, popup: { focus: function() { this.getInputNode().focus() }, destroy: function() { this.getPopup().hide() }, getValue: function() { return this.getInputNode().getValue() || "" }, setValue: function(t) { this.getPopup().show(this.node), this.getInputNode().setValue(t) }, getInputNode: function() { return this.getPopup().getChildViews()[0] }, getPopup: function() { return this.config.$popup || (this.config.$popup = this.createPopup()), ai(this.config.$popup) }, createPopup: function() { var t, i = this.config.popup || this.config.suggest; if (i) return (t = "object" != M(i) || i.name ? ai(i) : (i.view = i.view || "suggest", ni(_(i)))).da || (t.linkInput ? t.linkInput(document.body) : this.linkInput && this.linkInput(document.body), t.da = !0), ye(t), t; var e = ke.$popup[this.popupType]; return "string" == typeof e || e.name || (e = ke.$popup[this.popupType] = ni(e), this.popupInit(e), e.linkInput || this.linkInput(document.body)), e.P.id }, linkInput: function(t) { Zt(C(t), "keydown", S(function(t) { if (this.config.$popup) { var i, e = t.which || t.keyCode, s = this.getInputNode(); if (s.isVisible()) if (s.moveSelection && e < 41 && 32 < e) 33 == e && (i = "pgup"), 34 == e && (i = "pgdown"), 35 == e && (i = "bottom"), 36 == e && (i = "top"), 37 == e && (i = "left"), 38 == e && (i = "up"), 39 == e && (i = "right"), 40 == e && (i = "down"), s.moveSelection(i); else 13 !== e || "TEXTAREA" === t.target.nodeName && t.shiftKey || y("onEditEnd", []) } }, this)) }, popupInit: function() { }, popupType: "text", render: function() { return {} }, $inline: !0 }
	}; ke.color = T.extend({ focus: function() { }, popupType: "color", popupInit: function(t) { t.getChildViews()[0].attachEvent("onItemClick", function(t) { y("onEditEnd", [t]) }) } }, ke.popup), ke.date = T.extend({ focus: function() { }, popupType: "date", setValue: function(t) { this.va = this.config.stringResult || t && "string" == typeof t, ke.popup.setValue.call(this, t) }, getValue: function() { return this.getInputNode().getValue(this.va ? A.parseFormatStr : "") || "" }, popupInit: function(t) { t.getChildViews()[0].attachEvent("onDateSelect", function(t) { y("onEditEnd", [t]) }) } }, ke.popup), ke.combo = T.extend({
		_a: function(t) { var i, e; return this.config.popup ? e = (i = this.config.popup).config.id : t ? i = ai(e = Me(t)) : e = this.pa(t), ye(i), e }, pa: function() { var t = ke.combo; return t.ba = t.ba || this._a(!0) }, render: function() { var t = lt("div", { "class": "webix_dt_editor" }, "<input type='text' role='combobox' aria-label='" + Se(this.config) + "'>"), i = this.config.suggest = this._a(this.config.suggest); return i && (ai(i).linkInput(t.firstChild, !0), Zt(t.firstChild, "click", S(this.showPopup, this))), t }, getPopup: function() { return ai(this.config.suggest) }, showPopup: function() {
			var t = this.getPopup(), i = t.getList(),
			e = this.getInputNode(), s = this.ma; t.show(e), e.setAttribute("aria-expanded", "true"), s ? (i.exists(s), i.exists(s) && (i.select(s), i.showItem(s))) : (i.unselect(), i.showItem(i.getFirstId())), t.ga = e
		}, afterRender: function() { this.showPopup() }, setValue: function(t) { if (this.ma = t, this.config.suggest) { var i = ai(this.config.suggest), e = this.config.collection || this.config.options; e && i.getList().data.importData(e), this.getInputNode(this.node).value = i.getItemText(t) } }, getValue: function() { var t = this.getInputNode().value; if (this.config.suggest) { var i = ai(this.config.suggest), e = i.getList(); (t || e.getSelectedId && e.getSelectedId()) && (t = i.getSuggestion(t)) } return t }
	}, ke.text), ke.richselect = T.extend({ focus: function() { }, getValue: function() { return this.getPopup().getValue() }, setValue: function(t) { var i = this.config.collection || this.config.options; this.getInputNode(), i && this.getPopup().getList().data.importData(i), this.getPopup().show(this.node), this.getPopup().setValue(t) }, getInputNode: function() { return this.getPopup().getList() }, popupInit: function(t) { t.linkInput(document.body), ye(t) }, popupType: "richselect" }, ke.popup), ke.password = T.extend({ render: function() { return lt("div", { "class": "webix_dt_editor" }, "<input type='password' aria-label='" + Se(this.config) + "'>") } }, ke.text), ke.$popup = { text: { view: "popup", width: 250, height: 150, body: { view: "textarea" } }, color: { view: "popup", body: { view: "colorboard" } }, date: { view: "popup", width: 250, height: 250, padding: 0, body: { view: "calendar", icons: !0, borderless: !0 } }, richselect: { view: "suggest", body: { view: "list", select: !0 } }, multiselect: { view: "multisuggest", suggest: { button: !0 } } }; var Ce = {
		defaults: { editaction: "click" }, $init: function(t) { this.wa = {}, this.Ai = 0, this.wt = 0, this.Wi.style.position = "relative", t && (t.onDblClick = t.onDblClick || {}), this.attachEvent("onAfterRender", this.xa), this.P.editable && this.ya(), T.extend(this, xe) }, Ma: function(t) { try { if ("number" == typeof t.selectionStart) t.selectionStart = t.selectionEnd = t.value.length; else if ("undefined" != typeof t.createTextRange) { var i = t.createTextRange(); i.collapse(!1), i.select() } } catch (Eo) { } }, xa: function() { var t = this.getEditor(); if (t && t.$inline && !t.getPopup) { var i = this.Sa(t); if (i && i != t.node) { var e = t.node.value; (t.node = i).value = e, i.focus(), this.Ma(i) } else this.editStop() } }, editable_setter: function(t) { return t && this.ya(), t }, ya: function() { var t = F("onEditEnd", S(function() { this.Ai && this.editStop() }, this)), i = F("onClick", S(function(t) { this.Ai && 200 < new Date - this.wt && (this.Pi && !this.Pi.popupType && t && this.Pi.node && this.Pi.node.contains(t.target) || this.editStop()) }, this)); this.attachEvent("onDestruct", function() { B(t), B(i) }), this.data.attachEvent && this.data.attachEvent("onIdChange", S(function(t, i) { this.ka(t, i) }, this)), this.attachEvent("onItemClick", function(t) { this.P.editable && "click" == this.P.editaction && this.edit(t) }), this.attachEvent("onItemDblClick", function(t) { this.P.editable && "dblclick" == this.P.editaction && this.edit(t) }), this.Ca = S(function() { this.wt = new Date }, this), this.ya = function() { }, this.$a && this.$a() }, Da: function() { k(function() { var t = this.getEditor(); if (t && t.config.liveEdit) { var i = { value: t.getValue(), old: t.value }; if (i.value == i.old) return; t.value = i.value, this.Ia(t, i.value, !1), this.callEvent("onLiveEdit", [i, t]) } }, this) }, Aa: function(t) { var i = this.P.form; "string" != typeof i && (this.P.form = i = ni(i).config.id); var e = (i = ai(i)).setValues ? i : i.getChildViews()[0]; e.setValues(this.getItem(t.row || t), !1, "auto"), i.config.master = this.config.id, i.show(this.getItemNode(t)); var s = e.getChildViews()[0]; s.focus && s.focus() }, edit: function(t, i, e) { if (this.P.editable && this.callEvent("onBeforeEditStart", [t])) { if (this.P.form) return this.Aa(t); var s = this.Fa(t); if (s) { if (this.getEditor(t)) return; i || this.editStop(), ke[s]; var n = T.extend({}, ke[s]), r = this.Ta(t, n, e); n.config.liveEdit && (this.Va = this.attachEvent("onKeyPress", this.Da)); var h = n.getPopup ? n.getPopup(r).Vt : r; return h && Zt(h, "click", this.Ca), r && Zt(r, "change", this.za, { bind: { view: this, id: t } }), !1 !== e && n.focus(), this.$fixEditor && this.$fixEditor(n), this.wt = ei.edit_open_time = new Date, Si.setFocus(this, !0), this.callEvent("onAfterEditStart", [t]), n } return null } }, getEditor: function(t) {
			return t ? this.wa[t] : this.Pi
		}, ka: function(t, i) { var e = this.wa[t]; e && ((this.wa[i] = e).id = i, delete this.wa[t]) }, za: function() { this.view.hasEvent("onEditorChange") && this.view.callEvent("onEditorChange", [this.id, this.view.getEditorValue(this.id)]) }, Ba: function() { return this.P }, Ta: function(t, i, e) { i.config = this.Ba(t); var s = i.render(); i.$inline && (s = this.Sa(t)), i.node = s; var n = this.getItem(t), r = n[this.P.editValue || "value"]; return V(r) && (r = ""), i.setValue(r, n), i.value = r, this.Ha(t, i), !1 !== e && this.showItem(t), i.$inline || this.Ra(t, s, !0), i.afterRender && i.afterRender(), s }, Ea: function(t) { return this.getItemNode(t) }, Sa: function(t) { var i = this.Ea(t); return i && (i = i.getElementsByTagName("input")[0] || i), i }, Fa: function() { return this.P.editor }, Ha: function(t, i) { i.id = t, this.wa[t] = this.Pi = i, this.Ai++ }, Pa: function(t) { this.Pi == t && (this.Pi = 0), t.destroy && t.destroy(), delete t.popup, delete t.node, delete this.wa[t.id], this.Ai-- }, focusEditor: function() { var t = this.getEditor.apply(this, arguments); t && t.focus && t.focus() }, editCancel: function() { this.editStop(null, null, !0) }, gi: function(t) { if (t) { var i = this.getEditor(); if (i && i.getPopup && i.getPopup() == t.getTopParentView()) return } this.editStop() }, editStop: function(t) { if (!this.ja) { this.ja = 1; var i = arguments[2], e = 1; return t ? e = this.Na(this.wa[t], i) : this.La(function(t) { e *= this.Na(t, i) }), this.ja = 0, e } }, at: function(t) { var i = this.getItemNode(t); return { left: i.offsetLeft, top: i.offsetTop, height: i.offsetHeight, width: i.offsetWidth, parent: this.Wi } }, Ra: function(t, i, e) { if (i.style) { var s = this.at(t, null, !0); return i.style.top = s.top + "px", i.style.left = s.left + "px", i.style.width = s.width - 1 + "px", i.style.height = s.height - 1 + "px", i.top = s.top, e && s.parent.appendChild(i), s } }, La: function(t) { for (var i in this.wa) t.call(this, this.wa[i]) }, Na: function(t, i) { if (t && !ei.xt) { var e = { value: this.Oa(t), old: t.value }; if (this.callEvent("onBeforeEditStop", [e, t, i])) { if (!i) { var s = e.old; if ("string" == typeof e.value && (s += ""), s != e.value || t.config.liveEdit) { var n = this.Ia(t, e.value, !0); this.updateItem(t.row || t.id, n) } } t.$inline ? t.node = null : vt(t.node); var r = t.config.suggest; return r && "string" == typeof r && ai(r).hide(), this.Pa(t), this.Va && this.detachEvent(this.Va), this.callEvent("onAfterEditStop", [e, t, i]), 1 } return 0 } }, validateEditor: function(t) { var i = !0; if (this.P.rules) { var e = this.getEditor(t), s = e.column || this.P.editValue || "value", n = this.P.rules[s], r = this.P.rules.$all; if (n || r) { var h = this.data.getItem(e.row || e.id), o = e.getValue(), a = e.getInputNode(); n && (i = n.call(this, o, h, s)), r && (i = r.call(this, o, h, s) && i), i ? St(a, "webix_invalid") : Mt(a, "webix_invalid"), y("onLiveValidation", [e, i, h, o]) } } return i }, getEditorValue: function(t) { var i; if (i = 0 === arguments.length ? this.Pi : this.getEditor(t)) return i.getValue() }, getEditState: function() { return this.Pi || !1 }, editNext: function(t, i) { if (t = !1 !== t, 1 == this.Ai || i) { var e = this.Wa(this.Pi || i, function(t) { return !!this.Fa(t) }, t); if (this.editStop()) return e && (this.edit(e), this.Ua(e)), !1 } }, Ua: function() { }, Wa: function(t, i, e) { var s = this.getIndexById(t.id), n = this.data.order; if (e) { for (var r = s + 1; r < n.length; r++)if (i.call(this, n[r])) return n[r] } else for (var h = s - 1; 0 <= h; h--)if (i.call(this, n[h])) return n[h]; return null }, Oa: function(t) { return t.getValue() }, Ia: function(t, i, e) { var s = e ? {} : this.getItem(t.id); return s[this.P.editValue || "value"] = i, s }
	}, $e = {
		$init: function() { this.$view.className += " webix_flexlayout" }, Ya: function() { }, qa: function() { }, Ga: function() { }, $getSize: function() { var t = 0, i = 0, e = this.P.gravity; this.ei = []; for (var s = 0; s < this.hi.length; s++) { var n = this.hi[s].$getSize(0, 0); this.ei.push(n), t = Math.max(t, n[0]), i = Math.max(i, n[2]) } return t += this.Xa.left + this.Xa.right, i += this.Xa.top + this.Xa.bottom, this.P.width && (t = Math.max(t, this.P.width)), this.P.height && (i = Math.max(i, this.P.height)), [t, 1e5, i, 1e5, e] }, render: function() { this.resize() }, Ka: function() {
			if (this.isVisible(this.P.id)) {
				var t = this.$view.style, i = Math.round(this.Ja / 2); t.paddingTop = this.Xa.top - i + "px", t.paddingBottom = this.Xa.bottom - i + "px", t.paddingLeft = this.Xa.left - i + "px", t.paddingRight = this.Xa.right - i + "px"; for (var e = 0; e < this.hi.length; e++)if (!this.hi[e].P.hidden) {
					var s = this.hi[e].$view, n = this.ei[e], r = this.hi[e].P; s && (
						s.style.minWidth = n[0] + "px", n[1] < 1e5 && n[1] != n[0] && (s.style.maxWidth = n[1] + "px"), s.style.flexBasis = r.flexBasis || n[0] + "px", s.style.flexGrow = r.flexGrow || (n[1] != n[0] ? n[4] : 0), s.style.height = n[3] != n[2] ? "auto" : n[2] + "px", s.style.minHeight = n[2] + "px", n[3] < 1e5 && n[3] != n[2] && (s.style.maxHeight = n[3] + "px"), s.style.margin = i + "px")
				} for (var h = [], o = 0; o < this.hi.length; o++)if (!this.hi[o].P.hidden) { var a = this.hi[o].$view; h[o] = [a.offsetWidth, a.offsetHeight] } for (var u = 0; u < this.hi.length; u++)if (!this.hi[u].P.hidden) { var c = this.hi[u]; if (c.$view) { c.P.flex = !0; var f = this.ei[u], l = f[2] == f[3] ? f[2] : h[u][1]; c.$setSize(h[u][0], l), c.P.flex = !1 } } this.$view.style.height = "", this.$height = this.xe = this.$view.scrollHeight, this.$view.style.height = this.xe + "px"
			}
		}
	}, De = { sum: function(t, i) { i = i || this; for (var e = 0, s = 0; s < i.length; s++) { var n = parseFloat(t(i[s]), 10); isNaN(n) || (e += n) } return e }, min: function(t, i) { i = i || this; for (var e = Infinity, s = 0; s < i.length; s++) { var n = parseFloat(t(i[s]), 10); isNaN(n) || n < e && (e = n) } return e === Infinity ? 0 : 1 * e }, max: function(t, i) { i = i || this; for (var e = -Infinity, s = 0; s < i.length; s++) { var n = parseFloat(t(i[s]), 10); isNaN(n) || e < n && (e = n) } return e === -Infinity ? 0 : 1 * e }, count: function(t, i) { for (var e = 0, s = 0; s < i.length; s++) { var n = t(i[s]); null != n && e++ } return e }, any: function(t, i) { return t(i[0]) }, string: function(t) { return t.$name } }, Ie = {
		$init: function() { var t = this; this.attachEvent("onClearAll", function() { return t.Hh = null }), this.attachEvent("onSyncApply", function() { return t.Hh = null }) }, ungroup: function(t) { if (this.getBranchIndex) { if (!this.Za(t)) return } else { if (!this.Hh) return; this.order = this.Hh, this.pull = this.Qa } this.callEvent("onStoreUpdated", []) }, Za: function(t) { for (var i = this, e = t || 0, s = "0" == e ? 1 : this.getItem(e).$level + 1, n = !1, r = this.branch[e], h = [], o = 0; o < r.length; o++) { var a = r[o]; if (this.pull[a].$group) { n = !0; var u = this.branch[a]; u && (this.branch[a] = u.filter(function(t) { if (!i.pull[t].$footer) return t; i.tu(t) })), h = h.concat(this.branch[a] || []), this.tu(a) } else h.push(a) } return !!n && (this.branch[e] = h, this.iu(this.branch[e], e, s), void 0 === t && this.Za(), !0) }, tu: function(t) { delete this.pull[t], delete this.branch[t] }, Bh: function(t) { this.blockEvent(), this.group(t), this.unblockEvent() }, eu: function(i) { if ("function" == typeof i) return i; var t = function(t) { return t[i] }; return t.$name = i, t }, group: function(e, t) { var i; if ("string" == typeof e ? (i = e, e = { by: this.eu(e), map: {} }) : "function" == typeof e ? e = { by: e, map: {} } : "string" == typeof e.by && (i = e.by, e.by = this.eu(e.by)), e.map = e.map || {}, i && !e.map[i] && (e.map[i] = [i]), e.missing = e.missing === undefined || e.missing, this.getBranchIndex) return this.su(e, t); this.Hh || (this.Hh = this.order, this.Qa = this.pull); var s = {}, n = [], r = [], h = e.missing; this.each(function(t) { var i = e.by(t); if (!i && 0 !== i) { if (!1 === h) return; if (!0 === h) return void r.push(t); i = h } s[i] || (n.push({ id: i, value: i, $group: !0, $row: e.row }), s[i] = D()), s[i].push(t) }); for (var o = 0; o < n.length; o++) { var a = n[o]; this.nu(e.map, a, s[n[o].id]), this.hasEvent("onGroupCreated") && this.callEvent("onGroupCreated", [a.id, a.value, s[n[o].id]]) } this.order = D(), this.pull = {}, this.ru(n), this.ru(r), this.callEvent("onStoreUpdated", []) }, ru: function(t) { for (var i = 0; i < t.length; i++) { var e = this.id(t[i]); this.pull[e] && (e = t[i].id = z()), this.pull[e] = t[i], this.order.push(e), this.jh && this.jh(t[i]) } }, nu: function(t, i, e) { for (var s in t) { var n = t[s][1] || "any", r = this.eu(t[s][0]); "function" != typeof n && (De[n], n = De[n]), i[s] = n.call(this, r, e) } }, su: function(t, i) {
			var e = 0; i ? e = this.getItem(i).$level : i = 0; for (var s = [], n = [], r = [], h = this.branch[i], o = {}, a = 0; a < h.length; a++) { var u = this.getItem(h[a]), c = t.by(u); if (!c && 0 !== c) { if (!1 === t.missing) continue; if (!0 === t.missing) { r.push(u.id); continue } c = t.missing } var f = o[c]; if (!f) { var l = z(), d = this.pull[l] = { id: l, value: c, $group: !0, $row: t.row }; this.jh && this.jh(d), n.push(d), (f = o[c] = this.branch[l] = []).hu = [], s.push(l) } f.push(u.id), f.hu.push(u) } this.branch[i] = s.concat(r); for (var v = 0; v < n.length; v++) {
				var _ = n[v]; if (this.nu(t.map, _, this.branch[n[v].id].hu), this.hasEvent("onGroupCreated") && this.callEvent("onGroupCreated", [_.id, _.value, this.branch[_.id].hu]), t.footer) {
					var p = "footer$" + _.id, b = this.pull[p] = {
						id: p, $footer: !0, value: _.value, $level: e, $count: 0, $parent: _.id,
						$row: t.footer.row
					}; this.nu(t.footer, b, this.branch[n[v].id].hu), this.branch[_.id].push(b.id), this.callEvent("onGroupFooter", [b.id, b.value, this.branch[_.id].hu])
				} delete this.branch[_.id].hu
			} this.iu(this.branch[i], i, e + 1), this.callEvent("onStoreUpdated", [])
		}, iu: function(t, i, e) { i && (this.getItem(i).$count = t.length); for (var s = 0; s < t.length; s++) { var n = this.pull[t[s]]; n.$level = e, n.$parent = i; var r = this.branch[n.id]; r && this.iu(r, n.id, e + 1) } }
	}, Ae = { $init: function() { T.extend(this.data, Ie) }, group: function(t, i) { i || 0 === i || (this.$blockRender = !0, this.data.ungroup(), this.$blockRender = !1), this.data.group(t, i) }, ungroup: function(t) { this.data.ungroup(t) } }, Fe = { $init: function() { var t = this; this.$ready.push(function() { t.customRadio_setter && !t.config.customRadio || Zt(t.$view, "keydown", t.ou, { bind: t }) }) }, wi: function() { if (!Si.canFocus(this)) return !1; var t = this.au(); if (t) for (var i = 0; i < t.length; i++)if ("0" == t[i].getAttribute("tabindex")) return t[i].focus() }, uu: function() { var t = this.au(); if (t) for (var i = 0; i < t.length; i++)if ("0" == t[i].getAttribute("tabindex")) return t[i].blur() }, ou: function(t) { var i = t.which || t.keyCode; if (34 < i && i < 41) { var e = this.au(), s = !1; if (!e.length) return; wt(t); var n = 37 === i || 38 === i || 35 === i ? -1 : 1; if (35 === i) s = e.length - 1; else if (36 === i) s = 0; else for (var r = 0; r < e.length; r++)if ("0" == e[r].getAttribute("tabindex")) { s = r + n; break } if (!1 !== s) { var h = s; do { if (h >= e.length && (h = 0), h < 0 && (h = e.length - 1), e[h].getAttribute("webix_disabled")) h += n; else { var o = e[h].getAttribute("button_id"); this.setValue(o, "user"), e[h].focus(), h = "success" } } while ("success" !== h && h !== s) } } }, Te: function(t, i) { for (var e, s = i.target; s && !s.webix_tooltip;) { if (e = s.getAttribute("webix_t_id")) return this.getOption(e); s = s.parentNode } return null }, optionIndex: function(t) { for (var i = this.P.options, e = 0; e < i.length; e++)if (i[e].id == t) return e; return -1 }, getOption: function(t) { var i = this.optionIndex(t); return -1 !== i ? this.P.options[i] : null }, addOption: function(t, i, e, s) { var n = t; "object" != M(t) ? n = { id: t, value: i = i || t } : (t = n.id, s = e, e = i), -1 === this.optionIndex(t) && (x.insertAt.call(this.P.options, n, s), this.refresh(), this.callEvent("onOptionAdd", [t, n])), e && (1 === this.P.options.length && (this.P.value = ""), this.setValue(t, "auto")) }, removeOption: function(t) { var i = this.optionIndex(t); if (-1 !== i) { var e = this.P.options; x.removeAt.call(e, i), this.refresh(), this.P.value == t && this.cu(e, i), this.callEvent("onOptionRemove", [t, this.P.value]) } }, cu: function(t, i) { var e = t.length; if (e && !this.customRadio_setter) { for (var s = i = Math.min(i, e - 1); s < e; s++)if (!t[s].hidden) return this.setValue(t[s].id, "auto"); for (var n = i; 0 <= n; n--)if (!t[n].hidden) return this.setValue(t[n].id, "auto") } this.setValue("", "auto") }, fu: function(t) { var i = this.P.options; if (i.length) { for (var e = 0; e < i.length; e++)if (!i[e].hidden && !i[e].disabled) return i[e].id; if (t) return i[0].id } return "" }, lu: function(t) { for (var i = [], e = 0; e < t.length; e++)t[e].hidden || i.push(t[e]); return i }, du: function(t, i, e) { var s = this.P.options, n = this.optionIndex(t); s[n] && e != !!s[n][i] && ((s[n][i] = e) && "hidden" === i && this.P.value == t && this.cu(s, n), this.refresh()) }, hideOption: function(t) { this.du(t, "hidden", !0) }, showOption: function(t) { this.du(t, "hidden", !1) }, disableOption: function(t) { this.du(t, "disabled", !0) }, enableOption: function(t) { this.du(t, "disabled", !1) } }, Te = T.proto({
		$init: function(t) { this.ea = "map_" + z(), this.vu = t, this._u = [], this.pu = [] }, addRect: function(t, i, e) { this.bu(t, "RECT", i, e) }, addPoly: function(t, i, e) { this.bu(t, "POLY", i, e) }, bu: function(t, i, e, s) { var n = ""; 4 == arguments.length && (n = "userdata='" + s + "'"), this._u.push("<area " + this.vu + "='" + t + "' shape='" + i + "' coords='" + e.join() + "' " + n + "></area>"), this.pu.push({ index: s, points: e }) }, addSector: function(t, i, e, s, n, r, h, o) { var a = []; a.push(s), a.push(Math.floor(n * h)); for (var u = i; u < e; u += Math.PI / 18)a.push(Math.floor(s + r * Math.cos(u))), a.push(Math.floor((n + r * Math.sin(u)) * h)); return a.push(Math.floor(s + r * Math.cos(e))), a.push(Math.floor((n + r * Math.sin(e)) * h)), a.push(s), a.push(Math.floor(n * h)), this.addPoly(t, a, o) }, hide: function(t, i, e) {
			if (t.querySelectorAll) for (var s = t.querySelectorAll('area[userdata="' + i + '"]'), n = 0; n < s.length; n++) {
				var r = s[n]; e ? r.getAttribute("coords") && (r.coordsdis = r.getAttribute("coords"),
					r.setAttribute("coords", ""), r.coords = "") : e || r.coordsdis && (r.setAttribute("coords", r.coordsdis), r.coords = r.coordsdis, r.coordsdis = ""), s[n].style.display = e ? "none" : ""
			}
		}, render: function(t) { var i = lt("DIV"); i.style.cssText = "position:absolute; width:100%; height:100%; top:0px; left:0px;", t.appendChild(i); var e = G.isIE ? "" : "src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='"; i.innerHTML = "<map id='" + this.ea + "' name='" + this.ea + "'>" + this._u.join("\n") + "</map><img " + e + " class='webix_map_img' usemap='#" + this.ea + "'>", t.Ni = i, this._u = [] }
	}), Ve = { $init: function() { this.pe = {}, this.be = {}, this.getTopParentView = this.mu = S(function() { return this }, this), this.gu(), this.$ready.push(this.wu) }, $$: function(t) { return this.pe[t] }, innerId: function(t) { return this.be[t] }, gu: function() { this._e = ei.lt, ei.lt = this }, wu: function() { for (var t in this.pe) { var i = this.pe[t]; this.callEvent && i.mapEvent && !i.l.onitemclick && i.mapEvent({ onitemclick: this }), i.getTopParentView = this.mu } ei.lt = this._e, this._e = 0 }, ji: function(t) { delete this.pe[t] }, ui: function() { this.gu(); var t = ni.apply(this, arguments); return this.wu(), t } }, ze = { $init: function() { this.getSelectedId && this.attachEvent("onAfterRender", this.xu), this.moveSelection && this.attachEvent("onTabFocus", this.yu) }, yu: function() { if (this.getSelectedId) { var t = this.getSelectedId(!0); t.length && this.getItemNode(t[0]) || this.moveSelection("down") } }, xu: function() { var t = this.getSelectedId(!0); if (!t.length || !this.getItemNode(t[0])) { var i = this.tt.querySelector("[" + this.ea + "]"); i && i.setAttribute("tabindex", "0") } }, Mu: function(n) { return function(t, i) { var e = i.target; if (!e.getAttribute("webixignore")) { var s = e.tagName; if ("INPUT" == s || "TEXTAREA" == s || "SELECT" == s) return !0 } if (t && t.moveSelection && t.config.navigation && !t.Ai) return wt(i), t.moveSelection(n, { shift: i.shiftKey, ctrl: i.ctrlKey, e: i }) } }, moveSelection: function(t, i, e) { var s = this.P; if (!s.disabled) { var n = this.getSelectedId(!0), r = this.count && ("x" == s.layout || 1 < s.xCount); if (("right" == t || "left" == t) && this.Su) { var h = ai(this.Su); return h.ku(!0), void ("x" === h.config.layout ? h.moveSelection(t) : Si.setFocus(h)) } if (!n.length && this.count()) { if ("down" == t || "right" == t && r) t = "top"; else { if (!("up" == t || "left" == t && r)) return; t = "bottom" } n = [this.getFirstId()] } if (1 == n.length) { var o = n = n[0]; if ("left" == t && this.close) return this.close(n); if ("right" == t && this.open) return this.open(n); if ("top" == t) n = this.getFirstId(); else if ("bottom" == t) n = this.getLastId(); else if ("up" == t || "left" == t || "pgup" == t) { var a = this.getIndexById(n), u = "pgup" == t ? 10 : 1; n = this.getIdByIndex(Math.max(0, a - u)) } else { if ("down" != t && "right" != t && "pgdown" != t) return; var c = this.getIndexById(n), f = "pgdown" == t ? 10 : 1; n = this.getIdByIndex(Math.min(this.count() - 1, c + f)) } var l = "up" == t || "left" == t || "pgdown" == t || "bottom" == t ? -1 : 1; if (this.Cu && (n = this.Cu(n, o, l)), this.showItem(n), this.select(n), this.getSubMenu && this.getSubMenu(n) && this.$u(n, this.getItemNode(n)), !this.config.clipboard && !1 !== e) { var d = this.getItemNode(n); d && d.focus() } } return !1 } }, navigation_setter: function(t) { return t && !Si.Du && (Si.Du = !0, Si.addHotKey("up", this.Mu("up")), Si.addHotKey("down", this.Mu("down")), Si.addHotKey("right", this.Mu("right")), Si.addHotKey("left", this.Mu("left")), Si.addHotKey("shift+up", this.Mu("up")), Si.addHotKey("shift+down", this.Mu("down")), Si.addHotKey("shift+right", this.Mu("right")), Si.addHotKey("shift+left", this.Mu("left")), Si.addHotKey("ctrl+shift+up", this.Mu("up")), Si.addHotKey("ctrl+shift+down", this.Mu("down")), Si.addHotKey("ctrl+shift+right", this.Mu("right")), Si.addHotKey("ctrl+shift+left", this.Mu("left")), Si.addHotKey("pageup", this.Mu("pgup")), Si.addHotKey("pagedown", this.Mu("pgdown")), Si.addHotKey("home", this.Mu("top")), Si.addHotKey("end", this.Mu("bottom"))), t } }, Be = {
		$init: function() { this.$ready.push(this.Iu), this.attachEvent("onStructureUpdate", this.Iu), this.attachEvent("onStructureLoad", function() { this.Au.length || this.Iu() }) }, Iu: function() { var e = this.Au = [], t = this.P; t.columns && this.Fu(t.columns), this.P.map && this.Tu(t.map), e.length && (this.data.jh = function(t) { for (var i = 0; i < e.length; i++)e[i](t) }) }, Tu: function(t) { for (var i in t) this.Au.push(this.Vu(i, t[i])) },
		Vu: function(e, t, i) { var s, n = t.replace(/^(\s|)\((date|number)\)/, ""); return s = "" === n ? function(t) { return t[e] } : (-1 === n.indexOf("#") && -1 === n.indexOf("{") && (n = "#" + n + "#"), qt(n)), 0 === t.indexOf("(date)") ? (i && !i.format && (i.format = A.dateFormatStr), function(t) { var i = (s(t) || "").toString(); t[e] = A.parseFormatDate(i) }) : 0 === t.indexOf("(number)") ? function(t) { t[e] = 1 * s(t) } : function(t) { t[e] = s(t) || "" } }, Fu: function(t) { for (var i = 0; i < t.length; i++) { var e = t[i]; e.map && this.Au.push(this.Vu(e.id, e.map, t[i])), this.zu(t[i]) } }, Bu: function(t) { if ("string" == typeof t) { var i = ai(t); i ? t = i : (t = new (d("DataCollection"))({ url: t }), this.Bt.push(t)), t.getBody && (t = i.getBody()) } else if ("function" == typeof t || t.$proxy) t = new (d("DataCollection"))({ url: t }), this.Bt.push(t); else if (!t.loadNext) { var e = $(t), s = []; if (e && "object" !== M(t[0])) { for (var n = 0; n < t.length; n++)s.push({ id: t[n], value: t[n] }); t = s } else if (!e) { for (var r in t) s.push({ id: r, value: t[r] }); t = s } t = new (d("DataCollection"))({ data: t }), this.Bt.push(t) } return t }, zu: function(t) { var i = t.options || t.collection; i && (i = this.Bu(i), this.Hu(i, t)), t.header && (this.Ru(t.header), this.Ru(t.footer)) }, Ru: function(n) { var r = this; n = n || []; for (var t = function(t) { var i = n[t]; if (i && i.options) { var e = i.options; e.loadNext || (e = i.options = r.Bu(e)); var s = e.data.attachEvent("onStoreUpdated", function() { r.refreshFilter && r.refreshFilter(i.columnId) }); r.attachEvent("onDestruct", function() { e.$destructed || e.data.detachEvent(s) }) } }, i = 0; i < n.length; i++)t(i) }, Hu: function(t, i) { var e = this; if (i) { delete i.options, i.collection = t, i.template = i.template || this.Eu(t, i.id, i.optionslist); var s = t.data.attachEvent("onStoreUpdated", function() { e.refresh(), e.refreshFilter && e.refreshFilter(i.id) }); this.attachEvent("onDestruct", function() { t.$destructed || t.data.detachEvent(s) }) } }, Eu: function(r, h, t) { if (h = this.getColumnConfig ? h : "value", t) { var o = "string" == typeof t ? t : ","; return function(t) { var i = t[h]; if (!i) return ""; for (var e = i.toString().split(o), s = 0; s < e.length; s++) { var n = r.data.pull[e[s]]; e[s] = n && n.value || "" } return e.join(", ") } } return function(t) { var i = r.data.pull[t[h]]; return i && (i.value || 0 === i.value) ? i.value : "" } }
	}, He = {
		$init: function(t) { t = t || {}, this.Pu = 0, this.ju = 300, this.Nu = null, this.Lu(t.onClick, "on_click"), this.Lu(t.onContext, "on_context"), this.Lu(t.onDblClick, "on_dblclick"), this.Lu(t.onMouseMove, "on_mouse_move"), this.on_click && (Zt(this.Wi, "click", this.Ou, { bind: this }), G.isIE8 && this.on_dblclick && Zt(this.Wi, "dblclick", this.Wu, { bind: this })), this.on_context && Zt(this.Wi, "contextmenu", this.Uu, { bind: this }), this.on_mouse_move && this.Yu() }, Yu: function() { this.qu || (this.on_mouse_move = this.on_mouse_move || {}, Zt(this.Wi, "mousemove", this.Gu, { bind: this }), Zt(this.Wi, G.isIE ? "mouseleave" : "mouseout", this.Gu, { bind: this }), this.qu = 1, this.attachEvent("onDestruct", function() { this.Xu && window.clearTimeout(this.Xu) })) }, Lu: function(t, i) { if (t) { var e = this[i], s = e ? T.extend({}, e) : {}; this[i] = T.extend(s, t) } }, Ou: function(t) { if (!this.isEnabled()) return !1; if (Si.Et(this), this.on_dblclick) { var i = (new Date).valueOf(); if (i - this.Pu <= this.ju && this.locate) if ("" + this.locate(t) == "" + this.Nu) return this.Pu = 0, this.Wu(t); this.Pu = i } return this.Ku(t, this.on_click, "ItemClick") }, Wu: function(t) { return this.Ku(t, this.on_dblclick, "ItemDblClick") }, Uu: function(t) { this.Ku(t, this.on_context, "BeforeContextMenu", "AfterContextMenu") }, Gu: function(t) { this.$destructed || (document.createEventObject && (t = document.createEventObject(event)), this.Xu && window.clearTimeout(this.Xu), this.callEvent("onMouseMoving", [t]), this.Xu = k(function(t) { "mousemove" == t.type ? this.Ju(t) : this.Zu(t) }, this, [t], this.P.mouseEventDelay || 500)) }, Ju: function(t) { this.Ku(t, this.on_mouse_move, "MouseMove") || this.Zu(t) }, Zu: function(t) { this.callEvent("onMouseOut", [t || event]) }, Ku: function(t, i, e, s) {
			if (!(t = t || event).processed && this.Vt) {
				t.processed = !0; var n = t.target; if (G.isIE8) { var r = this.P.id, h = n.w_view; if (h) { if (h !== r) return } else n.w_view = r } for (var o = "", a = null, u = !1; n && n.parentNode && this.Vt && n != this.Vt.parentNode;) {
					if (!u && n.getAttribute && (a = n.getAttribute(this.ea))) {
						if (n.getAttribute("webix_disabled")) return void (this.Nu = null); if (this.Nu = a, this.callEvent) {
							if (!this.callEvent("on" + e, [a, t, n])) return
								; s && this.callEvent("on" + s, [a, t, n])
						} u = !0
					} if (o = $t(n)) { o = o.toString().split(" "); for (var c = 0; c < o.length; c++) { if (i[o[c]]) if (!1 === v(i[o[c]], this.$scope).call(this, t, a || pt(t, this.ea), n)) return u } } n = n.parentNode
				} return u
			}
		}
	}, Re = { $init: function() { this.$ready.push(function() { this.attachEvent("onKeyPress", this.Ce) }) }, Qu: function(t, i) { if (37 === t || 39 === t) { wt(i), this.tc(37 === t ? -1 : 1); var e = this.ic.querySelector("[tabindex='0']"); e && e.focus() } }, ec: function() { vt(this.ic), this.ic = lt("DIV", { "class": "webix_nav_panel webix_nav_panel_" + this.P.navigation.type, role: "tablist" }, ""), this.Vt.appendChild(this.ic), this.sc(), this.nc(), this.rc() }, rc: function() { var i = []; this.ic && (i[0] = Qt(this.ic, "click", S(function(t) { for (var i = t.target, e = !1; i != this.ic && !e;) { var s = i.getAttribute(this.hc); s && (e = !0, this.oc(s)), i = i.parentNode } }, this))), this.ac && (i[1] = Qt(this.ac, "click", S(function() { this.tc(-1) }, this))), this.uc && (i[1] = Qt(this.uc, "click", S(function() { this.tc(1) }, this))), this.attachEvent("onDestruct", function() { for (var t = 0; t < i.length; t++)this.detachEvent(i[t]); i = null }) }, tc: function(t) { if (this.hi) { var i = this.cc + t; (i >= this.hi.length || i < 0) && (i = i < 0 ? this.hi.length - 1 : 0), this.setActiveIndex(i) } }, oc: function(t) { this.hi && ai(t).show() }, sc: function() { var t, i; if ((i = this.P.navigation).items) { this.hc = i.linkAttr || "bind_id", this.ic ? this.fc() : this.ec(); var e = this.hi ? this.hi : this.data.order; if (1 < e.length) for (var s = 0; s < e.length; s++) { t = lt("DIV", { "class": "webix_nav_item webix_nav_" + (s == this.cc ? "active" : "inactive"), role: "tab", tabindex: s == this.cc ? "0" : "-1" }); var n = this.hi ? this.hi[s].P.id : e[s]; n && t.setAttribute(this.hc, n), this.ic.appendChild(t) } } }, fc: function() { if (this.ic) for (var t = this.ic.childNodes, i = t.length - 1; 0 <= i; i--)vt(t[i]) }, nc: function() { var t = this.P.navigation; t.buttons && (this.ac && vt(this.ac), this.ac && vt(this.uc), this.ac = lt("DIV", { "class": "webix_nav_button_" + t.type + " webix_nav_button_prev " }, '<div role="button" tabindex="0" aria-label="' + A.aria.prevTab + '" class="webix_nav_button_inner"></div>'), this.Vt.appendChild(this.ac), this.uc = lt("DIV", { "class": "webix_nav_button_" + t.type + " webix_nav_button_next " }, '<div role="button" tabindex="0" aria-label="' + A.aria.prevTab + '" class="webix_nav_button_inner"></div>'), this.Vt.appendChild(this.uc)) } }, Ee = { showOverlay: function(t) { this.lc ? this.lc.innerHTML = t : (this.lc = lt("DIV", { "class": "webix_overlay" }, t || ""), _t(this.lc, this.Vt.firstChild, this.Vt), this.Vt.style.position = "relative") }, hideOverlay: function() { this.lc && (vt(this.lc), this.lc = null) } }, Pe = { pager_setter: function(s) { if ("string" == typeof s) { var t = ai(s); if (!t) return this.$blockRender = !0, k(function() { var t = ai(s); this.P.pager = this.pager_setter(t); var i = t.P; i.count = this.data.dc(i.level), t.refresh(), this.$blockRender = !1, this.render() }, this), null; s = t } return this.attachEvent("onBeforeRender", function n(t) { if (this.config.topSplit && (this.config.topSplit = 0), s.config.autosize && this.getVisibleCount) { var i = this.getVisibleCount(); isNaN(i) ? (s.config.size = 1, k(n, this, [!0])) : i != s.config.size && (s.config.size = i, s.refresh(), !0 === t && this.refresh()) } var e = this.P.pager; return -1 != e.page && (this.data.$min = this.vc(0, e.page * e.size), this.data.$max = this.vc(this.data.$min, e.size), this.data.$pagesize = this.data.$max - this.data.$min, !0) }), s.$view || (s.view = "pager", s = ni(s)), ((this._c = s).$master = this).data.attachEvent("onStoreUpdated", function() { var t = s.P; t.count = this.dc(t.level), s.refresh() }), this.data.dc = this.dc, s.P }, dc: function(i) { if (i && 0 !== i) { var e = 0; return this.each(function(t) { t.$level == i && e++ }), e } return this.count() }, vc: function(t, i) { var e = this.P.pager; if (e.level && 0 !== e.level) { var s = t, n = this.data.order.length; if (i) for (; s < n;) { if (this.data.order[s] && this.data.getItem(this.data.order[s]).$level == e.level) { if (0 === i) break; i-- } s++ } return s } return t + i }, setPage: function(t) { this._c && this._c.select(t) }, getPage: function() { return this._c.P.page }, getPager: function() { return this._c } }, je = {
		$init: function() { var t = this; V(this.pc) && this.attachEvent && (this.attachEvent("onBeforeLoad", function() { return t.showProgress() }), this.attachEvent("onAfterLoad", function() { return t.hideProgress() }), this.pc = null) }, showProgress: function(t) {
			var i; if (!this.pc) {
				var e = "icon" == (t = T.extend({ position: 0, delay: 2e3, type: "icon", icon: "wxi-sync", hide: !1 }, t || {}, !0)).type ? t.icon + " webix_spin" : ""; if (this.pc = lt("DIV", { "class": "webix_progress_" + t.type, role: "progressbar", "aria-valuemin": "0", "aria-valuemax": "100", tabindex: "0" }, "<div class='webix_progress_state " + e + "'></div>"), this.setPosition || (this.Vt.style.position = "relative"), _t(this.pc, this.Vt.firstChild, this.Vt), this.Vt.setAttribute("aria-busy", "true"), (!qi.$active || "native" == this.Oo) && this.getScrollState) { var s = this.getScrollState(); this.Vt.scrollWidth != this.$width && (this.pc.style.left = s.x + "px"), this.Vt.scrollHeight != this.$height && ("bottom" != t.type ? this.pc.style.top = s.y + "px" : this.pc.style.top = s.y + this.$height - this.pc.offsetHeight + "px") } this.bc = "icon" != t.type
			} if (t) { if (this.bc) { var n = t.position || 1; if (this.pc.style[G.transitionDuration] === undefined && t.delay) { var r = 0, h = 0, o = n / t.delay * 30, a = this; this.mc && (window.clearInterval(this.mc), h = this.pc.firstChild.offsetWidth / this.pc.offsetWidth * 100), this.mc = window.setInterval(function() { 30 * r == t.delay ? window.clearInterval(a.mc) : (a.pc && a.pc.firstChild && (a.pc.firstChild.style.width = h + r * o * n * 100 + "%"), r++) }, 30) } else t.delay && (i = this.Vt.firstChild.offsetWidth, this.pc.firstChild.style[G.transitionDuration] = t.delay + "ms"), this.pc.firstChild.style.width = 100 * n + "%" } return this.gc && clearTimeout(this.gc), t.hide && (this.gc = k(this.hideProgress, this, [1], t.delay)), i }
		}, hideProgress: function(t) { this.pc && (t || !this.bc ? (this.mc && window.clearInterval(this.mc), vt(this.pc), this.pc = null, this.Vt.removeAttribute("aria-busy")) : this.showProgress({ position: 1.1, delay: 300, hide: !0 })) }
	}, Ne = { $init: function() { this.data, this.Oi = document.createElement("DIV"), this.data.attachEvent("onIdChange", S(this.Nh, this)), this.attachEvent("onItemClick", this.wc), this.types || (this.types = { "default": this.type }, this.type.name = "default"), this.type = l(this.type) }, customize: function(t) { ii(this, t) }, item_setter: function(t) { return this.type_setter(t) }, type_setter: function(t) { return this.types[t] ? (this.type = l(this.types[t]), this.type.css && (this.Wi.className += " " + this.type.css)) : this.customize(t), this.type.on_click && T.extend(this.on_click, this.type.on_click), t }, template_setter: function(t) { this.type.template = qt(t) }, Q: function(t) { var i = this.data.Fh[t.id]; return !t.$template || this.type["template" + t.$template], t.$template, this.callEvent("onItemRender", [t]), this.type.templateStart(t, this.type, i) + (t.$template ? this.type["template" + t.$template] : this.type.template)(t, this.type, i) + this.type.templateEnd(t, this.type, i) }, xc: function(t) { return this.Oi.innerHTML = this.Q(t), this.Oi.firstChild }, Nh: function(t, i) { var e = this.getItemNode(t); e && (e.setAttribute(this.ea, i), this.Ni[i] = this.Ni[t], delete this.Ni[t]) }, wc: function() { if (this.P.click) { var t = v(this.P.click, this.$scope); t && t.call && t.apply(this, arguments) } }, getItemNode: function(t) { if (this.Ni) return this.Ni[t]; this.Ni = {}; for (var i = this.tt.childNodes, e = 0; e < i.length; e++) { var s = i[e].getAttribute(this.ea); s && (this.Ni[s] = i[e]) } return this.getItemNode(t) }, locate: function(t) { return pt(t, this.ea) }, showItem: function(t) { var i = this.getItemNode(t); if (i && this.scrollTo) { var e = i.offsetLeft, s = e + i.offsetWidth, n = i.offsetTop, r = n + i.offsetHeight, h = this.getScrollState(), o = h.x; (e < o || o + this.ge < s) && (o = e); var a = h.y; (n < a || a + this.xe < r) && (a = n), this.scrollTo(o, a), this.yc && this.yc(t) } }, render: function(t, i, e) { if (this.isVisible(this.P.id) && !this.$blockRender) if (t) { var s = this.getItemNode(t); switch (e) { case "paint": case "update": if (!s) return; _t(this.Ni[t] = this.xc(i), s), vt(s); break; case "delete": if (!s) return; vt(s), delete this.Ni[t]; break; case "add": _t(this.Ni[t] = this.xc(i), this.getItemNode(this.data.getNextId(t)), this.tt); break; case "move": _t(this.getItemNode(t), this.getItemNode(this.data.getNextId(t)), this.tt) } } else this.callEvent("onBeforeRender", [this.data]) && ((this.Mc || this.tt).innerHTML = this.data.getRange().map(this.Q, this).join(""), this.Ni = null, this.callEvent("onAfterRender", [])) } }, Le = {
		$init: function(t) {
			if (t && !t.scroll && this.Sc) return this.tt = this.tt || this.Wi; (this.tt || this.Wi).appendChild(lt("DIV", { "class": "webix_scroll_cont" }, "")), this.tt = (this.tt || this.Wi).firstChild,
				!this.callEvent || G.touch && "native" != this.Oo || Zt(this.Vt, "scroll", function() { k(function() { this.callEvent("onAfterScroll", []) }, this) }, { bind: this })
		}, Oo: "native", scroll_setter: function(t) { if (!t) return !1; var i = "auto" === t, e = "x" == t ? "x" : "xy" == t ? "xy" : i ? "xy" : "y"; if (G.$customScroll) ae.enable(this, e); else { var s = this.tt.parentNode.style; i ? s.overflowX = s.overflowY = "auto" : (-1 != e.indexOf("x") && (this.ye = !0, s.overflowX = "scroll"), -1 != e.indexOf("y") && (this.we = !0, s.overflowY = "scroll")) } return e }, kc: function(t, i) { if (!!this.P.scroll != !!t) { if (!G.$customScroll) this.tt.parentNode.style["x" === i ? "overflowX" : "overflowY"] = t ? "auto" : "hidden"; "x" === i ? this.ye = t : this.we = t, this.P.scroll = !!t && i } }, getScrollState: function() { return { x: this.tt.parentNode.scrollLeft, y: this.tt.parentNode.scrollTop } }, scrollTo: function(t, i) { this.tt.parentNode.scrollLeft = t, this.tt.parentNode.scrollTop = i }
	}, Oe = { $init: function() { this.rr = D(), this.data, this.data.attachEvent("onStoreUpdated", S(this.Cc, this)), this.data.attachEvent("onStoreLoad", S(this.Dc, this)), this.data.attachEvent("onAfterFilter", S(this.Ic, this)), this.data.attachEvent("onSyncApply", S(this.Ac, this)), this.data.attachEvent("onIdChange", S(this.Fc, this)), this.$ready.push(this.Tc) }, Tc: function() { ("multiselect" == this.P.select || this.P.multiselect || "area" == this.P.select) && Zt(this.$view, "mousedown", function(t) { (t || window.event).shiftKey && Mt(ei.Mt = this, "webix_noselect", 1) }) }, Fc: function(t, i) { for (var e = this.rr.length - 1; 0 <= e; e--)this.rr[e] == t && (this.rr[e] = i) }, Ic: function() { for (var t = this.rr.length - 1; 0 <= t; t--)if (this.data.getIndexById(this.rr[t]) < 0) { var i = this.rr[t]; this.removeCss(i, "webix_selected", !0), this.rr.splice(t, 1), this.callEvent("onSelectChange", [i]) } }, Cc: function(t, i, e) { "delete" == e ? this.loadBranch ? this.Ac() : this.rr.remove(t) : t || this.data.count() || this.data.Th || this.data.qh || (this.rr = D()) }, Dc: function() { this.P.select && this.data.each(function(t) { t && t.$selected && this.select(t.id) }, this) }, Ac: function() { for (var t = this.rr.length - 1; 0 <= t; t--)this.exists(this.rr[t]) || this.rr.splice(t, 1) }, Vc: function(t, i, e, s) { var n = i ? "onBeforeSelect" : "onBeforeUnSelect"; if (!this.callEvent(n, [t, i])) return !1; s && (this.zc = !0, this.unselectAll(), this.zc = !1), i ? this.addCss(t, "webix_selected", !0) : this.removeCss(t, "webix_selected", !0), e ? e.push(t) : (i ? this.rr.push(t) : this.rr.remove(t), this.Bc(t)); var r = i ? "onAfterSelect" : "onAfterUnSelect"; return this.callEvent(r, [t]), !0 }, select: function(t, i) { var e = arguments[2], s = arguments[3]; if (!t) return this.selectAll(); if ($(t)) for (var n = 0; n < t.length; n++)this.select(t[n], n ? 1 : i, e, s); else { if (this.data.exists(t), s && this.rr.length) return this.selectAll(this.rr[this.rr.length - 1], t); var r = !1; e || i || 1 == this.rr.length && this.rr[0] == t || (r = !0), r || !this.isSelected(t) ? this.Vc(t, !0, null, r) : e && this.unselect(t) } }, unselect: function(t) { if (!t) return this.unselectAll(); this.isSelected(t) && this.Vc(t, !1) }, selectAll: function(t, i) { var e = []; (t || i ? this.data.getRange(t || null, i || null) : this.data.getRange()).each(function(t) { this.data.getMark(t.id, "webix_selected") || (this.rr.push(t.id), this.Vc(t.id, !0, e)) }, this), this.Bc(e) }, unselectAll: function() { var i = []; this.rr.each(function(t) { this.Vc(t, !1, i) }, this), this.rr = D(), this.Bc(i) }, isSelected: function(t) { return -1 != this.rr.find(t) }, getSelectedId: function(t) { switch (this.rr.length) { case 0: return t ? [] : ""; case 1: return t ? [this.rr[0]] : this.rr[0]; default: return [].concat(this.rr) } }, getSelectedItem: function(t) { var i = this.getSelectedId(!0); if (1 < i.length || t) { for (var e = i.length - 1; 0 <= e; e--)i[e] = this.getItem(i[e]); return i } if (i.length) return this.getItem(i[0]) }, Hc: function(t) { return 100 < t.length || t.length > this.data.count / 2 }, Bc: function(t) { if ("object" != M(t) && (t = [t]), t.length) { if (this.Hc(t)) this.data.refresh(); else for (var i = 0; i < t.length; i++)this.render(t[i], this.data.getItem(t[i]), "update"); this.zc || this.callEvent("onSelectChange", [t]) } } }; bi(function() { Qt(document.body, "mouseup", function() { ei.Mt && (St(ei.Mt, "webix_noselect"), ei.Mt = null) }) }); var We = {
		Rc: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F"], toHex: function(t, i) {
			t = parseInt(t, 10); for (var e = ""; 0 < t;)e = this.Rc[t % 16] + e, t = Math.floor(t / 16); for (; e.length < i;)e = "0" + e
				; return e
		}, rgbToHex: function(t) { var i = []; return "string" == typeof t ? t.replace(/[\d+.]+/g, function(t) { i.push(parseFloat(t)) }) : $(t) && (i = t), 0 === i[3] ? "" : i.slice(0, 3).map(function(t) { return We.toHex(Math.floor(t), 2) }).join("") }, hexToDec: function(t) { return parseInt(t, 16) }, toRgb: function(t) { var i, e, s, n; return s = "string" != typeof t ? (i = t[0], e = t[1], t[2]) : -1 != t.indexOf("rgb") ? (i = (n = t.substr(t.indexOf("(") + 1, t.lastIndexOf(")") - t.indexOf("(") - 1).split(","))[0], e = n[1], n[2]) : ("#" == t.substr(0, 1) && (t = t.substr(1)), i = this.hexToDec(t.substr(0, 2)), e = this.hexToDec(t.substr(2, 2)), this.hexToDec(t.substr(4, 2))), ((i = parseInt(i, 10) || 0) < 0 || 255 < i) && (i = 0), ((e = parseInt(e, 10) || 0) < 0 || 255 < e) && (e = 0), ((s = parseInt(s, 10) || 0) < 0 || 255 < s) && (s = 0), [i, e, s] }, hsvToRgb: function(t, i, e) { var s, n, r, h, o, a, u, c; switch (r = e * (1 - i), h = e * (1 - (n = t / 60 - (s = Math.floor(t / 60) % 6)) * i), o = e * (1 - (1 - n) * i), c = u = a = 0, s) { case 0: a = e, u = o, c = r; break; case 1: a = h, u = e, c = r; break; case 2: a = r, u = e, c = o; break; case 3: a = r, u = h, c = e; break; case 4: a = o, u = r, c = e; break; case 5: a = e, u = r, c = h }return [a = Math.floor(255 * a), u = Math.floor(255 * u), c = Math.floor(255 * c)] }, rgbToHsv: function(t, i, e) { var s, n, r, h, o, a, u; return s = t / 255, n = i / 255, r = e / 255, h = Math.min(s, n, r), a = 0, (u = o = Math.max(s, n, r)) == h ? a = 0 : o == s && r <= n ? a = 60 * (n - r) / (o - h) + 0 : o == s && n < r ? a = 60 * (n - r) / (o - h) + 360 : o == n ? a = 60 * (r - s) / (o - h) + 120 : o == r && (a = 60 * (s - n) / (o - h) + 240), [a, 0 === o ? 0 : 1 - h / o, u] }
	}; function Ue(t) { var i = " "; if (t) for (var e in t) i += e + '="' + t[e] + '" '; return i } var Ye = { draw: function(t, i, e, s) { return "<svg " + Ue({ xmlns: "http://www.w3.org/2000/svg", version: "1.1", height: "100%", width: "100%", viewBox: "0 0 " + i + " " + e, "class": s || "" }) + ">" + t + "</svg>" }, styleMap: { lineColor: "stroke", color: "fill" }, group: function(t) { return "<g>" + t + "</g>" } }; Ye.Ec = { M: function(t) { return " M " + t.x + " " + t.y }, L: function(t) { return " L " + t.x + " " + t.y }, C: function(t, i, e) { return " C " + t.x + " " + t.y + " " + i.x + " " + i.y + " " + e.x + " " + e.y }, A: function(t, i, e, s) { var n = t.x + Math.cos(s) * i, r = t.y + Math.sin(s) * i; return " A " + i + " " + i + " 0 " + (s - e >= Math.PI ? 1 : 0) + " 1 " + n + " " + r } }, Ye.definePath = function(t, i) { for (var e = "", s = 0; s < t.length; s++) { t[s][0] && t[s][0]; var n = t[s][0].toUpperCase(); this.Ec[n], e += this.Ec[n].apply(this, t[s].slice(1)) } return i && (e += " Z"), e }, Ye.Pc = function(t) { for (var i = [], e = 0; e < t.length; e++)i.push([e ? "L" : "M", t[e]]); return i }, Ye.setOpacity = function(t, i) { var e = We.toRgb(t); return e.push(i), "rgba(" + e.join(",") + ")" }, Ye.jc = function(t) { for (var i = [], e = 0; e < t.length; e++) { var s = t[e]; e || i.push(["M", s[0]]), i.push(["C", s[1], s[2], s[3]]) } return i }, Ye.getPath = function(t, i, e) { return '<path class="' + i + '" vector-effect="non-scaling-stroke" d="' + t + '" ' + (e = Ue(e)) + "/>" }, Ye.getSector = function(t, i, e, s, n, r) { r = Ue(r); var h = [["M", t], ["L", { x: t.x + Math.cos(e) * i, y: t.y + Math.sin(e) * i }], ["A", t, i, e, s], ["L", t]]; return '<path class="' + n + '" vector-effect="non-scaling-stroke" d="' + Ye.definePath(h, !0) + '" ' + r + "/>" }, Ye.getCurve = function(t, i, e) { return e = Ue(e), '<path fill="none" class="' + i + '" vector-effect="non-scaling-stroke" d="' + this.definePath(this.jc(t)) + '" ' + e + "/>" }, Ye.getLine = function(t, i, e, s) { return this.getPath(this.definePath(this.Pc([t, i]), !0), e, s) }, Ye.getCircle = function(t, i, e, s) { return s = Ue(s), '<circle class="' + e + '" cx="' + t.x + '" cy="' + t.y + '" r="' + i + '" ' + s + "/>" }, Ye.getRect = function(t, i, e, s, n, r) { return '<rect class="' + n + '" rx="0" ry="0" x="' + t + '" y="' + i + '" width="' + e + '" height="' + s + '" ' + (r = Ue(r)) + "/>" }; var qe = { paddingX: 6, paddingY: 6, radius: 2, minHeight: 4, eventRadius: 8 }; function Ge(t) { this.config = T.extend(_(qe), t || {}, !0) } Ge.prototype.draw = function(t, i, e) { var s = this.getPoints(t, i, e), n = this.config, r = Ye, h = n.color ? this.Nc(r, n.color) : null, o = r.definePath(this.Lc(s)), a = r.group(r.getPath(o, "webix_sparklines_line" + (h ? " " + h.line : ""))); a += this.Oc(r, s, n.radius, "webix_sparklines_item" + (h ? " " + h.item : "")); var u = Math.min(t.length ? (i - 2 * (n.paddingX || 0)) / t.length : 0, n.eventRadius); return a += this.Wc(r, s, u), r.draw(a, i, e, "webix_sparklines_line_chart" + (n.css ? " " + n.css : "")) }, Ge.prototype.Nc = function(t, i) { var e = { line: {}, item: {} }, s = t.styleMap; if (i) for (var n in e.line[s.lineColor] = i, e.item[s.color] = i, e) e[n] = ut(e[n]); return e }, Ge.prototype.Oc = function(t, i, e, s, n) {
		for (var r = [], h = 0; h < i.length; h++)r.push(t.getCircle(i[h], e, s, n))
			; return t.group(r.join(""))
	}, Ge.prototype.Wc = function(t, i, e) { for (var s = [], n = 0; n < i.length; n++)s.push(t.getCircle(i[n], e, "webix_sparklines_event_area", { webix_area: n })); return t.group(s.join("")) }, Ge.prototype.Lc = function(t) { var i, e, s = []; for (i = 0; i < t.length; i++)e = i ? "L" : "M", s.push([e, t[i]]); return s }, Ge.prototype.getPoints = function(t, i, e) { var s = this.config, n = Math.min.apply(null, t); "undefined" != typeof s.origin && (n = Math.min(s.origin, n)); var r = Math.max.apply(null, t), h = [], o = s.paddingX || 0, a = s.paddingY || 0; i = (i || 100) - 2 * o; var u = s.minHeight || 0; if (e = (e || 100) - 2 * a, t.length) if (1 == t.length) h.push({ x: i / 2 + o, y: e / 2 + o }); else { var c = i / (t.length - 1), f = s.scale || r - n, l = (e - u) / (f || 1); f || (e /= 2); for (var d = 0; d < t.length; d++)h.push({ x: Math.ceil(c * d) + o, y: e - Math.ceil(l * (t[d] - n)) + a - u }) } return h }; var Xe = { paddingX: 3, paddingY: 4, radius: 1, minHeight: 4, eventRadius: 8 }; function Ke(t) { this.config = T.extend(_(Xe), t || {}, !0) } Ke.prototype.draw = function(t, i, e) { var s, n, r, h, o, a = this.config, u = Ge.prototype, c = Ye; return h = this.getPoints(t, i, e), r = c.definePath(u.Lc(h), !0), a.color && (o = this.Nc(c, a.color)), n = c.group(c.getPath(r, "webix_sparklines_area" + (o ? " " + o.area : ""))), h.splice(h.length - 3, 3), r = c.definePath(u.Lc(h)), n += c.group(c.getPath(r, "webix_sparklines_line" + (o ? " " + o.line : ""))), n += u.Oc(c, h, a.radius, "webix_sparklines_item" + (o ? " " + o.item : "")), s = Math.min(t.length ? (i - 2 * (a.paddingX || 0)) / t.length : 0, a.eventRadius), n += u.Wc(c, h, s), c.draw(n, i, e, "webix_sparklines_area_chart" + (a.css ? " " + a.css : "")) }, Ke.prototype.Nc = function(t, i) { var e = { area: {}, line: {}, item: {} }, s = t.styleMap; if (i) for (var n in e.area[s.color] = t.setOpacity(i, .2), e.line[s.lineColor] = i, e.item[s.color] = i, e) e[n] = ut(e[n]); return e }, Ke.prototype.getPoints = function(t, i, e) { var s = Ge.prototype.getPoints.call(this, t, i, e), n = this.config.paddingX || 0, r = this.config.paddingY || 0; return s.push({ x: i - n, y: e - r }, { x: n, y: e - r }, { x: n, y: s[0].y }), s }; var Je = { paddingX: 3, paddingY: 4, width: 20, margin: 4, minHeight: 4, eventRadius: 8, origin: 0, itemCss: function(t) { return t < (this.config.origin || 0) ? " webix_sparklines_bar_negative" : "" } }; function Ze(t) { this.config = T.extend(_(Je), t || {}, !0) } Ze.prototype.draw = function(t, i, e) { var s, n, r, h, o, a = this.config, u = "", c = [], f = this.getPoints(t, i, e), l = Ye; for (s = 0; s < f.length; s++)n = "function" == typeof a.itemCss ? a.itemCss.call(this, t[s]) : a.itemCss || "", a.negativeColor && t[s] < a.origin ? n += " " + this.Nc(l, a.negativeColor) : a.color && (n += " " + this.Nc(l, a.color)), r = f[s], c.push(l.getRect(r.x, r.y, r.width, r.height, "webix_sparklines_bar " + n)); u += l.group(c.join("")), h = parseInt(this.Uc(t, i, e), 10) + .5, o = a.paddingX || 0, u += l.group(l.getLine({ x: o, y: h }, { x: i - o, y: h }, "webix_sparklines_origin")); var d = this.Yc(t, i, e), v = []; for (s = 0; s < d.length; s++)r = d[s], v.push(l.getRect(r.x, r.y, r.width, r.height, "webix_sparklines_event_area ", { webix_area: s })); return u += l.group(v.join("")), l.draw(u, i, e, "webix_sparklines_bar_chart" + (a.css ? " " + a.css : "")) }, Ze.prototype.Nc = function(t, i) { var e = {}, s = t.styleMap; return i && (e[s.color] = i), ut(e) }, Ze.prototype.Uc = function(t, i, e) { var s = this.config, n = s.paddingY || 0, r = n + (e = (e || 100) - 2 * n); if (!1 !== s.origin) { var h = Math.min.apply(null, t), o = Math.max.apply(null, t), a = s.origin || -1e-6; if (o <= a) r = n; else if (h < a) { r -= e / (o - h) * (a - h) } } return r }, Ze.prototype.Yc = function(t, i, e) { var s = [], n = this.config.paddingX || 0, r = this.config.paddingY || 0; if (i = (i || 100) - 2 * n, e = (e || 100) - 2 * r, t.length) for (var h = i / t.length, o = 0; o < t.length; o++)s.push({ x: Math.ceil(h * o) + n, y: r, height: e, width: h }); return s }, Ze.prototype.getPoints = function(t, i, e) { var s = this.config, n = Math.min.apply(null, t); s.origin < n && (n = s.origin); var r = Math.max.apply(null, t), h = [], o = s.paddingX, a = s.paddingY, u = s.margin, c = s.width || 20, f = this.Uc(t, i, e); if (i = (i || 100) - 2 * o, e = (e || 100) - 2 * a, t.length) { var l = i / t.length, d = s.scale || r - n; u = l - (c = Math.min(l - u, c)); var v = 0, _ = n; !1 !== s.origin && s.origin > n ? _ = s.origin || 0 : v = s.minHeight; for (var p = (e - v) / (d || 1), b = 0; b < t.length; b++) { var m = Math.ceil(p * (t[b] - _)); h.push({ x: Math.ceil(l * b) + o + u / 2, y: f - (t[b] >= _ ? m : 0) - v, height: Math.abs(m) + v, width: c }) } } return h }; var Qe = { paddingY: 2 }; function ts(t) { this.config = T.extend(Qe, t || {}, !0) } ts.prototype.qc = 0, ts.prototype.Gc = ["#f55b50", "#ff6d3f", "#ffa521", "#ffc927", "#ffee54", "#d3e153", "#9acb61", "#63b967",
		"#21a497", "#21c5da", "#3ea4f5", "#5868bf", "#7b53c0", "#a943ba", "#ec3b77", "#9eb0b8"], ts.prototype.Xc = function(t, i) { var e = i.length, s = this.Gc.length; return e < s ? (t && (t = t < s - e ? this.qc + 2 : this.qc + 1), this.qc = t) : t %= s, this.Gc[t] }, ts.prototype.draw = function(t, i, e) { var s, n, r, h, o = this.config, a = o.color || this.Xc, u = this.getAngles(t), c = Ye, f = e / 2 - (o.paddingY || 0), l = i / 2, d = e / 2; for ("function" != typeof a && (a = function() { return a }), h = "", r = 0; r < u.length; r++)(s = {})[c.styleMap.color] = a.call(this, r, t, this.Kc), h += c.getSector({ x: l, y: d }, f, u[r][0], u[r][1], "webix_sparklines_sector", s); for (n = c.group(h), h = "", r = 0; r < u.length; r++)h += c.getSector({ x: l, y: d }, f, u[r][0], u[r][1], "webix_sparklines_event_area", { webix_area: r }); return n += c.group(h), c.draw(n, i, e, "webix_sparklines_pie_chart" + (o.css ? " " + o.css : "")) }, ts.prototype.getAngles = function(t) { var i, e, s = -Math.PI / 2, n = [], r = this.Jc(t); for (e = 0; e < t.length; e++)i = -Math.PI / 2 + r[e] - 1e-4, n.push([s, i]), s = i; return n }, ts.prototype.Zc = function(t) { for (var i = 0, e = 0; e < t.length; e++)i += 1 * t[e]; return i }, ts.prototype.Jc = function(t) { var i, e, s = [], n = 0, r = this.Zc(t); for (i = 0; i < t.length; i++)e = 1 * t[i], s[i] = 2 * Math.PI * (r ? (e + n) / r : 1 / t.length), n += e; return s }; var is = { paddingX: 3, paddingY: 6, radius: 2, minHeight: 4, eventRadius: 8 }; function es(t) { this.config = T.extend(_(is), t || {}, !0) } es.prototype.draw = function(t, i, e) { var s = this.config, n = "", r = Ge.prototype, h = this.getPoints(t, i, e), o = Ye, a = s.color ? this.Nc(o, s.color) : null; n += o.group(o.getCurve(h, "webix_sparklines_line" + (a ? " " + a.line : ""))); var u = r.getPoints.call(this, t, i, e); n += r.Oc(o, u, s.radius, "webix_sparklines_item" + (a ? " " + a.item : "")); var c = Math.min(t.length ? (i - 2 * (s.paddingX || 0)) / t.length : 0, s.eventRadius); return n += r.Wc(o, u, c), o.draw(n, i, e, "webix_sparklines_line_chart" + (s.css ? " " + s.css : "")) }, es.prototype.Nc = function(t, i) { var e = { line: {}, item: {} }, s = t.styleMap; if (i) for (var n in e.line[s.lineColor] = i, e.item[s.color] = i, e) e[n] = ut(e[n]); return e }, es.prototype.getPoints = function(t, i, e) { var s, n, r, h, o = [], a = [], u = []; for (n = Ge.prototype.getPoints.call(this, t, i, e), s = 0; s < n.length; s++)a.push(n[s].x), u.push(n[s].y); for (r = this.Qc(a), h = this.Qc(u), s = 0; s < n.length - 1; s++)o.push([n[s], { x: r[0][s], y: h[0][s] }, { x: r[1][s], y: h[1][s] }, n[s + 1]]); return o }, es.prototype.Qc = function(t) { var i, e, s = [], n = [], r = [], h = [], o = [], a = [], u = t.length - 1; for (n[s[0] = 0] = 2, r[0] = 1, h[0] = t[0] + 2 * t[1], i = 1; i < u - 1; i++)s[i] = 1, n[i] = 4, r[i] = 1, h[i] = 4 * t[i] + 2 * t[i + 1]; for (s[u - 1] = 2, n[u - 1] = 7, r[u - 1] = 0, h[u - 1] = 8 * t[u - 1] + t[u], i = 1; i < u; i++)e = s[i] / n[i - 1], n[i] = n[i] - e * r[i - 1], h[i] = h[i] - e * h[i - 1]; for (o[u - 1] = h[u - 1] / n[u - 1], i = u - 2; 0 <= i; --i)o[i] = (h[i] - r[i] * o[i + 1]) / n[i]; for (i = 0; i < u - 1; i++)a[i] = 2 * t[i + 1] - o[i + 1]; return a[u - 1] = .5 * (t[u] + o[u - 1]), [o, a] }; var ss = { paddingX: 3, paddingY: 6, radius: 1, minHeight: 4, eventRadius: 8 }; function ns(t) { this.config = T.extend(_(ss), t || {}, !0) } function rs() { } (ns.prototype = _(es.prototype)).draw = function(t, i, e) { var s = this.config, n = Ge.prototype, r = Ye, h = s.color ? this.Nc(r, s.color) : null, o = this.getPoints(t, i, e), a = o.splice(o.length - 3, 3), u = r.Pc(a); u[0][0] = "L"; var c = r.jc(o).concat(u), f = r.group(r.getPath(r.definePath(c), "webix_sparklines_area" + (h ? " " + h.area : ""), !0)); f += r.group(r.getPath(r.definePath(r.jc(o)), "webix_sparklines_line" + (h ? " " + h.line : ""))); var l = n.getPoints.call(this, t, i, e); f += n.Oc(r, l, s.radius, "webix_sparklines_item" + (h ? " " + h.item : "")); var d = Math.min(t.length ? (i - 2 * (s.paddingX || 0)) / t.length : 0, s.eventRadius); return f += n.Wc(r, l, d), r.draw(f, i, e, "webix_sparklines_splinearea_chart" + (s.css ? " " + s.css : "")) }, ns.prototype.Nc = function(t, i) { var e = { area: {}, line: {}, item: {} }, s = t.styleMap; if (i) for (var n in e.area[s.color] = t.setOpacity(i, .2), e.line[s.lineColor] = i, e.item[s.color] = i, e) e[n] = ut(e[n]); return e }, ns.prototype.getPoints = function(t, i, e) { var s = es.prototype.getPoints.call(this, t, i, e), n = this.config.paddingX || 0, r = this.config.paddingY || 0; return s.push({ x: i - n, y: e - r }, { x: n, y: e - r }, { x: n, y: s[0][0].y }), s }, rs.types = {}, rs.getTemplate = function(t) { var i = t || {}; "string" == typeof t && (i = { type: t }), T.extend(i, { type: "line" }); var e = this.types[i.type]; return S(this.tf, new e(i)) }, rs.tf = function(t, i, e, s) {
			return s ? this.draw(function n(t) { for (var i = [], e = t.length - 1; 0 <= e; e--) { var s = t[e]; i[e] = "object" === M(s) ? s.value : s } return i }(e), s.width, 33
			) : this.draw(t.data || t, i.width, i.height)
		}, F("onDataTable", function(t) { t.type.sparklines = rs.getTemplate() }), rs.types.area = Ke, rs.types.bar = Ze, rs.types.line = Ge, rs.types.pie = ts, rs.types.spline = es, rs.types.splineArea = ns; var hs = { clipboard_setter: function(t) { return G.touch || (!0 !== t && 1 !== t || (t = "block"), ne.init(), this.attachEvent("onSelectChange", this.nr), this.attachEvent("onAfterEditStop", function(t, i) { var e = this.getSelectedId(!0); 1 == e.length && i.row == e[0].row && this.nr() }), this.attachEvent("onItemClick", function() { document.activeElement && this.$view.contains(document.activeElement) && (ne.focus(), Si.setFocus(this)) }), this.attachEvent("onPaste", this["if"])), t }, templateCopy_setter: qt, nr: function() { var i = this; k(function() { if (!i.getEditor || !i.getEditor()) { var t = i.ef(); ne.set(t), Si.setFocus(i) } }) }, ef: function() { var r = [], h = this.P.templateCopy; return this.mapSelection(function(t, i, e, s) { r[s] || (r[s] = []); var n = h ? h(t, i, e) : t; return r[s].push(n), t }), 1 === r.length && 1 === r[0].length ? r[0][0] : re.stringify(r, this.P.delimiter) }, "if": function(t) { if (!V(this.Zn[this.P.clipboard])) { var i = re.parse(t, this.P.delimiter); this.Zn[this.P.clipboard].call(this, i) } }, Zn: { block: function(r) { var t = this.mapSelection(null); t && (this.mapCells(t.row, t.column, r.length, null, function(t, i, e, s, n) { return r[s] && r[s].length > n ? r[s][n] : t }), this.render()) }, selection: function(r) { this.mapSelection(function(t, i, e, s, n) { return r[s] && r[s].length > n ? r[s][n] : t }), this.render() }, repeat: function(r) { this.mapSelection(function(t, i, e, s, n) { return (i = r[s % r.length])[n % i.length] }), this.render() }, custom: function() { } } }, os = { open: function(t, i) { if (t) { var e = this.getItem(t); e.$count && !e.open && (this.callEvent("onBeforeOpen", [t]) && (e.open = !0, this.data.callEvent("onStoreUpdated", [t, 0, "branch"]), this.callEvent("onAfterOpen", [t])), i && "0" != t && this.open(this.getParentId(t), i)) } }, close: function(t) { if (t) { var i = this.getItem(t); i.open && this.callEvent("onBeforeClose", [t]) && (i.open = !1, this.data.callEvent("onStoreUpdated", [t, 0, "branch"]), this.callEvent("onAfterClose", [t])) } }, openAll: function(t) { this.data.eachSubItem(t || 0, function(t, i) { i && (t.open = !0) }), this.data.refresh() }, closeAll: function(t) { this.data.eachSubItem(t || 0, function(t, i) { i && (t.open = !1) }), this.data.refresh() }, sf: function(t, i, e) { if (this.P.threeState) return this.nf(t, null !== i ? i : ""); var s, n = this.getItem(t), r = e ? e.target : null; s = r && "checkbox" == r.type ? !!r.checked : null !== i ? i : !n.checked, n.checked = s, this.callEvent("onItemCheck", [t, n.checked, e]) }, isBranchOpen: function(t) { if ("0" == t) return !0; var i = this.getItem(t); return !!i.open && this.isBranchOpen(i.$parent) }, getOpenItems: function() { var t = []; for (var i in this.data.branch) this.exists(i) && this.getItem(i).open && t.push(i); return t }, getState: function() { return { open: this.getOpenItems(), select: this.getSelectedId(!0) } }, rf: function(t, i) { var e = this.data.attachEvent("onStoreLoad", function() { t.setState.call(t, i), t.data.detachEvent(e), t = null }) }, setState: function(t) { if (t.open) { this.closeAll(); for (var i = t.open, e = 0; e < i.length; e++) { var s = this.getItem(i[e]); if (s && s.$count && (s.open = !0, -1 == s.$count)) return this.rf(this, t), this.refresh(), 0 } this.refresh() } if (t.select && this.select) { var n = t.select; this.unselect(); for (var r = 0; r < n.length; r++)this.exists(n[r]) && this.select(n[r], !0) } return 1 } }, as = { webix_tree_open: function(t, i) { return this.close(i), !1 }, webix_tree_close: function(t, i) { return this.open(i), !1 }, webix_tree_checkbox: function(t, i) { return this.sf(i, null, t), !1 } }, us = { $init: function() { this.data.attachEvent("onStoreUpdated", S(this.hf, this), null, !0), this.bo = this.af }, af: function(t, i, e, s, n, r) { return n = 0 === i ? { parent: encodeURIComponent(t) } : null, be.prototype.bo.call(this, t, i, e, s, n, r) }, loadBranch: function(t, i, e) { return t = t || 0, this.data.url = e || this.data.url, this.callEvent("onDataRequest", [t, i, this.data.url]) && this.data.url ? this.data.feed.call(this, t, 0, i, e) : b.reject() }, hf: function(t, i, e) { e && "add" != e && "delete" != e && "branch" != e || this.data.uf(this) } }, cs = {
			$init: function() { this.data }, copy: function(t, i, e, s) { return (s = s || {}).copy = !0, this.move(t, i, e, s) }, rh: function(t, i, e) {
				if (i && t) {
					var s = this.getBranchIndex(t); return s + (e == this && this.getParentId(t) == this.getParentId(i
					) && e.getBranchIndex(i) < s ? 0 : 1)
				}
			}, cf: function(t, i) { var e = this.data.branch[t]; if (e && e.length) for (var s = 0; s < e.length; s++) { if (e[s] == i) return !0; if (this.cf(e[s], i)) return !0 } return !1 }, ff: function(t) { for (var i = 0; i < t.length; i++)for (var e = t[i]; this.getParentId(e);)e = this.getParentId(e), -1 == x.find.call(t, e) || (t.splice(i, 1), i--); return t }, move: function(t, i, e, s) { i = i || 0; var n = (s = s || {}).newId || t, r = s.parent || 0; if ((e = e || this).data, e.data) { if (!$(t)) { if (this != e || s.copy) { if (n = e.data.add(e.nh(this.getItem(t), n), i, r || 0), this.data.branch[t] && e.getBranchIndex) { var h = this.data.gh; this.data.gh = function(t) { var i = _(t); return delete i.$parent, delete i.$level, delete i.$child, e.data.pull[i.id] && (i.id = z()), i }; var o = { data: this.serialize(t, !0), parent: n }; this.data.gh = h, e.parse(o) } s.copy || this.data.remove(t) } else { if (t == r || this.cf(t, r)) return; var a = this.getItem(t), u = this.data.branch[r]; u || (u = this.data.branch[r] = []); var c = this.data.branch[a.$parent], f = x.find.call(c, t); if (i < 0 && (i = u.length), c === u && i === f) return n; if (x.removeAt.call(c, f), x.insertAt.call(u, t, Math.min(u.length, i)), c.length || delete this.data.branch[a.$parent], a.$parent && "0" != a.$parent && this.getItem(a.$parent).$count--, r && "0" != r) { var l = e.getItem(r); l.$count++, this.lf(a, l.$level + 1) } else this.lf(a, 1); a.$parent = r, e.data.callEvent("onDataMove", [t, i, r, u[i + 1]]) } return this.refresh(), n } this.ff(t); for (var d = 0; d < t.length; d++) { var v = this.move(t[d], i, e, s); i = e.rh(v, t[d + 1], this) } } }, lf: function(t, i) { t.$level = i; var e = this.data.branch[t.id]; if (e) for (var s = 0; s < e.length; s++)this.lf(this.getItem(e[s]), i + 1) }, Po: function(t) { t && !t.header && this.exists(t) && this.jo(t) != Ki.Gs.start && this.open(t) }, $dropAllow: function(t) { if (t.from != t.to) return !0; for (var i = 0; i < t.source.length; i++)if (this.cf(t.source, t.target)) return !1; return !0 }, nh: function(t, i) { var e = ce.nh.call(this, t, i); return delete e.open, e }
		}, fs = { $init: function() { this.render }, df: function(t) { var i = this.data.Fh[t.id]; return this.callEvent("onItemRender", [t]), this.type.templateStart(t, this.type, i) + (t.$template ? this.type["template" + t.$template](t, this.type, i) : this.type.template(t, this.type, i)) + this.type.templateEnd() }, vf: function(t) { return this.Oi.innerHTML = this.df(t), this.Oi.firstChild }, Q: function(t) { !t.$template || this.type["template" + t.$template], t.$template; var i = "<div role='presentation' class='webix_tree_branch_" + t.$level + "'>" + this.df(t); return t.open && (i += this._f(t.id)), i += "</div>" }, _f: function(t) { var i = "", e = this.data.branch[t]; if (e) { i += "<div role='presentation' class='webix_tree_leaves'>"; for (var s = e.length - 1, n = 0; n <= s; n++) { var r = this.getItem(e[n]), h = this.type.pf; 0 !== h && (h[r.$level] = n == s), i += this.Q(r) } i += "</div>" } return i }, render: function(t, i, e) { if ((fs.Be = this).isVisible(this.P.id) && !this.$blockRender) { if (t) { var s, n, r = this.getItem(t); if ("add" != e && !(s = this.getItemNode(t))) return; switch (e) { case "branch": var h = s.parentNode; _t(n = this.xc(r), h), vt(h), this.Ni = null; break; case "paint": case "update": _t(n = this.Ni[t] = this.vf(r), s), vt(s); break; case "delete": vt(s.parentNode); break; case "add": var o; if (0 == r.$parent) o = this.tt.firstChild; else if (this.getItem(r.$parent).open && (o = this.getItemNode(r.$parent))) { if (!o.nextSibling) { var a = lt("DIV", { "class": "webix_tree_leaves" }, ""); o.parentNode.appendChild(a) } o = o.nextSibling } if (o) { var u = this.data.getNextSiblingId(t); (u = this.getItemNode(u)) && (u = u.parentNode), n = this.xc(r), this.Ni[t] = n.firstChild, _t(n, u, o) } break; default: return !1 }this.callEvent("onPartialRender", [t, i, e]) } else this.callEvent("onBeforeRender", [this.data]) && (this.type.pf = [], this.tt.innerHTML = this._f(0), this.Ni = null, this.callEvent("onAfterRender", [])); return this.type.pf = 0, !(fs.Be = null) } }, getItemNode: function(t) { if (this.Ni) return this.Ni[t]; this.Ni = {}; for (var i = this.tt.getElementsByTagName("DIV"), e = 0; e < i.length; e++) { var s = i[e].getAttribute(this.ea); s && (this.Ni[s] = i[e]) } return this.getItemNode(t) }, bf: 1 }, ls = {
			mf: function() { if (this.bf) { var s = this.render; this.render = function(t, i) { var e = s.apply(this, arguments); this.P.threeState && e && "checkbox" != i && this.gf.apply(this, arguments) }, this.mf = function() { } } }, threeState_setter: function(t) { return t && this.mf(), t }, gf: function(t) {
				var i, e, s, n, r; if (s = [], r = this,
					t && !r.data.pull[t] && (t = 0), !t || r.data.pull[t].$count) for ((e = this.wf(t)).sort(function(t, i) { return r.data.pull[i].$level - r.data.pull[t].$level }), i = 0; i < e.length; i++)i && r.data.pull[e[i]].$parent == r.data.pull[e[i - 1]].$parent || (s = s.concat(r.xf(e[i]))); else s = s.concat(r.xf(t)); for (n = {}, i = 0; i < s.length; i++)n[s[i]] || (n[s[i]] = 1, this.yf(s[i])); r = null
			}, yf: function(t) { var i; this.getItemNode(t) && (this.render(t, "checkbox", "update"), this.getItem(t).indeterminate && (i = this.getItemNode(t).getElementsByTagName("input")[0]) && (i.indeterminate = this.getItem(t).indeterminate)) }, xf: function(t) { var i, e, s, n, r, h, o; for (n = this.getParentId(t), r = []; n && "0" != n;) { e = h = 0, this.data.eachChild(n, function(t) { t.indeterminate ? h++ : t.checked && e++ }), i = s = o = !1; var a = this.getItem(n); e == a.$count ? i = !0 : (0 < e || 0 < h) && (s = !0), (s || s != a.indeterminate) && (o = !0), a.indeterminate = s, (i || a.checked != i) && (o = !0), a.checked = i, n = o ? (r.push(n), this.getParentId(n)) : 0 } return r }, getChecked: function() { var i = [], e = this; return this.data.eachSubItem(0, function(t) { e.isChecked(t.id) && i.push(t.id) }), i }, nf: function(t, i) { var e = this.getItem(t); if (e && ("" === i && (i = !e.checked), e.checked != i || e.indeterminate)) { e.checked = i, this.Mf(t); var s = this.xf(t); if (this.bf && s.length < 5) for (var n = 0; n < s.length; n++)this.yf(s[n]); else this.refresh(); this.callEvent("onItemCheck", [t, i]) } }, checkItem: function(t) { this.sf(t, !0), this.updateItem(t) }, uncheckItem: function(t) { this.sf(t, !1), this.updateItem(t) }, Sf: function(t, i, e) { var s = i ? "checkItem" : "uncheckItem"; t ? this[s](t) : t = 0, this.P.threeState ? t || this.data.eachChild(0, function(t) { this[s](t.id) }, this, e) : this.data.each(function(t) { this[s](t.id) }, this, e, t) }, checkAll: function(t, i) { this.Sf(t, !0, i) }, uncheckAll: function(t, i) { this.Sf(t, !1, i) }, Mf: function(t) { var i, e = this.getItem(t); e.indeterminate = !1, i = e.checked, this.data.eachSubItem(t, function(t) { t.indeterminate = !1, t.checked = i }), this.bf && this.isBranchOpen(e.$parent) && this.render(t, 0, "branch") }, isChecked: function(t) { return this.getItem(t).checked }, wf: function(t) { var e = []; return this.data.eachSubItem(t, function(t, i) { i || e.push(t.id) }), e }
		}, ds = {
			name: "TreeStore", $init: function() { this.ho = { showSubItems: !0 }, this.branch = { 0: [] }, this.attachEvent("onParse", function(t) { this.Kh(t.child) }), this.attachEvent("onClearAll", S(function() { this.qh = null }, this)) }, filterMode_setter: function(t) { return T.extend(this.ho, t, !0) }, no: function(t) { if (this.qh && !t) { for (var i in this.branch = this.qh, this.order = D(_(this.branch[0])), this.branch) "0" != i && (this.getItem(i).$count = this.branch[i].length); delete this.qh } }, ro: function(t, i, e, s) { e && this.qh || (this.qh = this.branch, this.branch = l(this.branch)), this.branch[0] = this.kf(t, i, this.branch[0], 1, s || {}) }, kf: function(t, i, e, s, n) { for (var r = [], h = n.level && n.level != s, o = 0; o < e.length; o++) { var a = e[o], u = this.getItem(a), c = !1, f = this.branch[a]; if (h) c = !0; else if (t(this.getItem(a), i)) { if (r.push(a), !1 !== n.openParents) for (var l = this.getParentId(a); l && "0" != l;)this.getItem(l).open = 1, l = this.getParentId(l); if (n.level || n.showSubItems) continue } else c = !0; if ((h || !n.level) && f) { var d = this.branch[a] = this.kf(t, i, f, s + 1, n); u.$count = d.length, c && d.length && r.push(a) } } return r }, count: function() { if (this.order.length) return this.order.length; var t = 0; return this.eachOpen(function() { t++ }), t }, Cf: function(t, i, e, s) { if (t[e]) { for (var n = t[s] = t[e], r = 0; r < n.length; r++)this.getItem(n[r]).$parent = s; delete t[e] } if (t[i]) { var h = x.find.call(t[i], e); 0 <= h && (t[i][h] = s) } }, changeId: function(t, i) { if (t != i) { var e = this.getItem(t).$parent; return this.Cf(this.branch, e, t, i), this.qh && this.Cf(this.qh, e, t, i), pe.prototype.changeId.call(this, t, i) } }, clearAll: function(t) { this.branch = { 0: [] }, pe.prototype.clearAll.call(this, t) }, getPrevSiblingId: function(t) { var i = this.branch[this.getItem(t).$parent], e = x.find.call(i, t) - 1; return 0 <= e ? i[e] : null }, getNextSiblingId: function(t) { var i = this.branch[this.getItem(t).$parent], e = x.find.call(i, t) + 1; return e < i.length ? i[e] : null }, getParentId: function(t) { return this.getItem(t).$parent }, getFirstChildId: function(t) { var i = this.branch[t]; return i && i.length ? i[0] : null }, isBranch: function(t) { return !!this.branch[t] }, getBranchIndex: function(t) {
				var i = this.branch[this.pull[t].$parent]; return x.find.call(
					i, t)
			}, Kh: function(e) { this.Xh = "string" == typeof e ? function(t) { var i = t[e]; return i && delete t[e], i } : e }, Vh: function(t, i) { for (var e = t.parent || 0, s = 0; s < i.length; s++) { var n = this.driver.getDetails(i[s]), r = this.id(n), h = !!this.pull[r]; h ? (n = T.extend(this.pull[r], n, !0), this.Ph && this.Ph(n)) : (this.jh && this.jh(n), this.pull[r] = n), this.Gh(n, e, 0, h, t.from ? 1 * t.from + s : 0) } var o = this.pull[e] || {}, a = this.branch[e] || []; o.$count = a.length, delete o.webix_kids, t.size && t.size != a.length && (a[t.size - 1] = undefined) }, Gh: function(t, i, e, s, n) { t.$count = 0, t.$parent = "0" != i ? i : 0, t.$level = e || ("0" != i ? this.pull[i].$level + 1 : 1); var r = this.branch[t.$parent]; (r || (r = this.branch[t.$parent] = []), this.qh && (this.qh[t.$parent] = r), s) || (r[n || r.length] = t.id); var h = this.Xh(t); if (t.webix_kids) return t.$count = -1; if (!h) return t.$count = 0; $(h) || (h = [h]); for (var o = 0; o < h.length; o++) { var a = Bt.json.getDetails(h[o]), u = this.id(a); (s = !!this.pull[u]) ? (a = T.extend(this.pull[u], a, !0), this.Ph && this.Ph(a)) : (this.jh && this.jh(a), this.pull[u] = a), this.Gh(a, t.id, t.$level + 1, s) } var c = this.branch[t.id]; c && (t.$count = c.length) }, uf: function(t) { this.order = D(), this.$f(this.order, 0, t) }, $f: function(t, i, e) { for (var s = this.branch[i], n = 0; n < s.length; n++) { var r = s[n]; t.push(r); var h = this.pull[r]; h && h.open && (-1 == h.$count ? e.loadBranch(r) : h.$count && this.$f(t, r, e)) } }, provideApi: function(t, i) { for (var e = ["getPrevSiblingId", "getNextSiblingId", "getParentId", "getFirstChildId", "isBranch", "getBranchIndex", "filterMode_setter"], s = 0; s < e.length; s++)t[e[s]] = this.ao(this, e[s]); t.getIndexById || pe.prototype.provideApi.call(this, t, i) }, getTopRange: function() { return D([].concat(this.branch[0])).map(function(t) { return this.getItem(t) }, this) }, eachChild: function(t, i, e, s) { var n = this.branch; s && this.qh && (n = this.qh); var r = n[t]; if (r) for (var h = 0; h < r.length; h++)r[h] && i.call(e || this, this.getItem(r[h])) }, each: function(e, s, n, t) { this.eachChild(t || 0, function(t) { var i = this.branch; e.call(s || this, t), n && this.qh && (i = this.qh), t && i[t.id] && this.each(e, s, n, t.id) }, this, n) }, eachOpen: function(i, e, t) { this.eachChild(t || 0, function(t) { i.call(e || this, t), this.branch[t.id] && t.open && this.eachOpen(i, e, t.id) }) }, eachSubItem: function(t, i) { var e = this.branch[t || 0]; if (e) for (var s = 0; s < e.length; s++) { var n = e[s]; this.branch[n] ? (i.call(this, this.getItem(n), !0), this.eachSubItem(n, i)) : i.call(this, this.getItem(n), !1) } }, eachLeaf: function(t, i) { var e = this.branch[t || 0]; if (e) for (var s = 0; s < e.length; s++) { var n = e[s]; this.branch[n] ? this.eachLeaf(n, i) : i.call(this, this.getItem(n), !1) } }, so: function(t, i) { for (var e in this.branch) { for (var s = this.branch[e], n = [], r = 0; r < s.length; r++)n.push(this.pull[s[r]]); n.sort(t); for (var h = 0; h < s.length; h++)n[h] = n[h].id; this.branch[e] = n } return i }, add: function(t, i, e) { var s = !1, n = this.getItem(e || 0); if (n && (this.branch[n.id] || (s = !0), n.$count++, n.$count || (n.$count = 1)), this.branch[e || 0] = this.order = D(this.branch[e || 0]), t.$count = t.webix_kids ? -1 : 0, t.$level = n ? n.$level + 1 : 1, t.$parent = n ? n.id : 0, this.qh) { var r = this.qh[e || 0]; if (r || (r = this.qh[e] = this.order), this.order !== r) { var h = r.length; !i && this.branch[e || 0].length && (h = 0), r = D(r), t.id = t.id || z(), r.insertAt(t.id, h) } } var o = pe.prototype.add.call(this, t, i); return s && this.refresh(e), o }, Df: function(t) { var i = this.pull[t]; if (this.branch[i.id] && 0 < this.branch[i.id].length) for (var e = this.branch[t], s = 0; s < e.length; s++)this.Df(e[s], !0); delete this.branch[t], this.qh && delete this.qh[t], delete this.pull[t], this.Fh[t] && delete this.Fh[t] }, If: function(t, i, e) { var s = t[i]; 1 == s.length && s[0] == e && i ? delete t[i] : D(s).remove(e) }, remove: function(t) { if ($(t)) for (var i = 0; i < t.length; i++)this.remove(t[i]); else { this.exists(t); var e = this.pull[t], s = e.$parent || 0; if (!1 === this.callEvent("onBeforeDelete", [t])) return !1; this.Df(t), this.callEvent("onAfterDelete", [t]); var n = this.pull[s]; this.If(this.branch, s, t), this.qh && this.If(this.qh, s, t); var r = 0; n && (n.$count--, n.$count <= 0 && (n.$count = 0, n.open = 0, r = 1)), this.callEvent("onStoreUpdated", [t, e, "delete"]), r && this.refresh(n.id) } }, getBranch: function(t) { var i = [], e = (this.qh || this.branch)[t]; if (e) for (var s = 0; s < e.length; s++)i[s] = this.pull[e[s]]; return i }, serialize: function(t, i) {
				var e = this.branch; i && this.qh && (e = this.qh); for (var s = e[t || 0], n = [],
					r = 0; r < s.length; r++) { var h, o = this.pull[s[r]]; if (this.gh) { if (!1 === (h = this.gh(o))) continue } else h = _(o); e[o.id] && (h.data = this.serialize(o.id, i)), n.push(h) } return n
			}
		}, vs = { insert: function(t) { for (var i = this.getSelectedId(!0, !0), e = 0; e < t.length; e++) { for (var s = {}, n = 0; n < this.P.columns.length; n++)s[this.P.columns[n].id] = t[e][n] || ""; !V(s.id) && this.exists(s.id) && (s.id = z()), this.add(s, null, i[0]) } } }, _s = { space: function(t) { for (var i = "", e = 1; e < t.$level; e++)i += "<div class='webix_tree_none'></div>"; return i }, icon: function(t) { return t.$count ? t.open ? "<div class='webix_tree_open'></div>" : "<div class='webix_tree_close'></div>" : "<div class='webix_tree_none'></div>" }, checkbox: function(t) { return t.nocheckbox ? "" : "<input type='checkbox' class='webix_tree_checkbox' " + (t.checked ? "checked" : "") + (t.disabled ? " disabled" : "") + ">" }, folder: function(t) { return t.icon ? "<div class='webix_tree_file webix_tree_" + t.icon + "'></div>" : t.$count ? t.open ? "<div class='webix_tree_folder_open'></div>" : "<div class='webix_tree_folder'></div>" : "<div class='webix_tree_file'></div>" } }, ps = { $render: function() { if (this.Af) this.Wi.firstChild.appendChild(this.Af); else { this.files.attachEvent("onBeforeDelete", this.Ff); var t = { type: "file", "class": "webix_hidden_upload", tabindex: -1 }; this.P.accept && (t.accept = this.P.accept), this.P.multiple && (t.multiple = "true"), this.P.directory && (t.webkitdirectory = "true", t.mozdirectory = "true", t.directory = "true"); var i = lt("input", t); this.Af = this.Wi.firstChild.appendChild(i), Zt(this.Vt, "drop", S(function(t) { this.$drop(t), wt(t) }, this)), Zt(i, "change", S(function() { if (this.Tf(i.files), G.isIE) { var t = document.createElement("form"); t.appendChild(this.Af), t.reset(), this.Wi.firstChild.appendChild(i) } else i.value = "" }, this)), Zt(this.Vt, "click", S(function() { 250 < new Date - (this.Vf || 0) && this.fileDialog() }, this)), Zt(this.Vt, "dragenter", wt), Zt(this.Vt, "dragexit", wt), Zt(this.Vt, "dragover", wt) } }, zf: function(t) { return t.isDirectory }, Bf: function(e, s, n) { if (e.isFile) e.file(function(t) { s.addFile(t, null, null, { name: n + "/" + t.name }) }); else if (e.isDirectory) { e.createReader().readEntries(function(t) { for (var i = 0; i < t.length; i++)s.Bf(t[i], s, (n ? n + "/" : "") + e.name) }) } }, $drop: function(t) { var i = t.dataTransfer.files, e = t.dataTransfer.items; if (i.length) { if (this.callEvent("onBeforeFileDrop", [i, t])) { e = e || i; for (var s = 0; s < e.length; s++) { var n = e[s]; n.webkitGetAsEntry && (n = n.webkitGetAsEntry()).isDirectory ? this.Bf(n, this, "") : this.addFile(i[s]) } } this.callEvent("onAfterFileDrop", [i, t]) } }, fileDialog: function(t) { this.Vf = new Date, this.Hf = t; var i = this.Vt.getElementsByTagName("INPUT"); i[i.length - 1].click() }, send: function(i) { if ("function" == typeof i && (this.Rf = i, i = 0), i) { var t = this.files.getItem(i); if ("client" !== t.status) return !1; this.P.upload, t.status = "transfer"; var e = new FormData; e.append(this.config.inputName, t.file, t.name), e.append(this.config.inputName + "_fullpath", t.name); var s = {}, n = this.P.formData || {}; "function" == typeof n && (n = n.call(this)); var r = T.extend(t.formData || {}, n), h = new XMLHttpRequest, o = this.Ef(t); if (y("onBeforeAjax", ["POST", o, r, h, s, e])) { for (var a in r) e.append(a, r[a]); for (var u in (t.xhr = h).upload.addEventListener("progress", S(function(t) { this.$updateProgress(i, t.loaded / t.total * 100) }, this), !1), h.onload = S(function() { h.aborted || this.Pf(i) }, this), h.open("POST", o, !0), s) h.setRequestHeader(u, s[u]); h.send(e) } return this.$updateProgress(i, 0), !0 } var c = this.files.data.order, f = !0; if (c.length) for (var l = 0; l < c.length; l++)f = !this.send(c[l]) && f; f && this.jf() }, Pf: function(t) { var i = this.files.getItem(t); if (i) { var e = null; if (i.xhr.status < 400) { var s = Bt[this.P.datatype || "json"]; (e = s.toObject(i.xhr.responseText)) && (e = s.getDetails(e)) } e && "error" != e.status ? (!e.status || e.status, this.Nf(t, e)) : (i.status = "error", delete i.percent, this.files.updateItem(t), this.callEvent("onFileUploadError", [i, e])), delete i.xhr } }, stopUpload: function(t) { S(this.Ff, this.files)(t) }, Ff: function(t) { var i = this.getItem(t); "undefined" != typeof i.xhr && (i.xhr.aborted = !0, i.xhr.abort(), delete i.xhr, i.status = "client") } }, bs = {
			Lf: function() {
				this.data.attachEvent("onStoreUpdated", S(function(t, i, e) { !t || "add" != e && "update" != e && "save" != e || this.validate(t) }, this)), this.data.attachEvent(
					"onClearAll", S(this.clearValidation, this)), this.Lf = function() { }
			}, rules_setter: function(t) { return t && this.Lf(), t }, clearValidation: function() { this.data.clearMark("webix_invalid", !0) }, validate: function(t) { var i = !0; if (t) { this.oh = {}; var e = this.getItem(t); (i = le.validate.call(this, null, e)) ? this.callEvent("onValidationSuccess", [t, e]) && this.hh(t) : this.callEvent("onValidationError", [t, e, this.oh]) && this.uh(t, this.oh) } else for (var s in this.data.pull) i = this.validate(s) && i; return i }, ah: function(t, i, e, s) { "string" == typeof t && (t = fe[t]); var n = t.call(this, i, e, s); return n || (this.oh[s] = !0), n }, hh: function(t) { this.data.removeMark(t, "webix_invalid", !0) }, uh: function(t) { this.data.addMark(t, "webix_invalid", !0) }
		}, ms = { $init: function() { this.elements = {} }, focus: function(t) { if (t) this.elements[t], this.wi(this.elements[t]); else for (var i in this.elements) if (!1 !== this.wi(this.elements[i])) return !0; return !1 }, wi: function(t) { return !(!t || !t.focus) && t.focus() }, setValues: function(t, i, e) { var s = this; this.P.complexData && (t = Et.collapseNames(t, "", {}, function(t) { return !s.elements[t] })), this.Of(t, i, e) }, Of: function(t, i, e) { for (var s in this.Wf = i, this.blockEvent(), i && this.Uf || (this.Uf = {}), t) this.elements[s] || (this.Uf[s] = t[s]); for (var n in this.elements) { var r = this.elements[n]; r && (V(t[n]) ? !i && r.$allowsClear && r.setValue("", e) : r.setValue(t[n], e), this.Uf[n] = r.getValue()) } this.unblockEvent(), this.callEvent("onValues", []) }, isDirty: function() { return !!this.Wf || !0 === this.getDirtyValues(!0) }, setDirty: function(t) { (this.Wf = t) || (this.Uf = this.Yf()) }, getDirtyValues: function() { var t = {}; if (this.Uf) for (var i in this.elements) { var e = this.elements[i], s = e.getValue(), n = this.Uf[i]; if ((e.$compareValue ? !e.$compareValue(n, s) : n != s) && (t[i] = s, arguments[0])) return !0 } return t }, getCleanValues: function() { return this.Uf }, getValues: function(t) { var i = this.Yf(t); return this.P.complexData && (i = Et.expandNames(i)), i }, Yf: function(t) { var i, e = null, s = this.Uf ? _(this.Uf) : {}; for (var n in this.elements) e = this.elements[n], i = !0, t && ("object" == M(t) ? (!1 === t.hidden && (i = e.isVisible()), i && !1 === t.disabled && (i = e.isEnabled())) : i = t.call(this, e)), i ? s[n] = e.getValue() : delete s[n]; return s }, clear: function(t) { this.Wf = !1; var i = {}; for (var e in this.elements) this.elements[e].$allowsClear && (i[e] = ""); this.Of(i, !1, t) }, markInvalid: function(t, i) { if (!1 === i) this.hh(t); else { if ("string" == typeof i) { var e = this.elements[t]; e && (e.P.invalidMessage = i) } this.oh && (this.oh[t] = !0), this.uh(t) } }, uh: function(t) { var i = this.elements[t]; t && i && (this.hh(t, !0), Mt(i.Vt, "webix_invalid"), i.P.invalid = !0, "string" == typeof i.P.invalidMessage && i.setBottomText && i.setBottomText()) }, hh: function(t, i) { var e = this.elements[t]; t && e && e.$view && e.P.invalid && (St(e.Vt, "webix_invalid"), e.P.invalid = !1, "string" == typeof e.P.invalidMessage && !i && e.setBottomText && e.setBottomText()) } }, gs = {
			$init: function() { this.render, this.Ni = {}, Zt(this.Vt, "scroll", S(this.qf, this)), this.Gf = [] }, getItemNode: function(t) { return this.Ni[t] }, showItem: function(t) { var i = this.fr(), e = this.data.getIndexById(t), s = Math.floor(e / i.cr) * i.$s, n = this.getScrollState(); (s < n.y || s + this.P.height >= n.y + this.xe) && this.scrollTo(0, s) }, render: function(t, i, e) { if (this.isVisible(this.P.id) && !this.$blockRender) if (t) { var s = this.getItemNode(t); switch (e) { case "update": if (!s) return; _t(this.Ni[t] = this.xc(i), s), vt(s); break; default: this.Xf() } } else this.callEvent("onBeforeRender", [this.data]) && (this.Ni = {}, this.qf(null, !0), this.Kf = !1, this.callEvent("onAfterRender", [])) }, Xf: function() { this.Kf || (this.Kf = !0, window.setTimeout(S(function() { this.render() }, this), 1)) }, Jf: function(t) { G.maxHTMLElementSize && (t = Math.min(G.maxHTMLElementSize, t)); var i = document.createElement("DIV"); return i.style.cssText = "height:" + t + "px; width:100%; overflow:hidden;", i }, qf: function(t, i) {
				this.Gf = []; var e = this.fr(); this.tt.firstChild && !i || (this.tt.innerHTML = "", this.tt.appendChild(this.Jf(e.Zf)), this.Li = [this.tt.firstChild]); for (var s = e.Qf; s <= e.tl;) {
					for (; this.Li[s] && this.Li[s].il && s <= e.tl;)s++; if (s > e.tl) break; for (var n = s; !this.Li[n];)n--; var r = this.Li[n], h = s * e.cr + (this.data.$min || 0); if (h > (this.data.$max || Infinity)) break; var o = Math.min(h + e.cr - 1, this.data.$max ? this.data.$max - 1 : Infinity),
						a = this.Jf(e.$s), u = this.data.getIndexRange(h, o); if (!u.length) break; for (var c = { $template: "Loading" }, f = 0; f < u.length; f++)u[f] || this.Gf.push(h + f), u[f] = this.Q(u[f] || c); a.innerHTML = u.join(""); for (var l = 0; l < u.length; l++)this.Ni[this.data.getIdByIndex(h + l)] = a.childNodes[l]; var d = parseFloat(r.style.height, 10), v = (s - n) * e.$s, _ = d - v - e.$s; if (_t(a, v ? r.nextSibling : r, this.tt), (this.Li[s] = a).il = !0, v <= 0 && 0 < _) r.style.height = _ + "px", this.Li[s + 1] = r; else if (v < 0 ? vt(r) : r.style.height = v + "px", 0 < _) _t(this.Li[s + 1] = this.Jf(_), a.nextSibling, this.tt); s++
				} if (this.Gf.length) { var p = this.Gf[0], b = this.Gf.pop() + 1; if (p < b) { var m = b - p; if (this.xo(m, p)) return; m = Math.max(m, this.P.datafetch || this.P.loadahead || 0), this.loadNext(m, p) } }
			}, fr: function() { var t = this.getScrollState(), i = Math.max(0, t.y), e = this.el || 0, s = this.ge - e, n = this.xe - e / 2, r = this.type, h = Math.floor(s / r.width) || 1, o = Math.floor(i / r.height), a = Math.ceil((n + i) / r.height) - 1, u = this.data.$max ? this.data.$max - this.data.$min : this.data.count(); return { Qf: o, tl: a, sl: i, Zf: Math.ceil(u / h) * r.height, $s: r.height, cr: h } }, at: function(t) { var i = this.getItemNode(t); return i || (this.showItem(t), this.qf(), i = this.getItemNode(t)), { left: i.offsetLeft, top: i.offsetTop, height: i.offsetHeight, width: i.offsetWidth, parent: this.Wi } }
		}, ws = { $init: function() { this.Ni = {}, Zt(this.Vt, "scroll", S(function() { this.render(null, null, "paint") }, this)) }, xs: function(t, i, e) { this.P.footer && qi.gs(this.nl.childNodes[1].firstChild, t, 0, e), this.callEvent("onSyncScroll", [t, i, e]) }, getItemNode: function(t) { return this.Ni && this.Ni[t] }, showItem: function(t) { var i = this.data.getIndexById(t); if (-1 < i) { var e = i * this.type.height, s = e + this.type.height, n = this.getScrollState(), r = bt(this.$view); e < n.y ? this.scrollTo(0, e) : s > n.y + r.height && this.scrollTo(0, s - r.height) } }, render: function(t, i, e) { if (this.isVisible(this.P.id) && !this.$blockRender) { var s = this.Mc || this.tt; if (!t || "paint" != e && "update" != e) { if ("paint" != e && (this.Ni = {}, s.innerHTML = ""), this.callEvent("onBeforeRender", [this.data])) { var n = this.data.count(), r = this.getScrollState(), h = bt(this.Vt), o = Math.floor(r.y / this.type.height) - 2, a = Math.ceil((r.y + h.height) / this.type.height) + 2; o = Math.max(0, o), a = Math.min(this.data.count() - 1, a); for (var u = [], c = o; c <= a; c++) { var f = this.data.order[c]; if (this.Ni[f]) u.push("<div></div>"); else { var l = this.data.getItem(f); if (!l) { this.rl({ count: a - c + (this.P.loadahead || 0), start: c }); break } u.push(this.Q(l)) } } this.Oi.innerHTML = u.join(""), s.style.position = "relative", s.style.height = n * this.type.height + "px"; for (var d = this.Oi.childNodes, v = d.length - 1; 0 <= v; v--) { var _ = d[v], p = _.getAttribute(this.ea); p && (_.style.position = "absolute", _.style.top = (o + v) * this.type.height + "px", _.style.left = 0, _.style.width = "100%", s.appendChild(_), this.Ni[p] = _) } this.callEvent("onAfterRender", []) } } else { var b = this.getItemNode(t); if (b) { var m = this.Ni[t] = this.xc(i); return m.style.top = b.style.top, m.style.position = "absolute", m.style.left = 0, m.style.width = "100%", _t(m, b), void vt(b) } } } }, $setSize: function() { Ri.api.$setSize.apply(this, arguments) && this.render(null, null, "paint") }, rl: function(t) { var i = Math.max(t.count, this.P.datafetch || this.P.loadahead || 0); this.xo(t.count, t.start) || this.loadNext(i, t.start) } }, xs = "non-existing view for export"; function ys(i, e, t) { return !t && e.format ? function(t) { return e.format(t[i]) } : function(t) { return t[i] } } function Ms(t, i) { var e = i.text; if (i.contentId) { var s = t.getHeaderContent(i.contentId); s && !s.type.$icon && (e = s.getValue(!0)) } return (e || "").toString().replace(/<[^>]*>/gi, "") } function Ss(t, i, e) { return e[t] && e[t][i] ? e[t][i] : {} } function ks(t, o) {
			var i, e = [], s = 0, n = 0, r = t.getColumnConfig, a = o.columns, h = !!o.rawValues, u = "TreeStore" == t.data.name, c = o.treeLines; if ((!0 === c || V(c)) && (c = "value"), e.heights = {}, o.hidden && (e.hiddenCols = {}, e.hiddenRows = {}), a) { if (!a.length) { var f = []; for (var l in a) f.push(T.extend({ id: l }, T.extend({}, a[l]))); a = f } } else if (a = [], r) { var d = t.So; if (o.hidden && d.length) for (var v = 0; v < d.length; v++) { var _ = t.getColumnConfig(d[v]); t.isColumnVisible(_.id) || (e.hiddenCols[_.id] = 1), a.push(_) } else a = a.concat(t.hl) } else { var p = t.data.pull[t.data.order[0]]; for (var b in p) "id" !== b && "$" != b[0] && a.push({ id: b, isTree: u && b === c }) } if (o.ignore) for (var m = a.length - 1; 0 <= m; m--
			)o.ignore[a[m].id] && a.splice(m, 1); o.id && e.push({ id: "id", width: 50, header: " ", template: function(t) { return t.id } }), o.flatTree && function() { for (var e = o.flatTree.id, t = [].concat(o.flatTree.columns), s = [], n = !!o.flatTree.fill, i = 1; i <= t.length; i++)t[i - 1].template = function(i) { return function(t) { return t.$level == i ? s[i] = t[e] : n && i < t.$level ? s[i] : "" } }(i); for (var r = 0, h = a.length - 1; 0 <= h; h--)a[h].id === e && (r = h); a = [].concat(a.slice(0, r)).concat(t).concat(a.slice(r + 1)) }(); for (var g = 0; g < a.length; g++) { var w = a[g], x = w.id; if (!w.noExport) { var y = h && r; if (r) { var M = t.getColumnConfig(x); !w.template || M && M.template == w.template || (y = !1), M && (w = T.extend(T.extend({}, w), M)) } var S = { id: w.id, template: y || !w.template ? ys(x, w, h) : w.template, width: (w.width || 200) * ("excel" === o.export_mode ? 8.43 / 70 : 1), header: !1 !== w.header ? w.header || x : "" }; u && x === c && (S.isTree = i = !0), "excel" === o.export_mode && T.extend(S, { type: w.exportType || "", format: w.exportFormat || "" }), "string" == typeof S.header ? S.header = [{ text: S.header }] : S.header = [].concat(S.header); for (var k = 0; k < S.header.length; k++)S.header[k] = S.header[k] ? Ms(t, S.header[k]) : ""; if (s = Math.max(s, S.header.length), t.config.footer) { var C = w.footer || ""; C = "string" == typeof C ? [{ text: C }] : [].concat(C); for (var $ = 0; $ < C.length; $++)C[$] = C[$] ? Ms(t, C[$]) : ""; S.footer = C, n = Math.max(n, S.footer.length) } e.push(S) } } !i && u && o.treeLines != c && e[0] && (e[0].isTree = !0); for (var D = 0; D < e.length; D++) { for (var I = s - e[D].header.length, A = 0; A < I; A++)e[D].header.push(""); if (t.config.footer) { I = n - e[D].footer.length; for (var F = 0; F < I; F++)e[D].footer.push("") } } return e
		} function Cs(t, i) { return t && (t = t.replace(/[/?\\<>:*|"]/g, "").substring(0, 150)), "".concat(t || "Data", ".").concat(i) } function $s(a, u, c) { var t, i, f = !!u.filterHTML, l = /<[^>]*>/gi, d = [], v = u.export_mode; if ("excel" !== v && "csv" != v || !u.docHeader || (d = [[(u.docHeader.text || u.docHeader).toString()], [""]], "excel" === v && u.docHeader.height && (c.heights[0] = u.docHeader.height)), !1 !== u.header && c.length) for (var e = 0; e < c[0].header.length; e++) { i = []; for (var s = 0; s < c.length; s++)t = "", c[s].header[e] && (t = c[s].header[e], f && (t = c[s].header[e] = t.replace(l, ""))), i.push(t); "excel" != v || !a.hl || !1 === u.heights || a.ol[e] === Oi.barHeight && "all" != u.heights || (c.heights[d.length] = a.ol[e]), "pdf" !== v && (d[d.length] = i) } u.yCorrection = (u.yCorrection || 0) - d.length; var _ = u.flatTree || u.plainOutput ? "" : "-"; if (a.data.each(function(t, i) { if (!u.filter || u.filter(t)) { this.data.Uh && (t = a.data.Uh(t)); for (var e = [], s = 0; s < c.length; s++) { var n = c[s], r = null; if (a.$getExportValue ? r = a.$getExportValue(t.id, n.id, u) : u.math && t["$" + n.id] && "=" == t["$" + n.id].charAt(0) && (r = t["$" + n.id]), this.al) { var h = this.getSpan(t.id, n.id); h && h[4] && h[0] == t.id && h[1] == n.id && (r = h[4], f && "string" == typeof r && (r = r.replace(l, ""))) } r || ((r = n.template(t, a.type, t[n.id], n, s)) || 0 === r || (r = ""), n.isTree && _ && (r = " " + Array(t.$level).join(_) + " " + r), f && "string" == typeof r && (r = r.replace(l, "")), "string" == typeof r && "csv" === v && (r = r.trim()), "string" != typeof r || "excel" !== v && "csv" !== v || (r = r.replace(/<br\s*\/?>/gm, "\n"))), e.push(r) } if ("excel" == v && a.hl && !1 !== u.heights && (t.$height && t.$height !== Oi.rowHeight || "all" == u.heights) && (c.heights[d.length] = t.$height || this.config.rowHeight), c.hiddenRows && a.data.Th && -1 == a.getIndexById(t.id)) { var o = (u.docHeader ? 2 : 0) + (!1 === u.header ? 0 : c[0].header.length); c.hiddenRows[o + i] = 1 } d.push(e) } }, a, u.hidden), !1 !== u.footer) for (var n = c[0].footer ? c[0].footer.length : 0, r = 0; r < n; r++) { for (var h = [], o = 0; o < c.length; o++) { var p = c[o].footer[r]; f && (p = c[o].footer[r] = p.toString().replace(l, "")), h.push(p) } "excel" != v || !a.hl || !1 === u.heights || a.ul[r] === Oi.barHeight && "all" != u.heights || (c.heights[d.length] = a.ul[r]), "pdf" !== v && d.push(h) } return "excel" === v && u.docFooter && (d = d.concat([[], [(u.docFooter.text || u.docFooter).toString()]]), u.docFooter.height && (c.heights[d.length - 1] = u.docFooter.height)), d } var Ds = {}, Is = function(t, n) {
			(n = n || {}).export_mode = "pdf", n.fontName = n.fontName || "pt-sans.regular", n.boldFontName = n.boldFontName || "pt-sans.bold", t = $(t) ? t : [t]; for (var r = [], i = 0; i < t.length; i++) {
				t[i].id || (t[i] = { id: t[i] }); var e = ai(t[i].id); if (e) {
					var s = T.extend(t[i].options || {}, n), h = s.display || "table"; if ("image" == s.display && delete s.styles, e.$exportView && (e = e.$exportView(s)), $(e)) r = r.concat(e
					), n.autowidth && zs(s, n); else { if (("table" == h || "all" == h) && e.data && e.data.pull) { var o = ks(e, s); r.push({ scheme: o, exportData: $s(e, s, o), viewOptions: s }), n.autowidth && zs(e, n, o) } if ("image" == h || "all" == h) { var a = s.It ? Hs(e.$view) : e.$view; r.push({ node: a, viewOptions: s }), n.autowidth && zs(e, n) } }
				}
			} return n.dataOnly ? r : Vt([G.cdn + "/extras/pdfjs.js", G.cdn + "/extras/html2canvas-1.0.min.js"]).then(function() { if (0 == r.length) return b.reject(xs); if (Ds[n.fontName] && Ds[n.boldFontName]) return n.cl = Ds[n.fontName], n.fl = Ds[n.boldFontName], Fs(r, n).then(function(t) { return As(t, n) }); var s = b.defer(); return pdfjs.load(n.fontURL || G.cdn + "/extras/" + n.fontName + ".ttf", function(t, e) { if (t) return s.reject(t); pdfjs.load(n.boldFontURL || G.cdn + "/extras/" + n.boldFontName + ".ttf", function(t, i) { n.cl = Ds[n.fontName] = new pdfjs.TTFFont(e), n.fl = Ds[n.boldFontName] = t ? null : new pdfjs.TTFFont(i), s.resolve(Fs(r, n).then(function(t) { return As(t, n) })) }) }), s })
		}; function As(t, i) { var e = Cs(i.filename, "pdf"), s = new Blob([t.toString()], { type: "application/pdf" }); return !1 !== i.download && Ct(s, e), s } function Fs(s, n) { for (var r = function o(t) { var i = t.width || 595.296, e = t.height || 841.896; t.orientation && "landscape" === t.orientation && (e = [i, i = e][0]); return new pdfjs.Document({ padding: 40, font: t.cl, threshold: 256, width: i, height: e }) }(n), h = [], t = 0; t < s.length; t++)s[t].node ? h.push(Vs(s[t].node)) : h.push(b.resolve()); return b.all(h).then(function(t) { for (var i = 0; i < h.length; i++) { var e = s[i].viewOptions; e.textBefore && Ts(r, "before", e.textBefore), t[i] ? r.image(t[i], { align: "center" }) : (e.fl = n.fl, Bs(s[i], r)), e.textAfter && Ts(r, "after", e.textAfter), i != s.length - 1 && r.pageBreak() } return function o(s, n) { if (!1 !== n.docFooter) { var t = s.footer(); t.text({ color: 6710886, textAlign: "center" }).append(A.dataExport.page || "Page").pageNumber().append("  " + (A.dataExport.of || "of") + "  ").pageCount() } var r = { text: 0, image: 1 }; n.docHeader && ("string" == typeof n.docHeader && (n.docHeader = { text: n.docHeader }), T.extend(n.docHeader, { color: 6710886, textAlign: "right", order: 0 }), r.text = n.docHeader.order); n.docHeaderImage && ("string" == typeof n.docHeaderImage && (n.docHeaderImage = { url: n.docHeaderImage }), T.extend(n.docHeaderImage, { align: "right", order: 1 }), r.image = n.docHeaderImage.order); n.docHeader && r.image > r.text && s.header({ paddingBottom: 10 }).text(n.docHeader.text, n.docHeader); { if (n.docHeaderImage) { var h = b.defer(); return pdfjs.load(n.docHeaderImage.url, function(t, i) { if (!t) { var e = new pdfjs.Image(i); s.header({ paddingBottom: 10 }).image(e, n.docHeaderImage), n.docHeader && r.image < r.text && s.header({ paddingBottom: 10 }).text(n.docHeader.text, n.docHeader) } h.resolve(s.render()) }), h } return b.resolve(s.render()) } }(r, n) }) } function Ts(t, i, e) { "after" == i && t.text().br(), "string" == typeof e && (e = { text: e }), t.text(e.text, e.options || {}), "before" == i && t.text().br() } function Vs(t) { var i = !document.body.contains(t); return i && (document.body.appendChild(t), t.style.position = "absolute", t.style.left = "-9999px"), window.html2canvas(t, { background: "#fff", logging: !1, useCORS: !0 }).then(function(t) { for (var i = t.toDataURL("image/jpeg"), e = window.atob(i.split("base64,")[1]), s = e.length, n = new Uint8Array(s), r = 0; r < s; r++)n[r] = e.charCodeAt(r); return new pdfjs.Image(n.buffer) })["finally"](function() { i && document.body.removeChild(t) }) } function zs(t, i, e) { var s, n = i.orientation && "landscape" == i.orientation ? "height" : "width"; if (e) { s = 80; for (var r = 0; r < e.length; r++)s += e[r].width } else s = t.$width ? t.$width : t[n]; i[n] = Math.max(i[n] || 0, s || 0) } function Bs(t, i) {
			var e = t.scheme, s = t.exportData, n = t.viewOptions, r = t.styles; n.header = V(n.header) || !0 === n.header ? {} : n.header, n.footer = V(n.footer) || !0 === n.footer ? {} : n.footer, n.table = n.table || {}; for (var h = !1 === n.header ? 0 : e[0].header.length, o = !1 !== n.footer && e[0].footer ? e[0].footer.length : 0, a = [], u = 0; u < e.length; u++)a[u] = e[u].width; var c = T.extend(n.table, { borderWidth: 1, height: 20, lineHeight: 1.1, borderColor: 15658734, backgroundColor: 16777215, color: 6710886, textAlign: "left", paddingRight: 10, paddingLeft: 10, headerRows: h, widths: a.length ? a : ["100%"] }), f = i.table(c), l = n.fl; if (h) for (var d = T.extend(n.header, { borderRightColor: 11587299, borderBottomColor: 11587299, color: 4868682, backgroundColor: 13820911, height: 27, lineHeight: 1.2 }), v = 0; v < h; v++)for (
				var _ = f.tr(d), p = 0; p < e.length; p++) { var b = r ? Ss(v, p, r) : {}; l && b.bold && (b.font = l), _.td(e[p].header[v].toString(), b) } for (var m = 0; m < s.length; m++)for (var g = f.tr({}), w = 0; w < s[m].length; w++) { var x = r ? Ss(m + h, w, r) : {}; l && x.bold && (x.font = l), g.td(s[m][w], x) } if (o) for (var y = T.extend(n.footer, { borderRightColor: 15658734, borderBottomColor: 15658734, backgroundColor: 16448250, color: 6710886, height: 27, lineHeight: 1.2 }), M = 0; M < o; M++)for (var S = h + s.length, k = f.tr(y), C = 0; C < e.length; C++) { var $ = r ? Ss(M + S, C, r) : {}; l && $.bold && ($.font = l), k.td(e[C].footer[M].toString(), $) }
		} function Hs(t) { var i = t.cloneNode(!1); if (t.tagName) { var e = window.getComputedStyle(t); i.style.cssText = e.cssText } for (var s = 0; s < t.childNodes.length; s++)i.appendChild(Hs(t.childNodes[s])); return i } var Rs = function(t, v) { (v = v || {}).export_mode = "excel", t = $(t) ? t : [t]; for (var _ = [], i = 0; i < t.length; i++) { t[i].id || (t[i] = { id: t[i] }); var e = ai(t[i].id), s = T.extend(t[i].options || {}, v); if (e && e.$exportView && (e = e.$exportView(s)), $(e)) _ = _.concat(e); else if (e.data && e.data.pull) { var n = ks(e, s); _.push({ scheme: n, exportData: $s(e, s, n), spans: s.spans ? Ns(e, s) : [], viewOptions: s }) } } if (v.dataOnly) return _; var p = b.defer(); return Vt(G.cdn + "/extras/xlsx.core.styles.min.js").then(function() { if (!_.length) return p.reject(xs); for (var t = { SheetNames: [], Sheets: {}, Workbook: { WBProps: {}, Names: [] } }, i = 0; i < _.length; i++) { for (var e = _[i].viewOptions, s = _[i].scheme, n = _[i].exportData, r = _[i].spans, h = _[i].ranges || [], o = js(n, s, r, _[i].styles || [], e), a = (e.name || "Data" + (i + 1)).replace(/[*?:[\]\\/]/g, "").replace(/&/g, "&amp;").substring(0, 31), u = i; -1 != t.SheetNames.indexOf(a);)a = "Data" + ++u; t.SheetNames.push(a), t.Sheets[a] = o, t.Workbook.Names = t.Workbook.Names.concat(h) } var c = XLSX.write(t, { bookType: "xlsx", bookSST: !1, type: "binary" }), f = Cs(v.filename, "xlsx"), l = new Blob([function d(t) { for (var i = new ArrayBuffer(t.length), e = new Uint8Array(i), s = 0; s != t.length; ++s)e[s] = 255 & t.charCodeAt(s); return i }(c)], { type: "application/xlsx" }); return !1 !== v.download && Ct(l, f), p.resolve(l), p }) }; var Es = { number: "n", date: "n", string: "s", "boolean": "b" }, Ps = "_table"; function js(t, i, e, s, n) { for (var r, h = {}, o = { s: { c: 1e7, r: 1e7 }, e: { c: 0, r: 0 } }, a = 0; a != t.length; ++a)for (var u = 0; u != t[a].length; ++u) { o.s.r > a && (o.s.r = a), o.s.c > u && (o.s.c = u), o.e.r < a && (o.e.r = a), o.e.c < u && (o.e.c = u); var c = { v: t[a][u] }; if (null !== c.v) { var f = XLSX.utils.encode_cell({ c: u, r: a }), l = c.v.toString(), d = "=" === l.charAt(0); if (s) { var v = Ss(a, u, s); v.format && (c.z = v.format, delete v.format), v.type && (c.t = Es[v.type], delete v.type), c.s = v } if ((n.docHeader ? 2 : 0) + i[0].header.length <= a && !d) { var _ = i[u]; _.type && !c.t && (c.t = Es[_.type] || ""), _.format && !c.z && (c.z = _.format) } c.v instanceof Date ? (c.t = c.t || "n", c.z = c.z || XLSX.SSF[Ps][14], c.v = (r = c.v, void 0, (25569 + (r.getTime() - 60 * r.getTimezoneOffset() * 1e3) / 864e5).toString().substr(0, 20))) : d ? (c.t = c.t || "n", c.f = c.v.substring(1), delete c.v) : c.t || ("boolean" == typeof c.v ? c.t = "b" : "number" == typeof c.v || parseFloat(c.v) == c.v ? (c.v = 1 * c.v, c.t = "n") : (c.v = l, c.t = "s")), h[f] = c } } return o.s.c < 1e7 && (h["!ref"] = XLSX.utils.encode_range(o)), h["!rows"] = function p(t) { var i = t.heights; for (var e in i) i[e] = { hpx: i[e], hpt: .75 * i[e] }; var s = t.hiddenRows; if (s) for (var n in s) i[n] || (i[n] = {}), i[n].hidden = 1; return i }(i), h["!cols"] = function b(t) { for (var i = [], e = 0; e < t.length; e++) { var s = t[e]; i.push({ wch: s.width, hidden: t.hiddenCols ? t.hiddenCols[s.id] : 0 }) } return i }(i), e.length && (h["!merges"] = e), h } function Ns(t, i) { var e = t.getColumnConfig, s = t.al, n = []; if (e) { if (!1 !== i.header && (n = Ls(t, i, "header", n)), s) { var r = i.xCorrection || 0, h = i.yCorrection || 0; for (var o in s) { var a = s[o]; for (var u in a) { var c = t.getColumnIndex(u), f = t.getItem(o).id, l = t.getIndexById(f); if (i.hidden) { var d = t.So; if (d.length) { var v = t.getColumnConfig(u).id; c = d.indexOf(v) } var _ = t.data.Th; _ && _.length && (l = _.indexOf(f)) } var p = c - r, b = l - h; if (!(p < 0 || b < 0)) { var m = p + a[u][0] - 1, g = b + (a[u][1] - 1); n.push({ s: { c: p, r: b }, e: { c: m, r: g } }) } } } } !1 !== i.footer && (n = Ls(t, i, "footer", n)) } return n } function Ls(t, i, e, s) {
			for (var n = t.config.columns, r = (i.docHeader ? 2 : 0) + ("header" == e ? 0 : (!1 !== i.header ? t.ol.length : 0) + t.count()), h = 0; h < n.length; h++)for (var o = n[h][e], a = 0; a < o.length; a++)o[a] && (o[a].colspan || o[a].rowspan) && s.push({
				s: { c: h, r: a + r }, e: {
					c: h + (o[a].colspan || 1) - 1, r: a + (
						o[a].rowspan || 1) - 1 + r
				}
			}); return s
		} function Os(t, i) { if (-1 != t.type.indexOf("prompt")) if (!1 === i) t.dh.reject(); else { var e = t.ll.querySelector(".webix_popup_input"), s = e.querySelector("input"); if (t.input.required && !s.value) return t.input.invalid = !0, void Mt(e, "webix_popup_invalid"); i = s.value || "", t.dh.resolve(i) } -1 != t.type.indexOf("confirm") && !1 === i ? t.dh.reject() : t.dh.resolve(i); var n = t.callback; n && n(i, t.details), en.hide(t.id) } function Ws(t) { var i = en.order.length; if (0 < i && sn.keyboard) { var e = (t = t || window.event).which || t.keyCode, s = en.pull[en.order[i - 1]], n = -1 != s.type.indexOf("prompt"); return (13 == e || 32 == e && !n) && Os(s, !0), 27 == e && Os(s, !1), n || wt(t), !(t.cancelBubble = !0) } } function Us(t, i) { var e, s = i || document.body; if (V(s.modality)) { if ((e = lt("DIV", { "class": "webix_modal_cover", style: "position:" + (i ? "absolute" : "fixed") + ";" })).onkeydown = Ws, i) { var n = window.getComputedStyle(i).position; "fixed" != n && "absolute" != n && "sticky" != n && "relative" != n && (s.style.position = "relative") } s.appendChild(e), s.modality = 1 } else t ? s.modality++ : s.modality--; return (t && 1 === s.modality || 0 === s.modality) && (e = e || Array.from(s.querySelectorAll(".webix_modal_cover")).find(function(t) { return t.parentNode == s })) && (s.modality ? 1 == s.modality && (e.style.display = "inline-block", Mt(s, "webix_modalbox_inside")) : (e.style.display = "none", St(s, "webix_modalbox_inside"))), e } function Ys(t, i, e) { return "<div role='button' tabindex='0' aria-label='" + t + "' class='webix_popup_button" + (e ? " " + e : "") + "' result='" + i + "' ><div>" + t + "</div></div>" } function qs(s, t, i, e) { var n = document.createElement("DIV"), r = s.css ? " " + s.css : ""; n.className = "webix_modal_box webix_" + s.type + r, n.setAttribute("webixbox", 1), n.setAttribute("role", "alertdialog"), n.setAttribute("aria-label", s.title || ""), n.setAttribute("tabindex", "0"); var h = ""; if (s.width && (n.style.width = s.width + (fe.isNumber(s.width) ? "px" : "")), s.height && (n.style.height = s.height + (fe.isNumber(s.height) ? "px" : "")), s.title && (h += '<div class="webix_popup_title">' + s.title + "</div>"), h += '<div class="webix_popup_text' + (e ? " webix_popup_label" : "") + '"><span>' + (s.content ? "" : s.text || "") + "</span></div>", h += '<div  class="webix_popup_controls">', e && (h += function c(t) { return "<div tabindex='0' class='webix_popup_input webix_el_text" + (t.required ? " webix_required" : "") + "'><input value='" + qt.escape(t.value || "") + "' placeholder='" + qt.escape(t.placeholder || "") + "'></input></div>" }(s.input)), i && (h += Ys(s.cancel || A.message.cancel, !1)), t && (h += Ys(s.ok || A.message.ok, !0, "confirm")), s.buttons && !t && !i) for (var o = 0; o < s.buttons.length; o++)h += Ys(s.buttons[o], o); if (h += "</div>", n.innerHTML = h, s.content) { var a = s.content; "string" == typeof a && (a = document.getElementById(a)), "none" == a.style.display && (a.style.display = ""), n.childNodes[s.title ? 1 : 0].appendChild(a) } if (-1 != s.type.indexOf("prompt")) { var u = n.querySelector(".webix_popup_input"); u.querySelector("input").oninput = function() { s.input.invalid && (St(u, "webix_popup_invalid"), s.input.invalid = !1) } } return n.onclick = function(t) { var i = (t = t || window.event).target; if (i.className || (i = i.parentNode), -1 != i.className.indexOf("webix_popup_button")) { var e = i.getAttribute("result"); Os(s, e = "true" == e || "false" != e && e) } t.cancelBubble = !0 }, s.ll = n } function Gs(t, i, e, s) { var n = t.tagName ? t : qs(t, i, e, s), r = t.container, h = r ? r.offsetWidth : window.innerWidth || document.documentElement.offsetWidth, o = r ? r.offsetHeight : window.innerHeight || document.documentElement.offsetHeight, a = r ? r.scrollLeft : 0, u = r ? r.scrollTop : 0; t.container && (n.style.position = "absolute"), C((t.container || document.body).appendChild(n)); var c = Us(!0, t.container), f = t.left || Math.abs(a + Math.floor((h - n.offsetWidth) / 2)), l = t.top || Math.abs(u + Math.floor((o - n.offsetHeight) / 2)); return "top" == t.position ? n.style.top = "-3px" : (n.style.top = l + "px", c && (c.style.top = u + "px", c.style.left = a + "px")), n.style.left = f + "px", n.onkeydown = Ws, n.focus(), t.id ? en.pull[t.id] && en.hide(t.id) : t.id = ci("modalbox"), en.order.push(t.id), (en.pull[t.id] = t).dh = b.defer(), t.dh } function Xs(t) { return Gs(t, !0) } function Ks(t) { return Gs(t, !0, !0) } function Js(t) { return Gs(t) } function Zs(t) { return Gs(t, !0, !0, !0) } function Qs(t, i, e) { return "object" != M(t) && ("function" == typeof i && (e = i, i = ""), t = { text: t, type: i, callback: e }), t }
	function tn() { var t = Qs.apply(this, arguments); return t.type = t.type || "confirm", Ks(t) } function en() { var t = Qs.apply(this, arguments); return t.type = t.type || "alert", Js(t) } function sn(t, i, e, s) { switch ((t = function n(t, i, e, s) { return "object" != M(t) && (t = { text: t, type: i, expire: e, id: s }), t.id = t.id || ci("message"), t.expire = t.expire || nn.expire, t }.apply(this, arguments)).type = t.type || "info", t.type.split("-")[0]) { case "alert": return Xs(t); case "confirm": return Ks(t); case "modalbox": return Js(t); case "prompt": return Zs(t); default: return function r(t) { nn.area || (nn.area = document.createElement("DIV"), nn.area.className = "webix_message_area", nn.area.style[nn.position] = "5px", document.body.appendChild(nn.area)), nn.area.setAttribute("role", "alert"), nn.area.setAttribute("aria-atomic", !0), nn.hide(t.id); var i = document.createElement("DIV"); return i.innerHTML = "<div>" + t.text + "</div>", i.className = "webix_message webix_" + t.type, i.onclick = function() { t && nn.hide(t.id), t = null }, "bottom" == nn.position && nn.area.firstChild ? nn.area.insertBefore(i, nn.area.firstChild) : nn.area.appendChild(i), 0 < t.expire && (nn.timers[t.id] = window.setTimeout(function() { nn.hide(t.id) }, t.expire)), i.style.height = i.offsetHeight - 2 + "px", nn.pull[t.id] = i, i = null, t.id }(t) } } Qt(document, "keydown", Ws, { capture: !0 }), en.pull = {}, en.order = [], en.hide = function(t) { if (t && en.pull[t]) { var i = en.pull[t].ll; i && (i.parentNode.removeChild(i), en.order.splice(en.order.indexOf(t), 1), Us(!1, en.pull[t].container), delete en.pull[t]) } }, en.hideAll = function() { for (var t in en.pull) this.hide(t) }; var nn = sn; nn.expire = 4e3, nn.keyboard = !0, nn.position = "top", nn.pull = {}, nn.timers = {}, nn.hideAll = function() { for (var t in nn.pull) nn.hide(t) }, nn.hide = function(t) { var i = nn.pull[t]; i && i.parentNode && (window.setTimeout(function() { i.parentNode.removeChild(i), i = null }, 2e3), i.style.height = 0, i.className += " hidden", nn.area.removeAttribute("role"), nn.timers[t] && window.clearTimeout(nn.timers[t]), delete nn.pull[t]) }, t("message", sn); window.atob && new Date > new Date(2021, 5, 28) && setTimeout(function() { sn({ type: "error", expire: -1, text: atob("VGhpcyBhcHAgdXNlcyBhIHRyaWFsIHZlcnNpb24gb2YgV2ViaXggVUkuIFRoZSB0cmlhbCBwZXJpb2QgaGFzIGV4cGlyZWQuIDxicj4gSWYgeW91ciB3YW50IHRvIGNvbnRpbnVlIHVzaW5nIFdlYml4IFVJLCBwbGVhc2UgdXBncmFkZSB0byBDb21tZXJjaWFsIG9yIEdQTCBlZGl0aW9uLg==") }) }, Math.floor(5e3 * Math.random()) + 1e3), G.isIE8 && (Object.defineProperty = function(t, i, e) { t[i] = e.value }); var rn = {
		startOnMonday: !1, toFixed: function(t, i) { return t < 10 && (t = "0" + t), i && t < 100 && (t = "0" + t), t }, weekStart: function(t) { var i = (t = this.copy(t)).getDay(); return this.startOnMonday && (0 === i ? i = 6 : i--), this.datePart(this.add(t, -1 * i, "day")) }, monthStart: function(t) { return (t = this.copy(t)).setDate(1), this.datePart(t) }, yearStart: function(t) { return (t = this.copy(t)).setMonth(0), this.monthStart(t) }, dayStart: function(t) { return this.datePart(t, !0) }, dateToStr: function(r, e) {
			if ("function" == typeof r) return r; if (G.strict) return function(i) {
				if (!i) return ""; i.getMonth || (i = A.parseFormatDate(i)); var s = "", n = 0; return r.replace(/%[a-zA-Z]/g, function(e, t) {
					s += r.slice(n, t); s += function(t) {
						if ("%d" == e) return rn.toFixed(t.getDate()); if ("%m" == e) return rn.toFixed(t.getMonth() + 1); if ("%j" == e) return t.getDate(); if ("%n" == e) return t.getMonth() + 1; if ("%y" == e) return rn.toFixed(t.getFullYear() % 100); if ("%Y" == e) return t.getFullYear(); if ("%D" == e) return A.calendar.dayShort[t.getDay()]; if ("%l" == e) return A.calendar.dayFull[t.getDay()]; if ("%M" == e) return A.calendar.monthShort[t.getMonth()]; if ("%F" == e) return A.calendar.monthFull[t.getMonth()]; if ("%h" == e) return rn.toFixed((t.getHours() + 11) % 12 + 1); if ("%g" == e) return (t.getHours() + 11) % 12 + 1; if ("%G" == e) return t.getHours(); if ("%H" == e) return rn.toFixed(t.getHours()); if ("%i" == e) return rn.toFixed(t.getMinutes()); if ("%a" == e) return 11 < t.getHours() ? A.pm[0] : A.am[0]; if ("%A" == e) return 11 < t.getHours() ? A.pm[1] : A.am[1]; if ("%s" == e) return rn.toFixed(t.getSeconds()); if ("%S" == e) return rn.toFixed(t.getMilliseconds(), !0); if ("%W" == e) return rn.toFixed(Date.getISOWeek(t)); if ("%c" != e) return e; var i = t.getFullYear(); return i += "-" + rn.toFixed(t.getMonth() + 1), i += "-" + rn.toFixed(t.getDate()), i += "T", i += rn.toFixed(t.getHours()), i += ":" + rn.toFixed(t.getMinutes()),
							i += ":" + rn.toFixed(t.getSeconds())
					}(i), n = t + 2
				}), s += r.slice(n, r.length)
			}; r = r.replace(/%[a-zA-Z]/g, function(t) { switch (t) { case "%d": return '"+wDate.toFixed(date.getDate())+"'; case "%m": return '"+wDate.toFixed((date.getMonth()+1))+"'; case "%j": return '"+date.getDate()+"'; case "%n": return '"+(date.getMonth()+1)+"'; case "%y": return '"+wDate.toFixed(date.getFullYear()%100)+"'; case "%Y": return '"+date.getFullYear()+"'; case "%D": return '"+i18n.calendar.dayShort[date.getDay()]+"'; case "%l": return '"+i18n.calendar.dayFull[date.getDay()]+"'; case "%M": return '"+i18n.calendar.monthShort[date.getMonth()]+"'; case "%F": return '"+i18n.calendar.monthFull[date.getMonth()]+"'; case "%h": return '"+wDate.toFixed((date.getHours()+11)%12+1)+"'; case "%g": return '"+((date.getHours()+11)%12+1)+"'; case "%G": return '"+date.getHours()+"'; case "%H": return '"+wDate.toFixed(date.getHours())+"'; case "%i": return '"+wDate.toFixed(date.getMinutes())+"'; case "%a": return '"+(date.getHours()>11?i18n.pm[0]:i18n.am[0])+"'; case "%A": return '"+(date.getHours()>11?i18n.pm[1]:i18n.am[1])+"'; case "%s": return '"+wDate.toFixed(date.getSeconds())+"'; case "%S": return '"+wDate.toFixed(date.getMilliseconds(), true)+"'; case "%W": return '"+wDate.toFixed(wDate.getISOWeek(date))+"'; case "%c": var i = '"+date.getFullYear()+"'; return i += '-"+wDate.toFixed((date.getMonth()+1))+"', i += '-"+wDate.toFixed(date.getDate())+"', i += "T", i += '"+wDate.toFixed(date.getHours())+"', i += ':"+wDate.toFixed(date.getMinutes())+"', i += ':"+wDate.toFixed(date.getSeconds())+"', !0 === e && (i += "Z"), i; default: return t } }), !0 === e && (r = r.replace(/date\.get/g, "date.getUTC")); var i = new Function("date", "i18n", "wDate", "if (!date) return ''; if (!date.getMonth) date=i18n.parseFormatDate(date);  return \"" + r + '";'); return function(t) { return i(t, A, rn) }
		}, strToDate: function(t, r) {
			if ("function" == typeof t) return t; var h, i, e, o = t.match(/%[a-zA-Z]/g), s = "var temp=date.split(/[\\s\\./\\-\\:\\,]+/g); if(!temp.join('')){return ''}"; if (!A.calendar.monthShort_hash) { for (e = A.calendar.monthShort, i = A.calendar.monthShort_hash = {}, h = 0; h < e.length; h++)i[e[h]] = h; for (e = A.calendar.monthFull, i = A.calendar.monthFull_hash = {}, h = 0; h < e.length; h++)i[e[h]] = h } if (G.strict) return function(t) { if (!t) return ""; if ("object" == M(t)) return t; var i = t.split(/[\s./\-:,]+/g); if (!i.join("")) return ""; var e = [0, 0, 1, 0, 0, 0, 0]; for (h = 0; h < o.length; h++) { var s = o[h]; if ("%y" == s) e[0] = 1 * i[h] + (30 < i[h] ? 1900 : 2e3); else if ("%Y" == s) e[0] = 1 * (i[h] || 0), e[0] < 30 && (e[0] += 2e3); else if ("%n" == s || "%m" == s) e[1] = (i[h] || 1) - 1; else if ("%M" == s) e[1] = A.calendar.monthShort_hash[i[h]] || 0; else if ("%F" == s) e[1] = A.calendar.monthFull_hash[i[h]] || 0; else if ("%j" == s || "%d" == s) e[2] = i[h] || 1; else if ("%g" == s || "%G" == s || "%h" == s || "%H" == s) e[3] = i[h] || 0; else if ("%a" == s) e[3] = e[3] % 12 + ((i[h] || "") == A.am[0] ? 0 : 12); else if ("%A" == s) e[3] = e[3] % 12 + ((i[h] || "") == A.am[1] ? 0 : 12); else if ("%i" == s) e[4] = i[h] || 0; else if ("%s" == s) e[5] = i[h] || 0; else if ("%S" == s) e[6] = i[h] || 0; else if ("%c" == s) { var n = /(\d+)-(\d+)-(\d+)T(\d+):(\d+):(\d+)(\+.*|)/g.exec(t); e[0] = 1 * (n[1] || 0), e[0] < 30 && (e[0] += 2e3), e[1] = (n[2] || 1) - 1, e[2] = n[3] || 1, e[3] = n[4] || 0, e[4] = n[5] || 0, e[5] = n[6] || 0 } } return r ? new Date(Date.UTC(e[0], e[1], e[2], e[3], e[4], e[5], e[6])) : new Date(e[0], e[1], e[2], e[3], e[4], e[5], e[6]) }; for (h = 0; h < o.length; h++)switch (o[h]) {
				case "%j": case "%d": s += "set[2]=temp[" + h + "]||1;"; break; case "%n": case "%m": s += "set[1]=(temp[" + h + "]||1)-1;"; break; case "%y": s += "set[0]=temp[" + h + "]*1+(temp[" + h + "]>30?1900:2000);"; break; case "%g": case "%G": case "%h": case "%H": s += "set[3]=temp[" + h + "]||0;"; break; case "%i": s += "set[4]=temp[" + h + "]||0;"; break; case "%Y": s += "set[0]=(temp[" + h + "]||0)*1; if (set[0]<30) set[0]+=2000;"; break; case "%a": s += "set[3]=set[3]%12+(temp[" + h + "]==i18n.am[0]?0:12);"; break; case "%A": s += "set[3]=set[3]%12+(temp[" + h + "]==i18n.am[1]?0:12);"; break; case "%s": s += "set[5]=temp[" + h + "]||0;"; break; case "%S": s += "set[6]=temp[" + h + "]||0;"; break; case "%M": s += "set[1]=i18n.calendar.monthShort_hash[temp[" + h + "]]||0;"; break; case "%F": s += "set[1]=i18n.calendar.monthFull_hash[temp[" + h + "]]||0;"; break; case "%c": s += "var res = date.split('T');", s += "if(res[0]){ var d = res[0].split('-');", s += "set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;", s += "set[1]= (d[1]||1)-1;", s += "set[2]= d[2]||1;}",
					s += "if(res[1]){ var t = res[1].split(':');", s += "set[3]= t[0]||0;", s += "set[4]= t[1]||0;", s += "set[5]= parseInt(t[2])||0;}"
			}var n = "set[0],set[1],set[2],set[3],set[4],set[5],set[6]"; r && (n = " Date.UTC(" + n + ")"); var a = new Function("date", "i18n", "if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0,0]; " + s + " return new Date(" + n + ");"); return function(t) { return a(t, A) }
		}, getISOWeek: function(t) { if (!t) return !1; var i = t.getDay(); 0 === i && (i = 7); var e = new Date(t.valueOf()); e.setDate(t.getDate() + (4 - i)); var s = e.getFullYear(), n = Math.floor((e.getTime() - new Date(s, 0, 1).getTime()) / 864e5); return 1 + Math.floor(n / 7) }, getUTCISOWeek: function(t) { return this.getISOWeek(t) }, dl: function(t, i, e, s) { if (e) { var n = s(t, i); if (n) for (var r = 0 < e ? 1 : -1; n;)t.setHours(t.getHours() + r), n = s(t, i), r += 0 < e ? 1 : -1 } }, add: function(t, i, e, s) { s && (t = this.copy(t)); var n = rn.copy(t); switch (e) { case "day": t.setDate(t.getDate() + i), this.dl(t, n, i, function(t, i) { return rn.datePart(i, !0).valueOf() == rn.datePart(t, !0).valueOf() }); break; case "week": t.setDate(t.getDate() + 7 * i), this.dl(t, n, 7 * i, function(t, i) { return rn.datePart(i, !0).valueOf() == rn.datePart(t, !0).valueOf() }); break; case "month": t.setMonth(t.getMonth() + i), this.dl(t, n, i, function(t, i) { return i.getMonth() == t.getMonth() && i.getYear() == t.getYear() }); break; case "quarter": t.setMonth(t.getMonth() + 3 * i), this.dl(t, n, i, function(t, i) { return i.getMonth() == t.getMonth() && i.getYear() == t.getYear() }); break; case "year": t.setYear(t.getFullYear() + i), this.dl(t, n, i, function(t, i) { return i.getFullYear() == t.getFullYear() }); break; case "hour": t.setHours(t.getHours() + i), this.dl(t, n, i, function(t, i) { return i.getHours() == t.getHours() && Date.datePart(i, !0) == Date.datePart(t, !0) }); break; case "minute": t.setMinutes(t.getMinutes() + i); break; default: rn.add[e](t, i, e) }return t }, datePart: function(t, i) { i && (t = this.copy(t)); var e = this.copy(t); return e.setHours(0), e.getDate() != t.getDate() ? t.setHours(1) : t.setHours(0), t.setMinutes(0), t.setSeconds(0), t.setMilliseconds(0), t }, timePart: function(t, i) { return i && (t = this.copy(t)), (t.valueOf() / 1e3 - 60 * t.getTimezoneOffset()) % 86400 }, copy: function(t) { return new Date(t.valueOf()) }, equal: function(t, i) { return !(!t || !i) && t.valueOf() === i.valueOf() }, isHoliday: function(t) { if (0 === (t = t.getDay()) || 6 == t) return "webix_cal_event" }
	}, hn = { getConfig: function(t) { var i = { decimalSize: 0, groupSize: 999, prefix: "", sufix: "" }, e = t.split(/[0-9].*[0-9]/g); e[0].length && (i.prefix = e[0]), e[1].length && (i.sufix = e[1]), (i.prefix || i.sufix) && (t = t.substr(i.prefix.length, t.length - i.prefix.length - i.sufix.length)); var s = t.indexOf("1"); 0 < s && (i.prefix = t.substr(0, s), t = t.substr(s)); var n = t.indexOf("0"); 0 < n && (i.decimalSize = t.length - n, i.decimalDelimiter = t[n - 1], t = t.substr(0, n - 1)); var r = t.match(/[^0-9]/); return r && (i.groupSize = t.length - r.index - 1, i.groupDelimiter = t[r.index]), i }, parse: function(t, i) { if (!t || "string" != typeof t) return t; i.prefix && (t = t.toLowerCase().replace(i.prefix.toLowerCase() || "", "")), i.sufix && (t = t.toLowerCase().replace(i.sufix.toLowerCase() || "", "")); var e = ""; if (i.decimalDelimiter) { var s = t.indexOf(i.decimalDelimiter); -1 < s && (e = (e = t.substr(s + 1).replace(/[^0-9]/g, "")).substr(0, Math.min(e.length, i.decimalSize)), t = t.substr(0, s)) } var n = "-" === t[0] ? -1 : 1; return (t = t.replace(/[^0-9]/g, "")) || (t = "0"), e && (t += "." + e), parseFloat(t) * n }, format: function(t, i) { if ("" === t || void 0 === t) return t; i = i || A; var e = (t = parseFloat(t)) < 0 ? "-" : ""; t = Math.abs(t), i.decimalOptional || (t = t.toFixed(i.decimalSize)); var s = t.toString(); s = s.split("."); var n = ""; if (i.groupSize) { var r = i.groupSize, h = s[0].length; do { n = (0 < (h -= r) ? s[0].substr(h, r) : s[0].substr(0, r + h)) + (n ? i.groupDelimiter + n : "") } while (0 < h) } else n = s[0]; return s = i.decimalSize ? e + n + (s[1] ? i.decimalDelimiter + s[1] : "") : e + n, i.prefix || i.sufix ? i.prefix + s + i.sufix : s }, numToStr: function(i) { return function(t) { return hn.format(t, i) } } }; var on = ["fullDateFormat", "timeFormat", "dateFormat", "longDateFormat", "parseFormat", "parseTimeFormat"]; A.setLocale = function(t) {
		"string" == typeof t && (t = A.locales[t]), t && (t.priceSettings = _(t.priceSettings || t), function h(t, i) { for (var e in i) "object" != M(i[e]) || $(i[e]) ? t[e] = i[e] : (t[e] || (t[e] = {}), h(t[e], i[e])) }(A, t), delete A.calendar.monthShort_hash,
			delete A.calendar.monthFull_hash); for (var i = 0; i < on.length; i++) { var e = on[i], s = A[e + "UTC"]; A[e + "Str"] = rn.dateToStr(A[e], s), A[e + "Date"] = rn.strToDate(A[e], s) } var n = qt(A.price), r = A.priceSettings || A; A.intFormat = hn.numToStr({ groupSize: A.groupSize, groupDelimiter: A.groupDelimiter, decimalSize: 0 }), A.priceFormat = function(t) { return n(hn.format(t, r)) }, A.numberFormat = hn.format
	}, A.locales = { "en-US": { groupDelimiter: ",", groupSize: 3, decimalDelimiter: ".", decimalSize: 2, dateFormat: "%m/%d/%Y", timeFormat: "%h:%i %A", longDateFormat: "%d %F %Y", fullDateFormat: "%m/%d/%Y %h:%i %A", am: ["am", "AM"], pm: ["pm", "PM"], price: "${obj}", priceSettings: { groupDelimiter: ",", groupSize: 3, decimalDelimiter: ".", decimalSize: 2 }, fileSize: ["b", "Kb", "Mb", "Gb", "Tb", "Pb", "Eb"], calendar: { monthFull: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], dayFull: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], dayShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], hours: "Hours", minutes: "Minutes", done: "Done", clear: "Clear", today: "Today" }, dataExport: { page: "Page", of: "of" }, PDFviewer: { of: "of", automaticZoom: "Automatic Zoom", actualSize: "Actual Size", pageFit: "Page Fit", pageWidth: "Page Width", pageHeight: "Page Height", enterPassword: "Enter password", passwordError: "Wrong password" }, aria: { calendar: "Calendar", increaseValue: "Increase value", decreaseValue: "Decrease value", navMonth: ["Previous month", "Next month"], navYear: ["Previous year", "Next year"], navDecade: ["Previous decade", "Next decade"], dateFormat: "%d %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: "Hours: %h %A", minuteFormat: "Minutes: %i", removeItem: "Remove item", pages: ["First page", "Previous page", "Next page", "Last page"], page: "Page", headermenu: "Header menu", openGroup: "Open column group", closeGroup: "Close column group", closeTab: "Close tab", showTabs: "Show more tabs", resetTreeMap: "Reset tree map", navTreeMap: "Level up", nextTab: "Next tab", prevTab: "Previous tab", multitextSection: "Add section", multitextextraSection: "Remove section", showChart: "Show chart", hideChart: "Hide chart", resizeChart: "Resize chart" }, richtext: { underline: "Underline", bold: "Bold", italic: "Italic" }, combo: { select: "Select", selectAll: "Select all", unselectAll: "Unselect all" }, message: { ok: "OK", cancel: "Cancel" }, comments: { send: "Send", confirmMessage: "The comment will be removed. Are you sure?", edit: "Edit", remove: "Remove", placeholder: "Type here..", moreComments: "More comments" }, filter: { less: "less", lessOrEqual: "less or equal", greater: "greater", greaterOrEqual: "greater or equal", contains: "contains", notContains: "not contains", equal: "equal", notEqual: "not equal", beginsWith: "begins with", notBeginsWith: "not begins with", endsWith: "ends with", notEndsWith: "not ends with", between: "between", notBetween: "not between" }, timeboard: { seconds: "Seconds" } } }, A.setLocale("en-US"); var an = { prefix: function(e, s) { return e += ".", { put: function(t, i) { return s.put(e + t, i) }, get: function(t) { return s.get(e + t) }, remove: function(t) { return s.remove(e + t) } } } }; an.local = { put: function(t, i) { t && window.JSON && window.localStorage && window.localStorage.setItem(t, m(i)) }, get: function(t) { if (t && window.JSON && window.localStorage) { var i = window.localStorage.getItem(t); return i ? Bt.json.toObject(i) : null } return null }, remove: function(t) { t && window.JSON && window.localStorage && window.localStorage.removeItem(t) }, clear: function() { window.localStorage.clear() } }, an.session = { put: function(t, i) { t && window.JSON && window.sessionStorage && window.sessionStorage.setItem(t, m(i)) }, get: function(t) { if (t && window.JSON && window.sessionStorage) { var i = window.sessionStorage.getItem(t); return i ? Bt.json.toObject(i) : null } return null }, remove: function(t) { t && window.JSON && window.sessionStorage && window.sessionStorage.removeItem(t) }, clear: function() { window.sessionStorage.clear() } }, an.cookie = {
		put: function(t, i, e, s) { t && window.JSON && (document.cookie = t + "=" + escape(m(i)) + (s && s instanceof Date ? ";expires=" + s.toUTCString() : "") + (e ? ";domain=" + e : "") + (G.https ? ";secure" : "")) }, getRaw: function(t) {
			for (var i = document.cookie.split(";"), e = "", s = "",
				n = 0; n < i.length; n++) { if ((e = i[n].split("="))[0].replace(/^\s+|\s+$/g, "") == t) return !0, 1 < e.length && (s = unescape(e[1].replace(/^\s+|\s+$/g, ""))), s; e = null, "" } return null
		}, get: function(t) { if (t && window.JSON) { var i = this.getRaw(t); return i ? Bt.json.toObject(unescape(i)) : null } return null }, remove: function(t, i) { t && this.getRaw(t) && (document.cookie = t + "=" + (i ? ";domain=" + i : "") + ";expires=Thu, 01-Jan-1970 00:00:01 GMT") }, clear: function(t) { for (var i = document.cookie.split(";"), e = 0; e < i.length; e++)document.cookie = /^[^=]+/.exec(i[e])[0] + "=" + (t ? ";domain=" + t : "") + ";expires=Thu, 01-Jan-1970 00:00:01 GMT" }
	}, G.printPPI = 96, G.printMargin = .75 * G.printPPI; var un = { a4: "A4", a3: "A3", letter: "letter" }, cn = { page: !0, data: !0 }, fn = { portrait: !0, landscape: !0 }, ln = { A3: { width: 11.7, height: 16.5 }, A4: { width: 8.27, height: 11.7 }, letter: { width: 8.5, height: 11 } }; function dn(t, i) { var e = lt("div", { "class": "webix_view webix_print_" + t.toLowerCase(), style: "height:0px;visibility:hidden;" }, i["doc" + t]); "Header" === t ? _t(e, document.body.firstChild) : document.body.appendChild(e), i["doc" + t] = e } var vn = { number: { greater: function(t, i) { return i < t }, less: function(t, i) { return t < i }, greaterOrEqual: function(t, i) { return i <= t }, lessOrEqual: function(t, i) { return t <= i }, equal: function(t, i) { return t == i }, notEqual: function(t, i) { return t != i }, contains: function(t, i) { return -1 !== t.toString().toLowerCase().indexOf(i.toString().toLowerCase()) }, notContains: function(t, i) { return -1 === t.toString().toLowerCase().indexOf(i.toString().toLowerCase()) } }, text: { equal: function(t, i) { return t.toLowerCase() === i.toLowerCase() }, notEqual: function(t, i) { return t.toLowerCase() !== i.toLowerCase() }, contains: function(t, i) { return -1 !== t.toLowerCase().indexOf(i.toLowerCase()) }, notContains: function(t, i) { return -1 === t.toLowerCase().indexOf(i.toLowerCase()) }, beginsWith: function(t, i) { return 0 === t.toLowerCase().lastIndexOf(i.toLowerCase(), 0) }, notBeginsWith: function(t, i) { return 0 !== t.toLowerCase().lastIndexOf(i.toLowerCase(), 0) }, endsWith: function(t, i) { return -1 !== t.toLowerCase().indexOf(i.toLowerCase(), t.length - i.length) }, notEndsWith: function(t, i) { return -1 === t.toLowerCase().indexOf(i.toLowerCase(), t.length - i.length) } }, date: { greater: function(t, i) { return i < t }, less: function(t, i) { return t < i }, greaterOrEqual: function(t, i) { return i <= t }, lessOrEqual: function(t, i) { return t <= i }, equal: function(t, i) { return !(!t || !i) && t.valueOf() === i.valueOf() }, notEqual: function(t, i) { return !t || !i || t.valueOf() !== i.valueOf() }, between: function(t, i) { return (!i.start || t > i.start) && (!i.end || t < i.end) }, notBetween: function(t, i) { return !i.start || t <= i.start || !i.end || t >= i.end } } }, _n = { phone: { mask: "+# (###) ###-####", allow: /[0-9]/g }, card: { mask: "#### #### #### ####", allow: /[0-9]/g }, date: { mask: "####-##-## ##:##", allow: /[0-9]/g } }, pn = { denySelect: ht, allowSelect: ot, index: at, createCss: ut, addStyle: ct, removeStyle: ft, create: lt, getValue: dt, remove: vt, insertBefore: _t, locate: pt, offset: bt, posRelative: mt, pos: gt, preventEvent: wt, stopEvent: xt, triggerEvent: yt, addCss: Mt, removeCss: St, getTextSize: kt, download: Ct, vl: $t, setSelectionRange: Dt, getSelectionRange: It, addMeta: At }, bn = "__webix_remote_error"; function mn(t, i) { this._l = {}, this.pl = [], this.bl = t, this.vu = "", i ? this.ml(i) : this.gl = E(t).then(function(t) { return t.text() }).then(S(function(t) { return t = t.split("/*api*/")[1], this.ml(JSON.parse(t)), this._l }, this)) } function gn(t, i) { var e = new mn(t, i).wl(); for (var s in e) wn[s] = e[s]; return e } mn.prototype = {
		ml: function(t) { if (t.$key && (this.vu = t.$key), t.$vars) for (var i in t.$vars) this._l[i] = t.$vars[i]; this.X(t, this._l, "") }, X: function(t, i, e) { for (var s in t) if ("$key" !== s && "$vars" !== s) { var n = t[s]; if ("object" == M(n)) { var r = i[s] = {}; this.X(n, r, e + s + ".") } else i[s] = this.xl(this, e + s) } }, yl: function(t, i) { var e = this.Ml(this, t, i); return this.pl.push(e), this.Sl(), e }, Sl: function() { this.kl || (this.kl = setTimeout(S(this.Cl, this), 1)) }, Cl: function() {
			for (var t = [], r = this.pl, i = 0; i < this.pl.length; i++) { var e = this.pl[i]; e.$sync ? (r.splice(i, 1), i--) : t.push({ name: e.$name, args: e.$args }) } if (r.length) {
				var s = E(), n = this.$l(t); y("onBeforeRemoteCall", [s, n, {}]); var h = s.post(this.bl, n).then(function(t) {
					for (var i = t.json().data, e = 0; e < i.length; e++) {
						var s = i[e], n = i[e] && i[e][bn]; n ? (y("onRemoteError", [n])
							, r[e].reject(n)) : r[e].resolve(s)
					}
				}, function(t) { for (var i = 0; i < r.length; i++)r[i].reject(t); throw t }); y("onAfterRemoteCall", [h])
			} this.pl = [], this.kl = null
		}, $: function() { var t = null; this.$sync = !0; var i = [{ name: this.$name, args: this.$args }]; try { var e = E(), s = this.$context.$l(i); y("onBeforeRemoteCall", [e, s, { sync: !0 }]); var n = e.sync().post(this.$context.bl, s); y("onAfterRemoteCall", [null]), (t = JSON.parse(n.responseText).data[0])[bn] && (t = null) } catch (Eo) { } return t }, Ml: function(t, i, e) { var s = b.defer(); return s.sync = t.$, s.$name = i, s.$args = e, s.$context = this, s }, xl: function(t, i) { return function() { return t.yl(i, [].slice.call(arguments)) } }, wl: function() { return this.gl || this._l }, $l: function(t) { return { key: this.vu, payload: t } }
	}; var wn = function(t, i) { if ("object" !== M(t)) return gn(t, i); var e = document.getElementsByTagName("script"); return i = t, gn(t = e[e.length - 1].src, i) }; function xn() { var t = !!(window.orientation % 180); ei.orientation !== t && (ei.orientation = t, y("onRotate", [t])) } G.touch && (ei.orientation = !!((V(window.orientation) ? 90 : window.orientation) % 180), Qt(window, "onorientationchange" in window ? "orientationchange" : "resize", xn)); var yn = { textWaitDelay: 500, summColumn: { getValue: function(t) { return t.innerText }, setValue: function() { }, refresh: function(t, i, e) { var s = 0; t.mapCells(null, e.columnId, null, 1, function(t) { t *= 1, isNaN(t) || (s += t) }, !0), e.format && (s = e.format(s)), e.template && (s = e.template({ value: s })), i.innerHTML = s }, trackCells: !0, render: function(t, i) { return i.template && (i.template = qt(i.template)), "" } }, masterCheckbox: { getValue: function() { }, setValue: function() { }, getHelper: function(t, i) { return { check: function() { i.checked = !1, t.onclick() }, uncheck: function() { i.checked = !0, t.onclick() }, isChecked: function() { return i.checked } } }, refresh: function(e, t, s) { t.onclick = function() { this.getElementsByTagName("input")[0].checked = s.checked = !s.checked; var t = e.getColumnConfig(s.columnId), i = s.checked ? t.checkValue : t.uncheckValue; e.data.each(function(t) { t[s.columnId] = i, e.callEvent("onCheck", [t.id, s.columnId, i]), this.callEvent("onStoreUpdated", [t.id, t, "save"]) }), e.refresh() } }, render: function(t, i) { return "<input type='checkbox' " + (i.checked ? "checked='1'" : "") + ">" } }, textFilter: { getInputNode: function(t) { return t.querySelector("input") || { value: null } }, getValue: function(t) { return this.getInputNode(t).value }, setValue: function(t, i) { this.getInputNode(t).value = i }, refresh: function(t, i, e) { i.component = t.P.id, t.registerFilter(i, e, this), i.Dl = t.P.id, e.value && this.getValue(i) != e.value && this.setValue(i, e.value), i.onclick = wt, Zt(i, "keydown", this.Il) }, render: function(t, i) { return this.init && this.init(i), i.css = (i.css || "") + " webix_ss_filter", "<input " + (i.placeholder ? 'placeholder="' + i.placeholder + '" ' : "") + "type='text'>" }, Il: function(t) { var i = this.Dl; 9 != (t.which || t.keyCode) && (this.Al && window.clearTimeout(this.Al), this.Al = window.setTimeout(function() { var t = ai(i); t && t.filterByAll() }, yn.textWaitDelay)) } }, selectFilter: { getInputNode: function(t) { return t.querySelector("select") || { value: null } }, getValue: function(t) { return this.getInputNode(t).value }, setValue: function(t, i) { this.getInputNode(t).value = i }, refresh: function(t, i, e) { e.compare = e.compare || function(t, i) { return t == i }, i.component = t.P.id, t.registerFilter(i, e, this); var s = yn.Fl(t, e); !1 !== e.emptyOption && s.unshift({ id: "", value: e.emptyOption || "" }); for (var n = document.createElement("select"), r = 0; r < s.length; r++) { var h = document.createElement("option"); h.value = s[r].id, h.text = s[r].value, n.add(h) } i.innerHTML = "", i.appendChild(n), e.value && this.setValue(i, e.value), i.onclick = wt, n.Dl = t.P.id, Zt(n, "change", this.Tl) }, render: function(t, i) { return this.init && this.init(i), i.css = (i.css || "") + " webix_ss_filter", "" }, Tl: function() { ai(this.Dl).filterByAll() } }, Fl: function(t, i) { var e = i.options; return e ? t.Vl.call(e, "id", "value") : t.collectValues(i.columnId, i.collect) } }; yn.serverFilter = T.extend({ $server: !0, Il: function(t) { var i = this.Dl, e = t.which || t.keyCode; 9 == e || 33 <= e && e <= 40 || (this.Al && window.clearTimeout(this.Al), this.Al = window.setTimeout(function() { ai(i).filterByAll() }, yn.textWaitDelay)) } }, yn.textFilter), yn.serverSelectFilter = T.extend({ $server: !0, Tl: function() { ai(this.Dl).filterByAll() } }, yn.selectFilter),
		yn.numberFilter = T.extend({ init: function(r) { r.prepare = function(t) { var e, s = this, i = -1 != t.indexOf("="), n = this.format(t); return "" === n ? "" : (-1 != t.indexOf(">") ? e = this.zl : -1 != t.indexOf("<") && (e = this.Bl), r.compare = e && i ? function(t, i) { return s.Hl(t, i) || e(t, i) } : e || this.Hl, n) } }, format: function(t) { return t.replace(/[^\-.0-9]/g, "") }, zl: function(t, i) { return i < 1 * t }, Bl: function(t, i) { return "" !== t && 1 * t < i }, Hl: function(t, i) { return "" !== t && 1 * t == i } }, yn.textFilter), yn.dateFilter = T.extend({ format: function(t) { if ("" === t) return ""; var i = new Date; if (-1 != t.indexOf("today")) i = rn.dayStart(i); else if (-1 == t.indexOf("now")) { var e = t.match(/[0-9]+/g); if (!e || !e.length) return ""; i = e.length < 3 ? (e.reverse(), new Date(e[0], (e[1] || 1) - 1, 1)) : A.dateFormatDate(t.replace(/^[>< =]+/, "")) } return i.valueOf() } }, yn.numberFilter); var Mn = {
			name: "baselayout", restore: function(t, i, e) { var s = this.Rl(_(t), i); if (e) return s; ni(s.cols || s.rows, this) }, Rl: function(t, i) { if (!t.$layout) return i.call(this, t); for (var e = t.cols || t.rows, s = 0; s < e.length; s++)e[s] = this.Rl(e[s], i); return t }, serialize: function(t) { for (var i = [], e = this.getChildViews(), s = 0; s < e.length; s++) { var n = e[s]; if (n.movePortlet) { var r = n.getChildViews(); i.push(t.call(this, r[r.length - 1])) } else n.serialize ? i.push(n.serialize(t, !0)) : i.push(t.call(this, n)) } var h = { $layout: !0, type: this.config.type }; return this.config.rows ? h.rows = i : h.cols = i, h }, $init: function(t) { this.$ready.push(this.El), this.tt = this.Wi, this.Pl = [], this.jl = [], this.Xa = { top: 0, left: 0, right: 0, bottom: 0 }, t.$topView && (t.borderless = !0, t.Dt = { top: !0, left: !0, bottom: !0, right: !0 }), t.isolate && T.extend(this, Ve) }, rows_setter: function(t) { return this.Nl = 1, this.Ll = t, !0 }, cols_setter: function(t) { return this.Nl = 0, this.$view.style.whiteSpace = "nowrap", this.Ll = t, !0 }, Tt: function(t) { var i = x.find.call(this.hi, t); this.Ol && this.Ol(i), x.removeAt.call(this.hi, i), this.Wl(!0) }, Wl: function(t) { for (var i = this.Ul = 0; i < this.hi.length; i++) { var e = this.hi[i]; (e.P.hidden || e.$nospace) && this.Ul++ } t && this.resizeChildren(!0) }, Ft: function(t, i) { if (V(i)) { for (var e = 0; e < this.hi.length; e++)this.hi[e].destructor(); this.Ll = t, this.El() } else { var s; "number" == typeof i ? ((i < 0 || i > this.hi.length) && (i = this.hi.length), x.insertAt.call(this.hi, t, i), t.P.hidden || this.Yl(t, this.hi[i])) : (s = ai(i), i = x.find.call(this.hi, s), t.P.hidden || this.Yl(t, s), s.destructor(), this.hi[i] = t), this.Nl || this.Ya(t) } this.Wl(!0); var n = this.elements ? this : this.getFormView(); n && !this.ql && n.oe(), y("onReconstruct", [this]) }, Ya: function(t) { t.Vt.style.display = "inline-block", t.Vt.style.verticalAlign = "top" }, addView: function(t, i) { V(i) && (i = this.hi.length); var e = this.$$ ? this : this.getTopParentView(); ei.bt = this; var s = e && e.ui ? e.ui(t, this, i) : ni(t, this, i); return ei.bt = null, s.P.id }, removeView: function(t) { var i; i = "object" != M(t) ? ai(t) || (this.$$ ? this.$$(t) : null) : t; var e = x.find.call(this.hi, i); if (0 <= e) { this.Ol && this.Ol(e, i); var s = this.elements ? this : this.getFormView(); this.hi.splice(e, 1), s && _i(i, function(t) { t.name && delete s.getCleanValues()[t.config.name] }, s, !0), i.destructor(), this.Wl(!0), s && s.oe() } y("onReconstruct", [this]) }, reconstruct: function() { this.Ul = 0, this.Ft(this.Ll) }, Bi: function(t, i, e) { t.P.hidden || (t.P.hidden = !0, vt(t.Vt), this.Ul++, e || ei.gt || this.resizeChildren(!0)) }, ke: function(t) { t.callEvent && t.callEvent("onViewShow", []) }, resizeChildren: function() { if (!ei.pt && this.Pl) { var t = this.getParentView(); if (t) return t.resizeChildren ? t.resizeChildren() : t.resize(); var i, e, s, n, r = this.$getSize(0, 0); if (s = i = this.Pl[0] || 0, n = e = this.Pl[1] || 0, (1e5 <= r[1] || 1e5 <= r[3]) && this.Vt.parentNode && (s = i = Math.max(r[0], this.P.width || this.Vt.parentNode.offsetWidth || i || 0), n = e = Math.max(r[2], this.P.height || this.Vt.parentNode.offsetHeight || e || 0)), t) this.Ka(i, e); else { r[0] > i && (s = r[0]), r[2] > e && (n = r[2]); var h = this.Vt.parentNode == document.body && !this.setPosition; !h && i > r[1] && (s = r[1]), !h && e > r[3] && (n = r[3]), this.$setSize(s, n) } ei.vt && (ei.vt = !1, this.resizeChildren()), y("onResize", []) } }, getChildViews: function() { return this.hi }, index: function(t) { t.P && (t = t.P.id); for (var i = 0; i < this.hi.length; i++)if (this.hi[i].P.id == t) return i; return -1 }, Yl: function(t, i) {
				if (i) if (i.P.hidden || t === i) {
					for (var e = this.index(i) + 1; this.hi[e] && this.hi[e].P.hidden;)e++
						; i = this.hi[e] ? this.hi[e].Vt : null
				} else i = i.Vt; _t(t.Vt, i, this.tt || this.Vt)
			}, Me: function(t, i, e) { t.P.hidden && (this.Yl(t, t), t.P.hidden = !1, this.Ul--, e || (this.resizeChildren(!0), t.refresh && t.refresh()), t.callEvent && (t.callEvent("onViewShow", []), _i(t, this.ke))) }, showBatch: function(t, i) { var e = void 0 !== i; if (i = !1 !== i, e) this.P.visibleBatch = ""; else { if (this.P.visibleBatch == t) return; this.P.visibleBatch = t } for (var s = [], n = 0; n < this.hi.length; n++)this.hi[n].P.batch || this.hi[n].P.hidden ? this.hi[n].P.batch == t ? i ? s.push(this.hi[n]) : this.Bi(this.hi[n], null, !0) : e || this.Bi(this.hi[n], null, !0) : s.push(this.hi[n]); for (var r = 0; r < s.length; r++)this.Me(s[r], null, !0), s[r].Se(); this.resizeChildren(!0) }, El: function(t) { this.hi = [], this.name; for (var i = 0; i < t.length; i++)ei.bt = this, t[i].Dt || (t[i].borderless = !0), this.hi[i] = ni.Ht(t[i], this), this.Nl || this.Ya(this.hi[i]), this.P.visibleBatch && this.P.visibleBatch != this.hi[i].P.batch && this.hi[i].P.batch && (this.hi[i].P.hidden = !0), this.hi[i].P.hidden || (this.tt || this.Wi).appendChild(this.hi[i].Vt); this.Wl(), this.Gl && this.Gl(t) }, Xl: function(t, i) { i.top && (t.borderTopWidth = "0px"), i.left && (t.borderLeftWidth = "0px"), i.right && (t.borderRightWidth = "0px"), i.bottom && (t.borderBottomWidth = "0px") }, Kl: function(t, i, e) { if (this.Nl != e) for (var s = 0; s < this.hi.length; s++)this.hi[s].P[t] = i, this.hi[s].Kl && this.hi[s].Kl(t, i, e) }, $getSize: function(t, i) { var e = 0, s = 1e5, n = 1e5, r = 0; this.Nl ? n = 0 : s = 0; var h = 0, o = 0, a = 0; this.ei = []; for (var u = 0; u < this.hi.length; u++)if (!this.hi[u].P.hidden) { var c = this.ei[u] = this.hi[u].$getSize(0, 0); this.hi[u].$nospace ? o++ : this.Nl ? (c[0] > e && (e = c[0]), c[1] < s && (s = c[1]), r += c[2], n += c[3], c[2] == c[3] && -1 != c[2] ? (h += c[2], o++) : a += c[4]) : (c[2] > r && (r = c[2]), c[3] < n && (n = c[3]), e += c[0], s += c[1], c[0] == c[1] && -1 != c[0] ? (h += c[0], o++) : a += c[4]) } n < r && (n = r), s < e && (s = e), this.Jl = [h, this.hi.length - o, a], this.Zl = [e + t, r + i]; var f = zi.api.$getSize.call(this, 0, 0); return 1e5 <= f[1] && (f[1] = 0), 1e5 <= f[3] && (f[3] = 0), f[0] = (f[0] || e) + t, f[1] = Math.max(f[0], (f[1] || s) + t), f[2] = (f[2] || r) + i, f[3] = Math.max(f[2], (f[3] || n) + i), !this.Nl && this.P.responsive && (f[0] = 0), f }, $setSize: function(t, i) { this.Pl = [t, i], zi.api.$setSize.call(this, t, i), this.Ka(t, i) }, Ql: function(t, i, e) { var s = i = t[i]; if (i != (e = t[e])) { var n = this.ed * t[4] / this.sd; if (n < i) s = i, this.sd -= t[4], this.ed -= s; else { if (!(e < n)) return -1; s = e, this.sd -= t[4], this.ed -= s } } return s }, nd: function(t, i) { var e = ai(i); "hide" !== e && e ? (e || (e = ni({ view: "popup", body: [{}] })), t.rd = t.P.width, t.hd = t.P.height, t.od = e.P.id, t.P.width = 0, t.P.height || (t.P.autoheight = !0), ni(t, e, this.jl.length)) : (t.hide(), t.od = "hide"), this.jl.push(t) }, ad: function(t) { var i = t.od; if (t.od = 0, "hide" !== i && i) { t.P.width = t.rd, t.P.height = t.hd, delete t.P.autoheight; for (var e = 0; this.hi[e] && !1 === this.hi[e].P.responsiveCell;)e++; ni(t, this, e) } else t.show(); this.jl.pop() }, ud: function(t) { if (ei._t = !0, t + this.Xa.left + this.Xa.right + this.Ja * (this.hi.length - 1) < this.Zl[0]) for (var i = this.hi.length - 1, e = 0; e < i; e++) { var s = this.hi[e]; if (!s.od) { if (!1 !== s.P.responsiveCell) { this.nd(s, this.P.responsive), y("onResponsiveHide", [s.P.id]), ei.vt = !0; break } i = this.hi.length } } else if (this.jl.length) { var n = this.jl[this.jl.length - 1], r = "hide" == n.od ? 0 : n.rd; n.$getSize(r, 0)[0] + this.Zl[0] + this.Ja + 20 <= t && (this.ad(n), y("onResponsiveShow", [n.P.id]), ei.vt = !0) } ei._t = !1 }, Ka: function(t, i) { ei.dt = (ei.dt || 0) + 1, !this.Nl && this.P.responsive && this.ud(t, i), this.ed = (this.Nl ? i : t) - this.Jl[0], this.sd = this.Jl[2]; for (var e = t, s = i, n = [], r = 0; r < this.hi.length; r++)if (!this.hi[r].P.hidden && this.ei[r]) { var h = this.ei[r]; if (this.Nl) { if ((s = this.Ql(h, 2, 3)) < 0) { n.push({ oldIndex: r, view: this.hi[r] }); continue } } else if ((e = this.Ql(h, 0, 1)) < 0) { n.push({ oldIndex: r, view: this.hi[r] }); continue } this.hi[r].$setSize(e, s) } for (var o = 0; o < n.length; o++) { var a = n[o].oldIndex, u = this.ei[a], c = Math.round(this.ed * u[4] / this.sd); this.ed -= c, this.sd -= u[4], this.Nl ? s = c : e = c, n[o].view.$setSize(e, s) } ei.dt -= 1 }, cd: function(t, i) { var e = this.index(t); return -1 == e ? null : this.hi[e + i] }, fd: function() { return this.hi[0] }
		}, Sn = { api: Mn, view: T.protoUI(Mn, g, zi.view) }, kn = {
			name: "layout", $init: function() { this.Ul = 0 }, defaults: { type: "line" }, El: function() {
				this.ld && (t = this.ld(t)), this.dd || (this.Vt.className += " webix_layout_" + (this.P.type || ""),
					this.dd = 1), this.P.margin !== undefined && (this.Ja = this.P.margin), this.P.padding !== undefined && "object" !== M(this.P.padding) && (this.Xa.left = this.Xa.right = this.Xa.top = this.Xa.bottom = this.P.padding), this.P.paddingX !== undefined && (this.Xa.left = this.Xa.right = this.P.paddingX), this.P.paddingY !== undefined && (this.Xa.top = this.Xa.bottom = this.P.paddingY), "object" === M(this.P.padding) && T.extend(this.Xa, this.P.padding, !0), (this.Xa.left || this.Xa.right || this.Xa.top || this.Xa.bottom) && (this.Xa.defined = !0), this.vd() && !this.P.borderless && (this.Wi.style.borderWidth = "1px", this._d = !0); var t = this.Ll; this.P.borderless && (this.P.Dt = { top: !0, left: !0, right: !0, bottom: !0 }), this.qa(t), Sn.api.El.call(this, t), this.Ga(t)
			}, $getSize: function(t, i) { t = t || 0, i = i || 0; var e = this.Ja * (this.hi.length - this.Ul - 1); if (this._d || this.vd()) { var s = this.P.Dt; s && (t += (s.left ? 0 : 1) + (s.right ? 0 : 1), i += (s.top ? 0 : 1) + (s.bottom ? 0 : 1)) } return this.P.height || (i += this.Xa.top + this.Xa.bottom + (this.Nl ? e : 0)), this.P.width || (t += this.Xa.left + this.Xa.right + (this.Nl ? 0 : e)), Sn.api.$getSize.call(this, t, i) }, $setSize: function(t, i) { this.Pl = [t, i], this.vd() || this._d ? Ri.api.$setSize.call(this, t, i) : zi.api.$setSize.call(this, t, i), i = this.xe, t = this.ge, this.P.scroll && (i = Math.max(i, this.Zl[1]), t = Math.max(t, this.Zl[0])), this.Ka(t, i) }, Ka: function(t, i) { var e = this.Ja * (this.hi.length - this.Ul - 1); return i -= this.Xa.top + this.Xa.bottom, t -= this.Xa.left + this.Xa.right, this.Nl ? i -= e : t -= e, Sn.api.Ka.call(this, t, i) }, resizeChildren: function(t) { if (t) { this.me = null; for (var i = [], e = 0; e < this.hi.length; e++) { var s = this.hi[e]; i[e] = s.P; var n = s.Pl && !s._d || s.P.borderless ? "0px" : "1px"; s.Vt.style.borderTopWidth = s.Vt.style.borderBottomWidth = s.Vt.style.borderLeftWidth = s.Vt.style.borderRightWidth = n } this.qa(i); for (var r = 0; r < i.length; r++)i[r].borderless && this.hi[r].ri && this.hi[r].ri(i[r]); this.Ga(this.hi) } ei._t || Sn.api.resizeChildren.call(this) }, vd: function() { return this.Xa.defined && 0 < this.Ja && !this.pd }, qa: function(t) { if (!this.vd() || this.P.borderless && "space" != this.P.type) { for (var i = 0; i < t.length; i++)t[i].Dt = l(this.P.Dt); var e = !1; this.pd && (e = !0); var s = t.length; if (this.Nl) { for (var n = 1; n < s - 1; n++)t[n].Dt.top = t[n].Dt.bottom = e; if (1 < s) { for ("head" != this.P.type && (t[0].Dt.bottom = e); t[s - 1].hidden && 1 < s;)s--; 0 < s && (t[s - 1].Dt.top = e) } } else { for (var r = 1; r < s - 1; r++)t[r].Dt.left = t[r].Dt.right = e; if (1 < s) { for ("head" != this.P.type && (t[0].Dt.right = e), t[s - 1].Dt.left = e; 1 < s && t[s - 1].hidden;)s--; 0 < s && (t[s - 1].Dt.left = e) } } } else for (var h = 0; h < t.length; h++)t[h].Dt && t[h].borderless || (t[h].Dt = { top: !1, left: !1, right: !1, bottom: !1 }) }, Ga: function(t) { for (var i = 0, e = 0; e < t.length; e++) { var s = this.hi[e], n = s.P.Dt; if (s.P.hidden && this.hi[e + 1]) { var r = this.hi[e + 1].P.Dt; n.top || (r.top = !1), n.left || (r.left = !1), e == i && i++ } this.Xl(s.Vt.style, s.P.Dt) } for (var h = this.Nl ? "marginLeft" : "marginTop", o = this.Nl ? "marginTop" : "marginLeft", a = this.Nl ? this.Xa.left : this.Xa.top, u = this.Nl ? this.Xa.top : this.Xa.left, c = 0; c < t.length; c++)this.hi[c].Vt.style[h] = a + "px"; this.hi.length && (this.hi[i].Vt.style[o] = u + "px"); for (var f = i + 1; f < t.length; f++)this.hi[f].Vt.style[o] = this.Ja + "px" }, type_setter: function(t) { return this.Ja = "undefined" != typeof this.bd[t] ? this.bd[t] : this.bd.line, this.Xa.left = this.Xa.right = this.Xa.top = this.Xa.bottom = "undefined" != typeof this.bd[t] ? this.md[t] : this.md.line, this.pd = "material" == t || "clean" == t, "material" == t && (this.P.borderless = !0), t }, $skin: function() { this.bd = Oi.layoutMargin, this.md = Oi.layoutPadding }
		}, Cn = T.protoUI(kn, Sn.view), $n = { api: kn, view: Cn }; Cn.call(-1); var Dn = {
			name: "daterange", defaults: { button: !1, icons: !1, calendarCount: 2, borderless: !1 }, $init: function(t) {
				t.calendar = t.calendar || {}, t.value = this.$prepareValue(t.value), delete t.calendar.type, this.Vt.className += " webix_daterange", this.gd = this.wd[t.calendar.type] || 0; for (var i = [], e = Oi.calendar, s = e && e.height ? e.height : 0, n = e && e.width ? e.width : 0, r = s || 250, h = n || 250, o = T.extend({ view: "calendar", width: n, height: s }, t.calendar || {}, !0), a = t.calendarCount = 0 === this.gd && t.calendarCount || this.defaults.calendarCount, u = (o.css ? o.css + " " : "") + "webix_range_", c = t.value.start || new Date, f = 0; f < a; f++) {
					var l = rn.copy(c); l.setDate(1), l = rn.add(l, this.xd[this.gd] * f, "month"), T.extend(o, {
						events: S(this.yd, this), css: u + (
							1 === a ? "" : 0 === f ? "0" : f + 1 == a ? "N" : "1"), monthSelect: 0 === f || f + 1 === a, timepicker: 0 === this.gd && t.timepicker, borderless: !0, date: l
					}, !0), i.push(_(o))
				} t.rows = [{ type: "clean", cols: i }], (t.button || t.icons) && t.rows.push(this.Md(t, h * a)), t.height = V(t.height) ? r + (t.icons || t.button ? 30 : 0) : t.height, t.width = V(t.width) ? h * a : t.width, t.type = "line", this.$ready.push(this.Sd), Zt(this.$view, "keydown", S(function(t) { this.Ce(t.which || t.keyCode, t) }, this))
			}, value_setter: function(t) { return this.$prepareValue(t) }, getValue: function() { return this.P.value }, setValue: function(t, i, e) { t = this.$prepareValue(t); var s = (this.P.value = t).start || t.end || new Date; if (!e) { this.kd[0].showCalendar(t.start); for (var n = 1; n < this.kd.length; n++)this.kd[n].P.date = s, this.Cd(this.kd[n], 1, n) } this.callEvent("onChange", [t, i]), this.refresh() }, refresh: function() { for (var t = 0; t < this.kd.length; t++)if (this.kd[t].gd === this.gd) { St(this.kd[t].$view, "webix_cal_timepicker"), St(this.kd[t].$view, "webix_range_timepicker"); var i = this.$d(this.kd[t].getVisibleDate()); if (i.start || i.end) { if (this.kd[t].P.date = i.start || i.end, this.P.timepicker) { var e = "webix_" + (i.start && i.end ? "range" : "cal") + "_timepicker"; Mt(this.kd[t].$view, e) } } else rn.datePart(this.kd[t].P.date); this.kd[t].refresh() } }, addToRange: function(t, i) { var e = this.Dd(this.Id(t)); this.setValue(e, i) }, Ad: [{ template: function() { return "<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>" + A.calendar.today + "</span>" }, on_click: { webix_cal_icon_today: function() { var t = new Date; this.P.timepicker || (t = rn.datePart(t)), this.addToRange(t, "user"), this.callEvent("onTodaySet", [this.getValue()]) } } }, { template: function() { return "<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>" + A.calendar.clear + "</span>" }, on_click: { webix_cal_icon_clear: function() { this.setValue("", "user"), this.callEvent("onDateClear", []) } } }], Fd: function(t) { if (t) { t = "object" == M(t) ? t : this.Ad; for (var i = { css: "webix_cal_footer ", borderless: !0, template: "<div class='webix_cal_icons'>", onClick: {} }, e = 0; e < t.length; e++) { if (t[e].template) { var s = "function" == typeof t[e].template ? t[e].template : qt(t[e].template); i.template += s.call(this) } if (t[e].on_click) for (var n in t[e].on_click) i.onClick[n] = S(t[e].on_click[n], this) } return i.template += "</div>", i.width = kt(i.template).width + 30, i } return { width: 0 } }, Md: function(t, i) { var e = { view: "button", value: A.calendar.done, minWidth: 100, maxWidth: 230, align: "center", click: function() { this.getParentView().getParentView().hide() } }, s = this.Fd(t.icons), n = { css: "webix_range_footer", height: 30, cols: [{ width: s.width }] }; return (t.button || t.icons) && 2 * s.width + e.minWidth > i && (n.cols[0].width = 0), n.cols.push(t.button ? e : {}), n.cols.push(s), n }, wd: { time: -1, month: 1, year: 2 }, xd: { 0: 1, 1: 12, 2: 120 }, $prepareValue: function(t) { return t || (t = { start: null, end: null }), t.start || t.end || (t = { start: t }), t.end = this.Id(t.end) || null, t.start = this.Id(t.start) || null, (t.end && t.end < t.start || !t.start) && (t.end = [t.start, t.start = t.end][0]), t }, Id: function(t) { return "string" == typeof t && (t = A.parseFormatDate(t)), isNaN(1 * t) ? null : t }, yd: function(t, i) { if (!i) { var e = this.P.value, s = e.start ? rn.datePart(rn.copy(e.start)) : null, n = e.end ? rn.datePart(rn.copy(e.end)) : null, r = rn.datePart(t), h = rn.add(r, 1, "day", !0), o = rn.add(r, -1, "day", !0), a = ""; return s <= r && n && r <= n && (a = "webix_cal_range", rn.equal(o, s) && (a += " webix_cal_range_first"), rn.equal(h, n) && (a += " webix_cal_range_last")), rn.equal(r, s) && (a = "webix_cal_range_start"), rn.equal(r, n) && (a = "webix_cal_range_end"), a + " " + (rn.isHoliday(t) + " " || "") } }, Sd: function() { var t = this.kd = this.getChildViews()[0].getChildViews(), e = this, i = this.config.id; this.Td = {}; for (var s = 0; s < t.length; s++)t[s].config.master = i, t[this.Td[t[s].config.id] = s].attachEvent("onBeforeDateSelect", function(t) { return e.Vd(this, t) }), t[s].attachEvent("onBeforeZoom", function(t) { return e.zd(this, t) }), 0 !== s && s !== t.length - 1 || (t[s].attachEvent("onAfterMonthChange", S(this.Bd, this)), t[s].attachEvent("onAfterZoom", function(t, i) { e.Hd(this, t, i) })); this.P.timepicker && this.refresh() }, zd: function(t, i) {
				var e = this.Rd(t.config.id); if (0 <= i && 0 < e && e !== this.kd.length - 1) return !1; if (-1 === i) {
					var s = this.$d(t.getVisibleDate()); s.start && s.end && (
						t.P.date = s[this.Ed])
				} return !0
			}, Bd: function(t, i) { var e = i < t ? 1 : -1, s = i < t ? this.kd[this.kd.length - 1] : this.kd[0], n = s.jd[s.gd].Pd; this.Nd(e, n, s), this.refresh() }, Hd: function(t, i, e) { var s = t.jd[t.gd].Pd, n = this.Rd(t.config.id), r = 0 === n ? 1 : -1; if (this.kd[n + r]) { var h = this.kd[n + r].P.date; if (i < e && 0 <= i) { var o = 0; if (1 === i) { var a = h.getFullYear(); (this.gd || -1 === r && 11 === h.getMonth() || 1 === r && 0 === h.getMonth()) && (a -= r), o = t.P.date.getFullYear() - a } else if (0 === i) { var u = h.getMonth() - r; 12 !== u && -1 != u || (u = -1 === u ? 11 : 0), o = t.P.date.getMonth() - u } this.Nd(o, s, t), this.refresh() } } }, Cd: function(t, i, e) { t.blockEvent(), 0 <= t.gd && t.Ld(i, e), t.unblockEvent() }, Rd: function(t) { return this.Td[t] }, Nd: function(t, i, e) { for (var s = 0; s < this.kd.length; s++) { var n = this.kd[s]; e && n.config.id === e.config.id || this.Cd(n, t, i) } }, $d: function(t) { var i = this.P.value, e = {}; return i.start && i.start.getYear() === t.getYear() && i.start.getMonth() === t.getMonth() && (e.start = i.start), i.end && i.end.getYear() === t.getYear() && i.end.getMonth() === t.getMonth() && (e.end = i.end), e }, Od: function(t, i) { t.setHours(i.getHours()), t.setMinutes(i.getMinutes()), t.setSeconds(i.getSeconds()), t.setMilliseconds(i.getMilliseconds()) }, Dd: function(t, i) { var e = _(this.P.value); 0 === this.gd || V(i) ? e.start && !e.end ? e.end = t : (e.start = t, e.end = null) : e[i ? "end" : "start"] = t; return e }, Vd: function(t, i) { if (this.callEvent("onBeforeDateSelect", [i])) { var e = this.P.value; if (t.gd < 0) { var s, n = _(this.$d(i)); (s = n.start && n.end ? n[this.Ed] : n.start || n.end) && this.Od(s, i), t.gd = 0, e = T.extend(_(e), n, !0) } else { var r = t.getVisibleDate(), h = this.Rd(t.config.id); if (i.getMonth() !== r.getMonth() && (0 === h || h === this.kd.length - 1)) { var o = r < i ? 1 : -1; this.Nd(o, 1) } e = this.Dd(i, h) } t.gd !== this.gd && t.showCalendar(i), this.setValue(e, "user", !0), this.callEvent("onAfterDateSelect", [this.getValue()]) } return !1 }
		}, In = { api: Dn, view: T.protoUI(Dn, $n.view) }; yn.excelFilter = { getValue: function(t) { var i = this.Wd(t); if (i) return i.getValue() }, setValue: function(t, i) { var e = this.Wd(t); e && (i = i || {}, e.setValue(i), this.Ud(i, t)) }, $icon: !0, refresh: function(t, i, e) { var s = this; if (!t.$destructed) { (e.node = i).$webix = e.filter, t.registerFilter(i, e, this); var n = ai(e.filter), r = n.getBody(), h = this.Fl(t, e); r.clearAll(), r.parse(h), e.value ? this.setValue(i, e.value) : e.compare = function() { return !0 }, i.onclick = function(t) { -1 === t.target.className.indexOf("webix_excel_filter") || n.isVisible() || n.show(s.Yd(i, n)) } } }, render: function(t, n) { var i = this; if (!n.filter) { n.template && (n.template = qt(n.template)); var e = ni({ view: "popup", body: T.extend(n.filterConfig || {}, { view: "filter", mode: n.mode, field: "value", template: function(t, i) { var e = t.value; return e !== undefined && null !== e || (e = ""), n.format && (e = n.format(e)), n.template && (e = n.template(t, i, e)), e } }, !0) }), r = e.getBody(); r.attachEvent("onChange", function() { var s = r.getFilterFunction(); n.compare = function(t, i, e) { return s({ value: e[n.columnId] }) }, t.filterByAll(), n.value && i.Ud(n.value, n.node) }), t.attachEvent("onScrollX", function() { return e.hide() }), n.originText = n.text || "", n.filter = e.P.id, t.Bt.push(e) } return n.css = (n.css || "") + " webix_ss_excel_filter", "<span class='webix_excel_filter webix_icon wxi-filter'></span>" + n.originText }, Yd: function(t, i) { var e = bt(t); return { x: e.x + e.width - i.$width, y: e.y + e.height } }, Ud: function(t, i) { t.includes || t.condition && t.condition.filter ? Mt(i, "webix_ss_filter_active", !0) : St(i, "webix_ss_filter_active") }, Wd: function(t) { var i = ai(t.$webix); return i ? i.getBody() : null }, Fl: function(t, i) { return i.options ? t.Vl.call(i.options, "id", "value") : t.collectValues(i.columnId, i.collect) } }, yn.serverExcelFilter = T.extend({ $server: !0 }, yn.excelFilter), yn.richSelectFilter = {
			getInputNode: function(t) { return ai(t.$webix) || null }, getValue: function(t, i) { var e = this.getInputNode(t); return i && e && e.getText ? e.getText() : e ? e.getValue() : "" }, setValue: function(t, i) { var e = this.getInputNode(t); return e ? e.setValue(i) : "" }, compare: function(t, i) { return t == i }, refresh: function(t, i, e) {
				if (!t.$destructed) {
					var s = ai(e.richselect); if (!s.$view.parentNode) lt("div", { "class": "webix_richfilter" }).appendChild(s.$view); i.$webix = e.richselect, e.compare = e.compare || this.compare, e.prepare = e.prepare || this.prepare, t.registerFilter(i, e, this); var n = yn.Fl(t, e), r = s.getPopup(
					).getList(); if (i.appendChild(s.$view.parentNode), r.parse && (r.clearAll(), r.parse(n), !this.$noEmptyOption && !1 !== e.emptyOption || e.emptyOption)) { var h = { id: "$webix_empty", value: e.emptyOption || "", $empty: !0 }; r.add(h, 0) } s.render(), e.value && this.setValue(i, e.value), k(s.resize, s)
				}
			}, render: function(t, i) { if (!i.richselect) { var e = { container: lt("div", { "class": "webix_richfilter" }), view: this.inputtype, options: [] }, s = T.extend(this.inputConfig || {}, i.inputConfig || {}, !0); T.extend(e, s), i.separator && (e.separator = i.separator), i.suggest && (e.suggest = i.suggest); var n = ni(e); n.attachEvent("onChange", function() { t.filterByAll() }), i.richselect = n.P.id, t.Bt.push(n) } return i.css = (i.css || "") + " webix_div_filter", " " }, inputtype: "richselect"
		}, yn.serverRichSelectFilter = T.extend({ $server: !0 }, yn.richSelectFilter), yn.multiSelectFilter = T.extend({ $noEmptyOption: !0, inputtype: "multiselect", prepare: function(t, i) { if (!t) return t; for (var e = {}, s = t.toString().split(i.separator || ","), n = 0; n < s.length; n++)e[s[n]] = 1; return e }, compare: function(t, i) { return !i || i[t] } }, yn.richSelectFilter), yn.serverMultiSelectFilter = T.extend({ $server: !0, Tl: function() { ai(this.Dl).filterByAll() } }, yn.multiSelectFilter), yn.multiComboFilter = T.extend({ inputtype: "multicombo", inputConfig: { tagMode: !1 } }, yn.multiSelectFilter), yn.serverMultiComboFilter = T.extend({ inputtype: "multicombo", inputConfig: { tagMode: !1 } }, yn.serverMultiSelectFilter), yn.datepickerFilter = T.extend({ prepare: function(t) { return t || "" }, compare: function(t, i) { return 1 * t == 1 * i }, inputtype: "datepicker" }, yn.richSelectFilter), yn.columnGroup = { getValue: function(t) { return t.innerHTML }, setValue: function() { }, getHelper: function(t, i) { return { open: function() { i.closed = !0, t.onclick() }, close: function() { i.closed = !1, t.onclick() }, isOpened: function() { return i.closed } } }, refresh: function(e, t, s) { t.onclick = function(t) { xt(t); var i = this.firstChild; s.closed ? (s.closed = !1, i.className = "webix_tree_open") : (s.closed = !0, i.className = "webix_tree_close"), k(function() { e.callEvent("onColumnGroupCollapse", [s.columnId, s.batch, !s.closed]), e.showColumnBatch(s.batch, !s.closed) }) }, s.firstRun || (s.firstRun = 1, s.closed && e.showColumnBatch(s.batch, !1)) }, render: function(t, i) { return "<div role='button' tabindex='0' aria-label='" + A.aria[i.closed ? "openGroup" : "closeGroup"] + "' class='" + (i.closed ? "webix_tree_close" : "webix_tree_open") + "'></div>" + (i.groupText || "") } }, yn.dateRangeFilter = T.extend({ prepare: function(t) { return t.start || t.end ? In.api.$prepareValue(t) : "" }, compare: function(t, i) { return (!i.start || t >= i.start) && (!i.end || t <= i.end) }, inputtype: "daterangepicker" }, yn.richSelectFilter), yn.serverDateRangeFilter = T.extend({ $server: !0 }, yn.dateRangeFilter), G.scrollSize = G.touch || G.$customScroll ? 0 : 17, bi(function() { var t = function s() { var t = lt("div"); t.className = "webix_skin_mark", t.style.cssText = "position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;", document.body.appendChild(t); var i = t.offsetWidth - t.clientWidth, e = { 200: "flat", 210: "compact", 230: "contrast", 240: "material", 250: "mini" }[10 * Math.floor(t.offsetHeight / 10)]; document.body.removeChild(t), e && Ui(e); return G.$customScroll ? 0 : i }(); G.scrollSize = G.touch ? 0 : t }); var An = !1; t("_fixHeight", function jo() { An || (ct("html, body{ height:100%; }"), document.body.className += " webix_full_screen", qi.limit(!1), An = !0) }), ni.animate = function No(t, i, e) { var s = ai(i); if (s) { var n = e || { type: "slide", direction: "left" }, r = s.Vt.cloneNode(!0), h = ni(t, i); h.Vt.parentNode.appendChild(r); var o = Li.formLine(h.Vt, r, n); return n.callback = function() { Li.breakLine(o) }, Li(o, n), h } }, ni.animateView = function Lo(i, t, e) {
			if (i = ai(i)) {
				e = e || { type: "slide", direction: "left" }; for (var s = function(t) { var i = t.Vt, e = i.className, s = i.innerHTML; return "<div class='" + e + "' style='width:" + i.offsetWidth + "px;height:" + i.offsetHeight + "px;'>" + s + "</div>" }, n = [], r = 0; r < i.Vt.childNodes.length; r++) { var h = i.Vt.childNodes[r], o = h.currentStyle ? h.currentStyle.display : getComputedStyle(h, null).display; n.push(o || "") } var a = s(i); "function" == typeof t && t.call(this); for (var u = s(i), c = i.Vt.insertBefore(lt("DIV", { "class": "webix_view_animate", style: "width:" + i.Vt.offsetWidth + "px;height:" + i.Vt.offsetHeight + "px;" }, u + a),
					i.Vt.firstChild), f = 1; f < i.Vt.childNodes.length; f++)i.Vt.childNodes[f].style.display = "none"; var l = Li.formLine(c.childNodes[0], c.childNodes[1], e); return e.callback = function() { if (c) { i.Vt.removeChild(c), c = null; for (var t = 0; t < i.Vt.childNodes.length; t++)i.Vt.childNodes[t].style.display = n[t] } }, Li(l, e), i
			}
		}, ni.freeze = di, ni.resize = vi, ni.zIndex = pi, ni.datafilter = yn, ni.fullScreen = function Oo() { if (G.touch) { At("apple-mobile-web-app-capable", "yes"), At("viewport", "initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no"), G.isMac || ct("body.webix_full_screen{ overflow-y: auto; }"); var t = function() { var t = window.innerWidth, i = window.innerHeight; i && (document.body.style.height = i + "px", document.body.style.width = t + "px"), ei.pt = !1, vi() }, i = function() { ei.pt = !0, k(t, null, [], 500) }; F("onRotate", i), xn(), k(i) } }; A.locales["de-DE"] = { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d.%n.%Y", timeFormat: "%H:%i", longDateFormat: "%j. %F %Y", fullDateFormat: "%j. %F %Y %H:%i", am: null, pm: null, price: "{obj} ", priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 }, calendar: { monthFull: ["Januar", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember"], monthShort: ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez"], dayFull: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], dayShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], hours: "Stunden", minutes: "Minuten", done: "Fertig", clear: "Entfernen", today: "Heute" }, dataExport: { page: "Seite", of: "von" }, PDFviewer: { of: "von", automaticZoom: "Automatisch Zoom", actualSize: "Aktuelles Ausma", pageFit: "Seite Ausma", pageWidth: "Seite Breite", pageHeight: "Seite Hhe", enterPassword: "Passwort eingeben", passwordError: "Falsches passwort" }, aria: { calendar: "Kalender", increaseValue: "Wert erhhen", decreaseValue: "Wert verringern", navMonth: ["Vorheriger Monat", "Nchsten Monat"], navYear: ["Vorheriges Jahr", "Nchstes Jahr"], navDecade: ["Zurck Jahrzehnt", "Als nchstes Jahrzehnt"], dateFormat: "%j. %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: "Stunden: %H", minuteFormat: "Minuten: %i", removeItem: "Element entfernen", pages: ["Erste Seite", "Vorherige Seite", "Folgeseite", "Letzte Seite"], page: "Seite", headermenu: "Titelmen", openGroup: "ffnen Spaltengruppe ", closeGroup: "Schlieen Spaltengruppe ", closeTab: "Tab schlieen", showTabs: "Weitere Tabs", resetTreeMap: "Zurck zur ursprnglichen Ansicht", navTreeMap: "Aufleveln", nextTab: "Weiter tab", prevTab: "Zurck tab", multitextSection: "Element hinzufgen", multitextextraSection: "Element entfernen", showChart: "Chart anzeigen", hideChart: "Chart verstecken", resizeChart: "Chart Gre ndern" }, richtext: { underline: "Unterstreichen", bold: "Fettgedruckt", italic: "Kursiv" }, combo: { select: "Auswhlen", selectAll: "Alles auswhlen", unselectAll: "Alles widerrufen" }, message: { ok: "OK", cancel: "Abbrechen" }, comments: { send: "Absenden", confirmMessage: "Der Kommentar wird entfernt. Sind Sie sicher?", edit: "Redigieren", remove: "Lschen", placeholder: "Geben Sie hier ein..", moreComments: "Mehr Kommentare" }, filter: { less: "weniger", lessOrEqual: "weniger oder gleich", greater: "mehr", greaterOrEqual: "grer oder gleich", contains: "enthlt", notContains: "nicht enthlt", equal: "gleich", notEqual: "ungleich", beginsWith: "beginnt mit", notBeginsWith: "nicht beginnt mit", endsWith: "endet mit", notEndsWith: "nicht endet mit", between: "zwischen", notBetween: "nicht zwischen" }, timeboard: { seconds: "Sekunden" } }, A.locales["es-ES"] = {
			groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d/%n/%Y", timeFormat: "%G:%i", longDateFormat: "%d %F %Y", fullDateFormat: "%d %F %Y %G:%i", am: null, pm: null, price: "{obj} ", priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 }, calendar: {
				monthFull: ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"], monthShort: ["ene", "feb", "mar", "abr", "may", "jun", "jul", "ago", "sep", "oct", "nov", "dic"], dayFull: ["domingo", "lunes", "martes", "mircoles", "jueves", "viernes", "sbado"], dayShort: ["dom", "lun", "mar", "mi", "jue", "vie", "sb"],
				hours: "Horas", minutes: "Minutos", done: "Listo", clear: "Reinicio", today: "Hoy"
			}, dataExport: { page: "Pgina", of: "de" }, PDFviewer: { of: "de", automaticZoom: "Zoom automtico", actualSize: "Tamao real", pageFit: "Tamao de pgina", pageWidth: "Ancho de pgina", pageHeight: "Altura de la pgina", enterPassword: "Introduzca la contrasea", passwordError: "Contrasea incorrecta" }, aria: { calendar: "alendario", increaseValue: "Aumentar el valor", decreaseValue: "Disminuye el valor", navMonth: ["Mes anterior", "Prximo mes"], navYear: ["Ao anterior", "Prximo ao"], navDecade: ["Dcada anterior", "Prxima dcada"], dateFormat: "%d %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: "Horas: %G", minuteFormat: "Minutos: %i", removeItem: "Retire el elemento", pages: ["Primera pgina", "Pagina anterior", "Siguiente pgina", "ltima pgina"], page: "Pgina", headermenu: "Men de ttulos", openGroup: "Grupo de columnas abiertas", closeGroup: "Primer grupo de columnas", closeTab: "Cerrar tab", showTabs: "Mostrar ms tabs", resetTreeMap: "Volver a la vista original", navTreeMap: "Elevar a mismo nivel", nextTab: "Siguiente tab", prevTab: "Tab anterior", multitextSection: "Aadir elemento", multitextextraSection: "Retire el elemento", showChart: "Espectculo chart", hideChart: "Esconder chart", resizeChart: "Cambiar el tamao el chart" }, richtext: { underline: "Subrayar", bold: "Negrita", italic: "Itlico" }, combo: { select: "Seleccionar", selectAll: "Seleccionar todo", unselectAll: "Deselecciona todo" }, message: { ok: "OK", cancel: "Cancelar" }, comments: { send: "Enviar", confirmMessage: "El comentario ser eliminado. Ests seguro?", edit: "Corregir", remove: "Suprimir", placeholder: "Escriba aqu..", moreComments: "Ms comentarios" }, filter: { less: "menos", lessOrEqual: "menor o igual", greater: "mayor", greaterOrEqual: "mayor o igual", contains: "contiene", notContains: "not contiene", equal: "igual", notEqual: "no es igual", beginsWith: "comienza con", notBeginsWith: "no comienza con", endsWith: "termina con", notEndsWith: "no termina con", between: "entre", notBetween: "no entre" }, timeboard: { seconds: "segundos" }
		}, A.locales["fr-FR"] = {
			groupDelimiter: " ", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d/%m/%Y", timeFormat: "%H:%i", longDateFormat: "%d %F %Y", fullDateFormat: "%d.%m.%Y %H:%i", price: "{obj} ", priceSettings: null, calendar: { monthFull: ["Janvier", "Fvrier", "Mars", "Avril", "Mai", "Juin", "Juillet", "Aot", "Septembre", "Octobre", "Novembre", "Dcembre"], monthShort: ["Jan", "Fv", "Mar", "Avr", "Mai", "Juin", "Juil", "Au", "Sep", "Oct", "Nov", "Dc"], dayFull: ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"], dayShort: ["Dim", "Lun", "Mar", "Mer", "Jeu", "Ven", "Sam"], hours: "Heures", minutes: "Minutes", done: "Fini", clear: "Effacer", today: "Aujourd'hui" }, dataExport: { page: "Page", of: "sur" }, PDFviewer: { of: "sur", automaticZoom: "Zoom automatique", actualSize: "Taille actuelle", pageFit: "Taille de la page", pageWidth: "Largeur de la page", pageHeight: "Hauteur de page", enterPassword: "Entrez le mot de passe", passwordError: "Mauvais mot de passe" }, aria: { calendar: "alendrier", increaseValue: "Augmenter la valeur", decreaseValue: "Diminution de la valeur", navMonth: ["Le mois prcdent", "Le mois prochain"], navYear: ["Anne prcdente", "L'anne prochaine"], navDecade: ["Dcennie prcdente", "Suivant dcennie"], dateFormat: "%d %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: "Heures: %H", minuteFormat: "Minutes: %i", removeItem: "Retirer l'lment", pages: ["Premire page", "Page prcdente", "Page suivante", "Dernire page"], page: "Page", headermenu: "Menu de titre", openGroup: "Ouvrir groupe de colonnes ", closeGroup: "Fermer groupe de colonnes", closeTab: "Fermer tab", showTabs: "Montrer plus tabs", resetTreeMap: "Revenir  la vue originale", navTreeMap: "Niveau suprieur", nextTab: "Prochain tab", prevTab: "Prcdent tab", multitextSection: "Ajouter l'lment", multitextextraSection: "Retirer l'lment", showChart: "Montrer chart", hideChart: "Cacher chart", resizeChart: "Redimensionner chart" }, richtext: { underline: "Souligner", bold: "Gras", italic: "Italique" }, combo: { select: "Slectionner", selectAll: "Tout slectionner", unselectAll: "Tout dselectionner" }, message: { ok: "OK", cancel: "Annuler" }, comments: {
				send: "Envoyer",
				confirmMessage: "Le commentaire sera supprim. tes-vous sr?", edit: "Modifier", remove: "Effacer", placeholder: "crivez ici..", moreComments: "Plus de commentaires"
			}, filter: { less: "moins", lessOrEqual: "infrieur ou gal", greater: "plus grand", greaterOrEqual: "suprieur ou gal", contains: "contient", notContains: "ne contient", equal: "gal", notEqual: "pas gal", beginsWith: "commence par", notBeginsWith: "ne commence par", endsWith: "se termine par", notEndsWith: "pas se termine par", between: "entre", notBetween: "pas entre" }, timeboard: { seconds: "secondes" }
		}, A.locales["it-IT"] = { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d/%m/%Y", timeFormat: "%H:%i", longDateFormat: "%j %F %Y", fullDateFormat: "%j %F %Y %H:%i", am: null, pm: null, price: " {obj}", priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 }, calendar: { monthFull: ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre"], monthShort: ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic"], dayFull: ["domenica", "luned", "marted", "mercoled", "gioved", "venerd", "sabato"], dayShort: ["dom", "lun", "mar", "mer", "gio", "ven", "sab"], hours: "Orario", minutes: "Minuti", done: "Pronto", clear: "Pulisci", today: "Oggi" }, dataExport: { page: "Pagina", of: "di" }, PDFviewer: { of: "di", automaticZoom: "Zoom automatico", actualSize: "Dimensione reale", pageFit: "Dimensioni della pagina", pageWidth: "Larghezza della pagina", pageHeight: "Altezza della pagina", enterPassword: "Inserisci la password", passwordError: "Password errata" }, aria: { calendar: "Calendario", increaseValue: "Aumenta il valore", decreaseValue: "Riduci il valore", navMonth: ["Il mese scorso", "Il prossimo mese"], navYear: ["L'anno scorso", "L'anno prossimo"], navDecade: ["Decennio precedente", "Prossimo decennio"], dateFormat: "%j %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: "Orario: %H", minuteFormat: "Minuti: %i", removeItem: "Rimuovere l'elemento", pages: ["Prima pagina", "Pagina precedente", "Pagina successiva", "Ultima pagina"], page: "Pagina", headermenu: "Menu del titolo", openGroup: "Aperto gruppo di colonne", closeGroup: "Chiudi gruppo di colonne", closeTab: "Chiudi tab", showTabs: "Mostra pi tabs", resetTreeMap: "Tornare alla vista originale", navTreeMap: "Livello superiore", nextTab: "Tab successivo", prevTab: "Tab precedente", multitextSection: "Aggiungi elemento", multitextextraSection: "Rimuovere l'elemento", showChart: "Mostrare grafico", hideChart: "Nascondere grafico", resizeChart: "Ridimensionare grafico" }, richtext: { underline: "Sottolineare", bold: "Grassetto", italic: "Corsivo" }, combo: { select: "Selezionare", selectAll: "Seleziona tutto", unselectAll: "Deseleziona tutto" }, message: { ok: "OK", cancel: "Annullare" }, comments: { send: "Inviare", confirmMessage: "Il commento verr rimosso. Sei sicuro?", edit: "Correggere", remove: "Elimina", placeholder: "Digitare qui..", moreComments: "Altri commenti" }, filter: { less: "meno", lessOrEqual: "minore o uguale", greater: "maggiore", greaterOrEqual: "maggiore o uguale", contains: "contiene", notContains: "non contiene", equal: "uguale", notEqual: "non uguale", beginsWith: "inizia con", notBeginsWith: "non inizia con", endsWith: "finisce con", notEndsWith: "non termina con", between: "tra", notBetween: "non tra" }, timeboard: { seconds: "secondi" } }, A.locales["ja-JP"] = {
			groupDelimiter: ",", groupSize: 3, decimalDelimiter: ".", decimalSize: 2, dateFormat: "%Y.%m.%d", timeFormat: "%H:%i", longDateFormat: "%Y%m%d", fullDateFormat: "%Y.%m.%d %H:%i", price: "{obj}", priceSettings: { groupSize: 3, groupDelimiter: ",", decimalDelimiter: "", decimalSize: 0 }, calendar: { monthFull: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"], monthShort: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"], dayFull: ["", "", "", "", "", "", ""], dayShort: ["", "", "", "", "", "", ""], hours: "", minutes: "", done: "", clear: "", today: "" }, dataExport: { page: "", of: "" }, PDFviewer: { of: "", automaticZoom: "", actualSize: "", pageFit: "", pageWidth: "", pageHeight: "", enterPassword: "", passwordError: "" }, aria: {
				calendar: "", increaseValue: "", decreaseValue: "",
				navMonth: ["", ""], navYear: ["", ""], navDecade: ["", "10"], dateFormat: "%Y%m%d", monthFormat: "%Y%m", yearFormat: "%Y", hourFormat: ": %H", minuteFormat: ": %i", removeItem: "", pages: ["", "", "", ""], page: "", headermenu: "", openGroup: "", closeGroup: "", closeTab: "", showTabs: "", resetTreeMap: "", navTreeMap: "", nextTab: "", prevTab: "", multitextSection: "", multitextextraSection: "", showChart: "", hideChart: "", resizeChart: ""
			}, richtext: { underline: "", bold: "", italic: "" }, combo: { select: "", selectAll: "", unselectAll: "" }, message: { ok: "OK", cancel: "" }, comments: { send: "", confirmMessage: ". ", edit: "", remove: "", placeholder: "..", moreComments: "" }, filter: { less: "", lessOrEqual: "", greater: "", greaterOrEqual: "", contains: "", notContains: "", equal: "", notEqual: "", beginsWith: "", notBeginsWith: "", endsWith: "", notEndsWith: "", between: "", notBetween: "" }, timeboard: { seconds: "" }
		}, A.locales["pt-BR"] = { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d/%m/%Y", timeFormat: "%G:%i", longDateFormat: "%d de %F de %Y", fullDateFormat: "%d de %F de %Y %G:%i", am: null, pm: null, price: "R$ {obj}", priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 }, fileSize: ["b", "Kb", "Mb", "Gb", "Tb", "Pb", "Eb"], calendar: { monthFull: ["Janeiro", "Fevereiro", "Maro", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"], monthShort: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"], dayFull: ["Domingo", "Segunda-Feira", "Tera-Feira", "Quarta-Feira", "Quinta-Feira", "Sexta-Feira", "Sbado"], dayShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sb"], hours: "Horas", minutes: "Minutos", done: "Feito", clear: "Limpar", today: "Hoje" }, dataExport: { page: "Pgina", of: "de" }, PDFviewer: { of: "de", automaticZoom: "Zoom automtico", actualSize: "Tamanho atual", pageFit: "Tamanho da pgina", pageWidth: "Largura da pgina", pageHeight: "Altura da pgina", enterPassword: "Digite a senha", passwordError: "Senha incorreta" }, aria: { calendar: "Calendrio", increaseValue: "Aumentar o valor", decreaseValue: "Diminuir o valor", navMonth: ["Ms anterior", "Prximo ms"], navYear: ["Ano anterior", "Prximo ano"], navDecade: ["Dcada anterior", "Prxima dcada"], dateFormat: "%d de %F de %Y", monthFormat: "%F de %Y", yearFormat: "%Y", hourFormat: "Horas: %G", minuteFormat: "Minutos: %i", removeItem: "Remover elemento", pages: ["Primeira pgina", "Pgina anterior", "Prxima pgina", "ltima pgina"], page: "Pgina", headermenu: "Menu de ttulos", openGroup: "Grupo coluna aberta", closeGroup: "Fechar grupo de colunas", closeTab: "Fechar tab", showTabs: "Mostre mais tabs", resetTreeMap: "oltar  vista original", navTreeMap: "Upar", nextTab: "Prximo tab", prevTab: "Anterior tab", multitextSection: "Adicionar elemento", multitextextraSection: "Remover elemento", showChart: "Exposio chart", hideChart: "Esconder chart", resizeChart: "Redimensionar chart" }, richtext: { underline: "Sublinhado", bold: "Negrito", italic: "itlico" }, combo: { select: "Selecionar", selectAll: "Selecionar tudo", unselectAll: "Desmarque todos" }, message: { ok: "OK", cancel: "Cancelar" }, comments: { send: "Enviar", confirmMessage: "Comentrio ser removido. Voc tem certeza?", edit: "Editar", remove: "Excluir", placeholder: "Digite aqui..", moreComments: "Mais comentrios" }, filter: { less: "menos", lessOrEqual: "menor ou igual", greater: "maior", greaterOrEqual: "maior ou igual", contains: "contm", notContains: "no contm", equal: "igual", notEqual: "no  igual", beginsWith: "comea com", notBeginsWith: "no comea com", endsWith: "termina com", notEndsWith: "no termina com", between: "entre", notBetween: "no entre" }, timeboard: { seconds: "segundos" } }, A.locales["zh-CN"] = {
			groupDelimiter: ",", groupSize: 3, decimalDelimiter: ".", decimalSize: 2, dateFormat: "%Y/%m/%j", timeFormat: "%G:%i", longDateFormat: "%Y''%m''%j''", fullDateFormat: "%Y''%m''%j'' %G:%i", am: ["", ""], pm: ["", ""], price: "{obj}", priceSettings: {
				groupDelimiter: ",", groupSize: 3,
				decimalDelimiter: ".", decimalSize: 2
			}, calendar: { monthFull: ["", "", "", "", "", "", "", "", "", "", "", ""], monthShort: ["", "", "", "", "", "", "", "", "", "", "", ""], dayFull: ["", "", "", "", "", "", ""], dayShort: ["", "", "", "", "", "", ""], hours: "", minutes: "", done: "", clear: "", today: "" }, dataExport: { page: "", of: "" }, PDFviewer: { of: "", automaticZoom: "", actualSize: "", pageFit: "", pageWidth: "", pageHeight: "", enterPassword: "", passwordError: "" }, aria: { calendar: "", increaseValue: "", decreaseValue: "", navMonth: ["", ""], navYear: ["", ""], navDecade: ["", ""], dateFormat: "%Y''%m''%j''", monthFormat: "%Y''%m'", yearFormat: "%Y'", hourFormat: ": %G", minuteFormat: ": %i", removeItem: "", pages: ["", "", "", ""], page: "", headermenu: "", openGroup: "", closeGroup: "", closeTab: "", showTabs: "", resetTreeMap: "", navTreeMap: "", nextTab: "", prevTab: "", multitextSection: "", multitextextraSection: "", showChart: "", hideChart: "", resizeChart: "" }, richtext: { underline: "", bold: "", italic: "" }, combo: { select: "", selectAll: "", unselectAll: "" }, message: { ok: "", cancel: "" }, comments: { send: "", confirmMessage: ". ?", edit: "", remove: "", placeholder: "..", moreComments: "" }, filter: { less: "", lessOrEqual: "", greater: "", greaterOrEqual: "", contains: "", notContains: "", equal: "", notEqual: "", beginsWith: "", notBeginsWith: "", endsWith: "", notEndsWith: "", between: "", notBetween: "" }, timeboard: { seconds: "" }
		}, A.locales["ru-RU"] = {
			groupDelimiter: " ", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d.%m.%Y", timeFormat: "%H:%i", longDateFormat: "%d %F %Y", fullDateFormat: "%d.%m.%Y %H:%i", price: "{obj} .", priceSettings: null, calendar: { monthFull: ["", "", "", "", "Ma", "", "", "", "", "O", "", ""], monthShort: ["", "", "Ma", "A", "Ma", "", "", "A", "", "", "", ""], dayFull: ["", "", "", "", "", "", ""], dayShort: ["", "", "", "", "", "", ""], hours: "", minutes: "", done: "oo", clear: "", today: "" }, dataExport: { page: "", of: "" }, PDFviewer: { of: "", automaticZoom: " ", actualSize: " ", pageFit: " ", pageWidth: " ", pageHeight: " ", enterPassword: " ", passwordError: " " }, aria: { calendar: "", increaseValue: " ", decreaseValue: " ", navMonth: [" ", " "], navYear: [" ", " "], navDecade: ["  ", "  "], dateFormat: "%d %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: ": %H", minuteFormat: ": %i", removeItem: " ", pages: [" ", " ", " ", " "], page: "", headermenu: "  ", openGroup: "  ", closeGroup: "  ", closeTab: " ", showTabs: "  ", resetTreeMap: "   ", navTreeMap: "   ", nextTab: " ", prevTab: " ", multitextSection: " ", multitextextraSection: " ", showChart: " ", hideChart: " ", resizeChart: "  " }, richtext: { underline: "", bold: "", italic: "" }, combo: { select: "", selectAll: " ", unselectAll: " " }, message: { ok: "OK", cancel: "" }, comments: { send: "", confirmMessage: "  .  ?", edit: "", remove: "", placeholder: " ..", moreComments: " " }, filter: {
				less: "", lessOrEqual: "  ", greater: "", greaterOrEqual: "  ", contains: "", notContains: " ", equal: "", notEqual: " ", beginsWith: " ",
				notBeginsWith: "  ", endsWith: "", notEndsWith: " ", between: "", notBetween: " "
			}, timeboard: { seconds: "" }
		}, A.locales["be-BY"] = { groupDelimiter: " ", groupSize: 3, decimalDelimiter: ",", decimalSize: 2, dateFormat: "%d.%m.%Y", timeFormat: "%H:%i", longDateFormat: "%d %F %Y", fullDateFormat: "%d.%m.%Y %H:%i", price: "{obj} .", priceSettings: { groupSize: 3, groupDelimiter: " ", decimalDelimiter: "", decimalSize: 0 }, calendar: { monthFull: ["", "", "", "", "", "", "", "", "", "", "", ""], monthShort: ["", "", "", "", "", "", "", "", "", "", "", ""], dayFull: ["", "", "", "", "", "", ""], dayShort: ["", "", "", "", "", "", ""], hours: "", minutes: "", done: "", today: "C", clear: "" }, dataExport: { page: "", of: "" }, PDFviewer: { of: "", automaticZoom: " ", actualSize: " ", pageFit: " ", pageWidth: " ", pageHeight: " ", enterPassword: " ", passwordError: " " }, aria: { calendar: "", increaseValue: " ", decreaseValue: " ", navMonth: [" ", " "], navYear: [" ", " "], navDecade: ["  ", "  "], dateFormat: "%d %F %Y", monthFormat: "%F %Y", yearFormat: "%Y", hourFormat: "Hours: %h", minuteFormat: ": %i", removeItem: " ", pages: [" ", " ", " ", " "], page: "", headermenu: " ", openGroup: "  ", closeGroup: "  ", closeTab: " ", showTabs: "  ", resetTreeMap: "   ", navTreeMap: "   ", nextTab: " ", prevTab: " ", multitextSection: " ", multitextextraSection: " ", showChart: " ", hideChart: " ", resizeChart: "  " }, richtext: { underline: "", bold: "", italic: "" }, combo: { select: "", selectAll: " ", unselectAll: " " }, message: { ok: "", cancel: "" }, comments: { send: "", confirmMessage: "  .  ?", edit: "", remove: "", placeholder: " ..", moreComments: " " }, filter: { less: "", lessOrEqual: "  ", greater: "", greaterOrEqual: "  ", contains: "", notContains: " ", equal: "", notEqual: " ", beginsWith: " ", notBeginsWith: "  ", endsWith: "", notEndsWith: " ", between: "", notBetween: " " }, timeboard: { seconds: "" } }; T.protoUI({ name: "spacer", defaults: { borderless: !0 }, $init: function() { this.Vt.className += " webix_spacer" } }, Ri.view); var Fn = {
			name: "template", $init: function(t) { var i = this.qd[t.type]; i && (i.css && t.css && (this.Vt.className += " " + i.css), T.extend(t, i), t.borderless && (delete t.Dt, this.ri(t))), this.tt == this.Vt ? (this.tt = lt("DIV"), this.tt.className = " webix_template", this.Vt.appendChild(this.tt)) : this.tt.className += " webix_template", this.attachEvent("onAfterRender", this.Gd) }, setValues: function(t, i) { this.data = i ? T.extend(this.data, t, !0) : t, this.render() }, getValues: function() { return this.data }, $skin: function() { this.qd.header.height = Oi.barHeight - 2 * Oi.borderWidth, this.qd.section.height = Oi.barHeight }, qd: { header: { css: "webix_header" }, section: { css: "webix_section", borderless: !0 }, clean: { css: "webix_clean", borderless: !0 } }, onClick_setter: function(t) { return this.on_click = T.extend(this.on_click || {}, t, !0), this.Ou || T.extend(this, He), t }, defaults: { template: qt.empty }, Xd: function() { this.Kd = !1, this.Jd(), this.resize() }, Jd: function() { this.Kd || (this.Kd = !0, this.render()) }, src_setter: function(t) { return this.Kd = !0, this.callEvent("onBeforeLoad", []) ? (E(t, S(function(t) { this.P.template = qt(t), this.Xd(), this.callEvent("onAfterLoad", []) }, this)), t) : "" }, content_setter: function(t) {
				t && (this.Kd = !0,
					this.render = function() { }, this.tt.appendChild(C(t)), this.Gd())
			}, refresh: function() { this.render() }, setHTML: function(t) { this.P.template = function() { return t }, this.refresh() }, setContent: function(t) { this.tt.innerHTML = "", this.content_setter(t) }, $setSize: function(t, i) { if (Ri.api.$setSize.call(this, t, i)) { if (this.Jd(), this.P.autoheight) { var e = this.getTopParentView(); clearTimeout(e.Zd), e.Zd = k(this.resize, this) } return !0 } }, $getSize: function(t, i) { return !this.P.autoheight || this.P.type && "clean" != this.P.type || (this.P.height = this.Qd()), Ri.api.$getSize.call(this, t, i) }, Gd: function() { this.P.autoheight && (this.me = null, this.resize()) }, Qd: function() { var t, i = Oi.layoutPadding.space; return this.Jd(), this.isVisible() ? (this.tt.style.height = "auto", t = this.tt.scrollHeight, this.tt.style.height = "") : t = kt(this.Q(this.data) || this.tt.innerHTML, "webix_template", (this.$width || (this.getParentView() ? this.getParentView().$width : 0)) - i).height, t }, Sc: !0
		}, Tn = { api: Fn, view: T.protoUI(Fn, Le, ji, Rt, Gt, g, Ri.view) }, Vn = { name: "scrollview", defaults: { scroll: "y", scrollSpeed: "300ms" }, $init: function() { this.Vt.className += " webix_scrollview" }, body_setter: function(t) { t.borderless = !0, (ei.bt = this).$t = ni.Ht(t), this.tt.appendChild(this.$t.Vt) }, getChildViews: function() { return [this.$t] }, getBody: function() { return this.$t }, resizeChildren: function() { this.$t && (this.Zl = this.$t.$getSize(0, 0), this.tv(), y("onResize", [])) }, tv: function() { var t = Math.max(this.ge, this.Zl[0]), i = Math.max(this.xe, this.Zl[2]); if (this.$t.$setSize(t, i), G.touch) { var e = this.getScrollState(), s = this.$t.xe - this.xe; s < e.y && this.scrollTo(null, s) } ei.vt && (ei.vt = !1, this.Zl = this.$t.$getSize(0, 0), this.tv()) }, $getSize: function(t, i) { var e = this.Zl = this.$t.$getSize(0, 0), s = Ri.api.$getSize.call(this, t, i), n = this.iv || G.scrollSize; return "x" == this.P.scroll ? (s[2] = Math.max(s[2], e[2]) + n, s[3] = Math.min(s[3], e[3]) + n) : "y" == this.P.scroll && (s[0] = Math.max(s[0], e[0]) + n, s[1] = Math.min(s[1], e[1]) + n), s }, $setSize: function(t, i) { var e = G.scrollSize; G.scrollSize = this.iv || e, (Ri.api.$setSize.call(this, t, i) || ei.Jt) && this.tv(), G.scrollSize = e }, scroll_setter: function(t) { var i = G.$customScroll; return "string" == typeof t && 0 === t.indexOf("native-") && (this.iv = 17, t = t.replace("native-", ""), G.$customScroll = !1), t = Le.scroll_setter.call(this, t), G.$customScroll = i, t }, Ft: function(t) { this.$t.destructor(), this.$t = t, this.tt.appendChild(this.$t.Vt), this.resizeChildren() }, showView: function(t) { var i = ai(t).$view.offsetTop - ai(t).$view.parentNode.offsetTop; this.scrollTo(0, i) } }, zn = (T.protoUI(Vn, Le, g, Ri.view), T.protoUI({ name: "iframe", $init: function() { this.tt = this.Wi, this.Wi.innerHTML = "<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\"view_id\")); if (t) t.callEvent(\"onAfterLoad\",[]);' src='about:blank'></iframe>" }, load: function(t) { this.src_setter(t) }, src_setter: function(t) { return this.callEvent("onBeforeLoad", []) ? this.getIframe().src = t : "" }, getIframe: function() { return this.Wi.getElementsByTagName("iframe")[0] }, getWindow: function() { return this.getIframe().contentWindow } }, Ri.view, g), {
			name: "accordion", defaults: { panelClass: "accordionitem", multi: !1, collapsed: !1 }, $init: function() { this.Vt.setAttribute("role", "tablist"), this.Vt.setAttribute("aria-multiselectable", "true") }, Ft: function(t) { $n.api.Ft.apply(this, arguments), t.collapsed_setter && t.refresh && t.refresh() }, El: function() { for (var t = this.P.panelClass, i = this.Ll, e = 0; e < i.length; e++)!i[e].body && !i[e].header || i[e].view || i[e].align || (i[e].view = t), V(i[e].collapsed) && (i[e].collapsed = this.P.collapsed); this.ev = !0, $n.api.El.call(this), this.ev = !1; for (var s = 0; s < this.hi.length; s++)this.hi[s].name == t && this.hi[s].refresh(), this.hi[s].sv = !1; for (var n = !1, r = this.hi.length - 1; 0 <= r && !n; r--)this.hi[r].P.hidden || (n = this.hi[r].sv = !0) }, nv: function(t) { if (!1 === this.P.multi && !0 !== this.ev) for (var i = 0; i < this.hi.length; i++)t != this.hi[i] && !this.hi[i].P.collapsed && this.hi[i].collapse && this.hi[i].collapse(); t.callEvent && (t.callEvent("onViewShow", []), _i(t, this.ke)) }, rv: function(t) {
				if (!0 === this.P.multi || this.ev) return !0; for (var i = 0; i < this.hi.length; i++)if (t != this.hi[i] && !this.hi[i].P.collapsed && this.hi[i].isVisible() && !this.hi[i].$nospace
				) return !0; return !1
			}, $skin: function() { $n.api.$skin.call(this), Oi.accordionType && (this.defaults.type = Oi.accordionType) }
		}), Bn = { api: zn, view: T.protoUI(zn, $n.view) }, Hn = (T.protoUI({ name: "headerlayout", defaults: { type: "accordion", multi: "mixed", collapsed: !1 } }, Bn.view), {
			name: "accordionitem", $init: function(t) { this.Vt.innerHTML = "<div tabindex='0' webix_ai_id='" + t.id + "'  class='webix_accordionitem_header'><div class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>", this.Wi = this.Vt, this._n = this.Wi.childNodes[0], t.header || (this._n.style.display = "none"), this.hv = this.Wi.childNodes[0].childNodes[1], this.ov = this.Wi.childNodes[0].childNodes[0], this.Fn = this.Wi.childNodes[1], this.Vt.className += " webix_accordionitem", this.Tn = this.$t = null, this.hi = !0, this.Fn.setAttribute("role", "tabpanel"), this._n.setAttribute("role", "tab"), this.attachEvent("onKeyPress", this.Ce) }, Tt: function() { this.body_setter() }, Ft: function(t) { this.$t.destructor(), this.$t = t, this.Fn.appendChild(this.$t.Vt), this.resize() }, ea: "webix_ai_id", getChildViews: function() { return [this.$t] }, body_setter: function(t) { return "object" != M(t) && (t = { template: t }), t.Dt = { top: !0, left: !0, right: !0, bottom: !0 }, (ei.bt = this).$t = ni.Ht(t), this.Fn.appendChild(this.$t.Vt), t }, header_setter: function(t) { return t && (t = qt(t)), t }, headerAlt_setter: function(t) { return t && (t = qt(t)), t }, $getSize: function(t, i) { var e = this.$t.$getSize(0, 0), s = this.P.Dt; s && (t += (s.left ? 0 : 1) + (s.right ? 0 : 1), i += (s.top ? 0 : 1) + (s.bottom ? 0 : 1)); var n = 0, r = zi.api.$getSize.call(this, 0, 0); r[0] = (r[0] || e[0]) + t, 1e5 <= r[1] && (r[1] = e[1]), r[1] += t, r[2] = (r[2] || e[2]) + i; var h = r[3] < 1e5; return h || (r[3] = e[3]), r[3] += i, this.getParentView().Nl ? this.P.collapsed ? r[2] = r[3] = this.av() + i : this.P.header && (n = this.P.headerHeight) : (this.P.collapsed && (r[0] = r[1] = this.av() + t), this.P.header && (n = this.P.headerHeight)), h || (r[2] += n, r[3] += n), r }, on_click: { webix_accordionitem_header: function(t) { return this.uv(t), !1 }, webix_accordionitem_header_v: function(t) { return this.uv(t), !1 } }, uv: function() { this.define("collapsed", !this.P.collapsed) }, collapsed_setter: function(t) { if (!1 !== this.P.header) { var i = this.getParentView(); if (i) { if (t) if (i.rv(this)) this.cv(); else { var e = 0; if (1 < i.hi.length) for (var s = 0; s < i.hi.length; s++) { var n = i.hi[s]; if (this != n && n.isVisible() && n.expand) { n.expand(), this.cv(), e = 1; break } } if (!e) return } else this.fv(); (this.P.collapsed = t) || i.nv(this), this.refresh(), ei.gt || this.resize(), i.callEvent("onAfter" + (t ? "Collapse" : "Expand"), [this.P.id]), this.P.$noresize = t } return t } }, collapse: function() { this.define("collapsed", !0), Si.yi(this) }, expand: function() { this.define("collapsed", !1) }, Me: function() { this.show() }, Bi: function() { this.hide() }, fv: function() { this.Fn.style.display = "", St(this.$view, "collapsed"), St(this._n, "collapsed"), this._n.setAttribute("aria-expanded", "true") }, cv: function() { this.P.headerAlt && (this.hv.innerHTML = this.P.headerAlt()), this.Fn.style.display = "none", Mt(this.$view, "collapsed"), Mt(this._n, "collapsed"), this._n.setAttribute("aria-expanded", "false") }, refresh: function() { var t = this.P[this.P.collapsed ? "headerAlt" : "header"] || this.P.header; t && (this.hv.innerHTML = t(), this.ov.setAttribute("aria-label", t())); var i = this.getParentView().Nl ? "vertical" : "horizontal"; this.Vt.className.indexOf(" " + i) < 0 && Mt(this.Vt, i), G.transform || Mt(this.Vt, "webix_ie", !0) }, av: function() { return this.P.collapsed ? this.P.headerAltHeight : this.P.headerHeight }, $setSize: function(t, i) {
				if (Ri.api.$setSize.call(this, t, i) || this.av() != this.lv) { t = this.ge, i = this.xe; var e = this.lv = this.av(); if (this.P.header) if (this._n.style.height = e + "px", this._n.style.width = "auto", this._n.style[G.transform] = "", this._n.style.borderBottomWidth = (this.P.collapsed ? 0 : 1) + "px", this.getParentView().Nl || !this.P.collapsed) i -= this.av(); else if (this.P.collapsed) if (Li.isSupported()) { this._n.style.width = i + "px", this._n.style.height = t + 3 + "px"; var s = Math.floor(i / 2 - t / 2) + (t - this.P.headerAltHeight) / 2; this._n.style[G.transform] = "rotate(90deg) translate(" + s + "px, " + (s + 1) + "px)" } else this._n.style.width = t + "px", this._n.style.height = i + 3 + "px"; this.P.collapsed || (this.$t.$setSize(t, i), this.dv = i) } else if (
					!this.P.collapsed) { var n = this.$t; this.dv && n.$setSize(this.ge, this.dv) }
			}, $skin: function() { this.defaults.headerAltHeight = this.defaults.headerHeight = Oi.barHeight - 2 * Oi.borderWidth }, defaults: { header: !1, headerAlt: !1, body: "" }
		}), Rn = (T.protoUI(Hn, He, g, Ri.view), { name: "resizearea", defaults: { dir: "x" }, $init: function(t) { var i = t.dir || "x", e = C(t.container), s = "x" == i ? "width" : "height", n = t.margin ? t.margin + "px" : 0; this.vv = "x" == i ? "left" : "top", this.Vt = lt("DIV", { "class": "webix_resize_area webix_dir_" + i }), Zt(this.Vt, G.mouse.down, xt), n && (n = "x" == i ? n + " 0 " + n : "0 " + n + " 0 " + n), this._v = lt("DIV", { "class": "webix_resize_handle_" + i, style: n ? "padding:" + n : "" }, "<div class='webix_handle_content'></div>"), this.pv = lt("DIV", { "class": "webix_resize_origin_" + i }), t[s] && (this.pv.style[s] = t[s] + (t.border ? 1 : 0) + "px", this._v.style[s] = t[s] + "px"), t.cursor && (this._v.style.cursor = this.pv.style.cursor = this.Vt.style.cursor = t.cursor), this.bv = Qt(e, G.mouse.move, this.mv, { bind: this }), this.gv = Qt(document.body, G.mouse.up, this.wv, { bind: this }), this._v.style[this.vv] = this.pv.style[this.vv] = t.start + "px", e.appendChild(this.Vt), e.appendChild(this._v), e.appendChild(this.pv) }, wv: function() { this.callEvent("onResizeEnd", [this.xv]), ti(this.bv), ti(this.gv), vt(this.Vt), vt(this._v), vt(this.pv), this.Vt = this._v = this.pv = null }, mv: function(t) { var i = gt(t); this.xv = ("x" == this.P.dir ? i.x : i.y) + this.P.start - this.P.eventPos, this._v.style[this.vv] = this.xv + "px", this.callEvent("onResize", [this.xv]) } }), En = (T.protoUI(Rn, g, ki), {
			name: "resizer", defaults: { width: 7, height: 7 }, $init: function(t) { this.getParentView(), this.Vt.className += " webix_resizer"; var i = this.getParentView().Ja; Zt(this.Vt, G.mouse.down, this.yv, { bind: this }); var e = this.Mv(); this.Sv = !1, this.kv = e, this.Cv = "x" == e ? "width" : "height", "x" == e ? t.height = 0 : t.width = 0, 0 < i ? (this.Vt.className += " webix_resizer_v" + e, this.Vt.style.marginRight = "-" + i + "px", "x" == e ? t.width = i : t.height = i, this.$nospace = !0) : this.Vt.className += " webix_resizer_" + e, this.Vt.innerHTML = "<div class='webix_resizer_content'></div>", "y" == e && 0 < i && (this.Vt.style.marginBottom = "-" + (t.height || this.defaults.height) + "px"), this.Vt.setAttribute("webix_disable_drag", "true"), this.Vt.setAttribute("tabindex", "-1"), this.Vt.setAttribute("aria-grabbed", "false") }, yv: function(t) { var i = this, e = this.$v(); if (e && !this.P.disabled) { t = t || window.event, this.Sv = !0, this.Dv = gt(t), this.Iv = [], this.Vt.setAttribute("aria-grabbed", "true"); for (var s = 0; s < 2; s++)e[s].$view.setAttribute("aria-dropeffect", "move"); this.Vt.setAttribute("aria-dropeffect", "move"), this.Av(t, e[0]); var n = Qt(document.body, G.mouse.up, function(t) { return ti(n), i.Fv(t) }) } }, Fv: function() { this.Sv = !1, this.Dv = !1 }, Av: function(t, i) { var e, s, n, r, h; t = t || window.event, e = this.kv, this.getParentView().Vt.style.position = "relative", n = bt(this.Vt), r = bt(this.getParentView().Vt), h = n[e] - r[e], s = bt(i.$view)[e] - bt(this.getParentView().$view)[e], this.Tv = [e, i, h, s], this.Vv = new ni.resizearea({ container: this.getParentView().Vt, dir: e, eventPos: this.Dv[e], start: h - 1, height: this.$height, width: this.$width, border: 1, margin: this.getParentView().Xa["x" === e ? "left" : "top"] }), this.Vv.attachEvent("onResizeEnd", S(this.zv, this)), this.Vv.attachEvent("onResize", S(this.Bv, this)), Mt(document.body, "webix_noselect", 1) }, Mv: function() { return this.getParentView().Nl ? "y" : "x" }, Bv: function() { var t, i, e, s, n, r, h, o, a; if (this.Tv) for (t = this.$v(), s = this.Tv[0], e = this.Vv.xv - this.Tv[2], o = this.Hv(t, s, e), a = t[0]["$" + this.Cv] + t[1]["$" + this.Cv], n = 0; n < 2; n++) { i = n ? -e : e, r = t[n].$getSize(0, 0); var u = "y" == s ? r[2] : r[0], c = "y" == s ? r[3] : r[1]; if (u === c && (u = t[n].P["y" == s ? "minHeight" : "minWidth"] || 3, c = t[n].P["y" == s ? "maxHeight" : "maxWidth"] || 1e5), 0 < i && c && c <= o[n] || i < 0 && u && u >= o[n]) return this.Iv[n] = 0 < i ? c : u, h = this.Rv(t, s), void (this.Vv._v.style["y" == s ? "top" : "left"] = this.Tv[3] + h[0] + "px"); o[n] < 3 ? this.Vv._v.style["y" == s ? "top" : "left"] = this.Tv[3] + n * a + 1 + "px" : this.Iv[n] = null } }, $v: function() { var t, i, e; for (t = this.getParentView().hi, i = 0; i < t.length; i++)if (t[i] == this) return (e = [this.Ev(t, i, 1, -1), this.Ev(t, i, 1, 1)])[0] && e[1] || (e = null), e }, Ev: function(t, i, e, s) { var n = t[i + s * e]; return n && n.P.hidden ? this.Ev(t, i, e + 1, s) : n && n.P.$noresize ? null : n }, zv: function(t) {
				if (void 0 !== t) {
					var i, e, s, n,
					r = this.getParentView().Nl; if (this.Pv = null, this.Tv) { if (e = this.Tv[0], s = t - this.Tv[2], (i = this.$v())[0] && i[1]) { n = this.jv(i, e, s); for (var h = 0; h < 2; h++) { var o = i[h].$getSize(0, 0); if (r ? o[2] == o[3] : Math.abs(o[1] - o[0]) < 3) i[h].P[this.Cv] = n[h], i[h].Kl && i[h].Kl(this.Cv, n[h], r); else { var a = i[h].$view[r ? "offsetHeight" : "offsetWidth"]; i[h].P.gravity = n[h] / a * i[h].P.gravity } } i[0].resize(); for (var u = 0; u < 2; u++)i[u].callEvent && i[u].callEvent("onViewResize", []), i[u].$view.removeAttribute("aria-dropeffect"); y("onLayoutResize", [i]) } this.Tv = !1 } this.Tv = !1, this.Sv = !1, this.Iv = null, St(document.body, "webix_noselect"), this.Vt.setAttribute("aria-grabbed", "false"), this.Vt.removeAttribute("aria-dropeffect")
				}
			}, Rv: function(t) { var i, e, s; return s = t[0]["$" + this.Cv] + t[1]["$" + this.Cv], this.Iv[0] ? e = s - (i = this.Iv[0]) : this.Iv[1] && (i = s - (e = this.Iv[1])), [i, e] }, Hv: function(t, i, e) { for (var s = [], n = "height" == this.Cv ? "offsetHeight" : "offsetWidth", r = 0; r < 2; r++)s[r] = t[r].$view[n] + (r ? -1 : 1) * e; return s }, jv: function(t, i, e) { var s, n, r; if (this.Iv[0] || this.Iv[1]) n = this.Rv(t, i); else for (n = this.Hv(t, i, e), s = 0; s < 2; s++)n[s] < 0 && (r = n[0] + n[1], n[s] = 1, n[1 - s] = r - 1); return n }
		}), Pn = (T.protoUI(En, He, Ci, Ri.view), { name: "align", defaults: { borderless: !0, left: 0, top: 0, right: 0, bottom: 0 }, $init: function() { this.Vt.className += " webix_view_align" }, Tt: function() { this.body_setter({}) }, Ft: function(t) { this.$t.destructor(), this.$t = t, this.Vt.appendChild(this.$t.Vt), this.resize() }, getChildViews: function() { return [this.$t] }, body_setter: function(t) { return t.Dt = { top: !1, left: !1, right: !1, bottom: !1 }, (ei.bt = this).$t = ni.Ht(t), this.Vt.appendChild(this.$t.Vt), t }, align_setter: function(t) { "string" == typeof t && (t = t.split(",")), this.Nv = this.Lv = this.Ov = ""; for (var i = 0; i < t.length; i++) { var e = t[i]; "center" !== e && "left" !== e && "right" !== e || (this.Nv = e), "top" !== e && "bottom" !== e && "middle" !== e || (this.Lv = e), "absolute" === e && (this.Nv = this.Lv = this.Ov = "precise") } return t }, getBody: function() { return this.$t }, $setSize: function(t, i) { var e, s; Ri.api.$setSize.call(this, t, i), s = this.Ov ? (e = t - this.P.left - this.P.right, i - this.P.top - this.P.bottom) : (e = this.Zl[0] || t, this.Zl[2] || i), this.$t.$setSize(e, s); var n = this.$t.Vt; "center" == this.Nv ? n.style.marginLeft = Math.ceil((t - e) / 2) + "px" : "right" == this.Nv ? n.style.marginLeft = t - e + "px" : n.style.marginLeft = (this.Ov ? this.P.left : 0) + "px", "middle" == this.Lv ? n.style.marginTop = Math.ceil((i - s) / 2) + "px" : "bottom" == this.Lv ? n.style.marginTop = i - s + "px" : n.style.marginTop = (this.Ov ? this.P.top : 0) + "px" }, $getSize: function(t, i) { var e = this.Zl = this.$t.$getSize(0, 0), s = zi.api.$getSize.call(this, 0, 0); return this.Ov && (t += this.P.left + this.P.right, i += this.P.top + this.P.bottom), !this.Nv || this.Ov ? (s[0] = e[0] + t, s[1] = e[1] + t) : (s[0] = (s[0] || e[0]) + i, s[1] += t), !this.Lv || this.Ov ? (s[2] = e[2] + i, s[3] = e[3] + i) : (s[2] = (s[2] || e[2]) + i, s[3] += i), s } }), jn = (T.protoUI(Pn, Ri.view), {
			name: "multiview", defaults: { animate: {} }, setValue: function(t) { ai(t).show() }, getValue: function() { return this.getActiveId() }, $init: function() { this.cc = 0, this.Nl = 1, this.Vt.style.position = "relative", this.Vt.className += " webix_multiview", this.Wv = [] }, Uv: function(t, i) { var e = ai(t); e.Yv || (e.qv = [], e.Yv = {}), e.Yv[i] || (e.Yv[i] = !0, e.qv.push(i)) }, Gv: function(t) { var i = ai(t); if (this.P.keepViews && (i.Vt.style.display = ""), this.Wv[this.Wv.length - 2] != t ? (10 == this.Wv.length && this.Wv.splice(0, 1), this.Wv.push(t)) : this.Wv.splice(this.Wv.length - 1, 1), i.Yv) { for (var e = 0; e < i.qv.length; e++) { var s = ai(i.qv[e]); s && s.render() } i.qv = [], i.Yv = {} } }, addView: function(t, i) { var e = !V(i) && i <= this.cc ? 1 : 0, s = Sn.api.addView.apply(this, arguments); return 1 < this.hi.length && (this.P.keepViews ? ai(s).Vt.style.display = "none" : vt(ai(s).Vt), this.cc += e), s }, Ft: function(t) { if (!t.P.borderless) { var i = l(this.P.Dt); t.P.Dt = i; var e = t.Vt.style; e.borderTopWidth = e.borderBottomWidth = e.borderLeftWidth = e.borderRightWidth = "1px", this.Xl(e, i) } Sn.api.Ft.apply(this, arguments) }, Ol: function(t) { if (t == this.cc) { var i = t ? t - 1 : 1; this.hi[i] && (this.Xv = null, this.Me(this.hi[i], !1)) } t < this.cc && this.cc-- }, Bi: function() { }, El: function(t) {
				t = t || this.Ll; for (var i = 0; i < t.length; i++)t[i].Dt = this.P.borderless ? { top: 1, left: 1, right: 1, bottom: 1 } : this.P.Dt || {}; Sn.api.El.call(this, t); for (var e = 1; e < this.hi.length; e++
				)this.P.keepViews ? this.hi[e].Vt.style.display = "none" : vt(this.hi[e].Vt); for (var s = 0; s < t.length; s++) { var n = this.hi[s]; n.hi && !n._d || (this.Xl(n.Vt.style, n.P.Dt), n.Vt.setAttribute("role", "tabpanel")) } this.Gv(this.getActiveId())
			}, cells_setter: function(t) { t && t.length, this.Ll = t }, Kv: function(t, i) { var e = (this.P.animate || {}).direction, s = "top" == e || "bottom" == e; return t < i ? s ? "bottom" : "right" : s ? "top" : "left" }, Me: function(t, i) { var e = this, s = arguments, n = this.getParentView(); if (n && n.getTabbar) { var r = n.getTabbar(); r.blockEvent(), r.setValue(t.P.$id || t.P.id), r.unblockEvent() } if (this.Xv) return this.Xv.then(function() { return e.Me.apply(e, s) }); for (var h = -1, o = 0; o < this.hi.length; o++)if (this.hi[o] == t) { h = o; break } if (!(h < 0 || h == this.cc)) { var a = this.hi[this.cc], u = this.hi[h]; if (a.$getSize(0, 0), (i || void 0 === i) && Li.isSupported() && this.P.animate) { var c = T.extend({}, this.P.animate); this.P.keepViews && (c.keepViews = !0), c.direction = this.Kv(h, this.cc), c = ki.Ei(i || {}, c); var f = Li.formLine(u.Vt, a.Vt, c); u.$getSize(0, 0), u.$setSize(this.ge, this.xe); var l = c.callback; c.callback = function() { Li.breakLine(f, this.P.keepViews), this.Xv = null, c.wait_animation.resolve(), l && l.call(this), l = c.master = c.callback = null, this.resize() }, (c.master = this).cc = h, this.Gv(this.getActiveId()), Li(f, c), this.Xv = c.wait_animation = b.defer() } else this.P.keepViews ? a.Vt.style.display = "none" : (vt(a.Vt), this.Vt.appendChild(this.hi[o].Vt)), this.cc = h, this.resizeChildren(), this.Gv(this.getActiveId()); u.callEvent && (u.callEvent("onViewShow", []), _i(u, this.ke)), this.callEvent("onViewChange", [a.P.id, u.P.id]) } }, $getSize: function(t, i) { if (!this.hi.length) return zi.api.$getSize.call(this, 0, 0); var e = this.hi[this.cc].$getSize(0, 0); if (this.P.fitBiggest) for (var s = 0; s < this.hi.length; s++)if (s != this.cc) for (var n = this.hi[s].$getSize(0, 0), r = 0; r < 4; r++)e[r] = Math.max(e[r], n[r]); var h = zi.api.$getSize.call(this, 0, 0); return 1e5 <= h[1] && (h[1] = 0), 1e5 <= h[3] && (h[3] = 0), h[0] = (h[0] || e[0]) + t, h[1] = (h[1] || e[1]) + t, h[2] = (h[2] || e[2]) + i, h[3] = (h[3] || e[3]) + i, h }, $setSize: function(t, i) { this.hi.length && (this.Pl = [t, i], zi.api.$setSize.call(this, t, i), this.hi[this.cc].$setSize(t, i)) }, isVisible: function(t, i) { return i && i != this.getActiveId() ? (t && this.Uv(i, t), !1) : Ri.api.isVisible.call(this, t, this.P.id) }, getActiveId: function() { return this.hi.length ? this.hi[this.cc].P.id : null }, back: function(t) { if (t = t || 1, this.callEvent("onBeforeBack", [this.getActiveId(), t])) { if (this.Wv.length > t) { var i = this.Wv[this.Wv.length - t - 1]; return ai(i).show(), i } return null } return null }, Yl: function(t, i) { !this.P.keepViews && i && i != this.hi[this.cc] || Sn.api.Yl.call(this, t, i) }
		}), Nn = (T.protoUI(jn, Sn.view), { name: "tabview", setValue: function(t, i) { this.hi[0].setValue(t, i) }, getValue: function() { return this.hi[0].getValue() }, getTabbar: function() { return this.hi[0] }, getMultiview: function() { return this.hi[1] }, addView: function(t) { var i = this.getMultiview().addView(t.body); return t.id = i, t.value = t.header, delete t.body, delete t.header, this.getTabbar().addOption(t), i }, removeView: function(t) { var i = this.getTabbar(); i.removeOption(t), i.refresh() }, $init: function(t) { this.$ready.push(this.Jv); var i = t.cells, e = []; i && i.length; for (var s = i.length - 1; 0 <= s; s--) { var n = i[s].body || i[s]; n.id || (n.id = "view" + z()), e[s] = { value: i[s].header, id: n.id, close: i[s].close, width: i[s].width, hidden: !!i[s].hidden }, i[s] = n } var r = { view: "tabbar", multiview: !0 }, h = { view: "multiview", cells: i, animate: !!t.animate }; t.value && (r.value = t.value), t.tabbar && T.extend(r, t.tabbar, !0), t.multiview && T.extend(h, t.multiview, !0), r.options = r.options || e, t.rows = [r, h], delete t.cells, delete t.tabs }, Jv: function() { this.getTabbar().attachEvent("onOptionRemove", function(t) { var i = ai(t); if (i) { var e = i.getParentView(); e && e.removeView(i) } }) } }), Ln = (T.protoUI(Nn, $n.view), {
			name: "carousel", defaults: { scrollSpeed: "300ms", type: "clean", navigation: {}, animate: !0 }, $init: function() { this.Vt.className += " webix_carousel", this.Zv = null, this.tt = null, this.cc = 0, this.$ready.unshift(this.Qv), this.$ready.push(this.fh) }, addView: function(t, i) { var e = this.Zv.addView(t, i); return this.t_(), e }, removeView: function(t) { this.Zv.removeView(t), this.t_() }, Ft: function(t, i) { this.Zv.Ft(t, i), this.t_() }, t_: function() {
				this.hi = this.Zv.hi,
				this.ec(), this.setActiveIndex(Math.min(this.cc, this.hi.length - 1))
			}, Qv: function() { var i = this; this.Zv && this.Zv.destructor && this.Zv.destructor(); var t = ""; this.config.cols ? (t = "cols", this.Nl = 0) : (t = "rows", this.Nl = 1); var e = { borderless: !0, type: "clean" }; e[t] = _(this.P[t]); for (var s = ["type", "margin", "marginX", "marginY", "padding", "paddingX", "paddingY"], n = {}, r = 0; r < s.length; r++)this.P[s[r]] && (n[s[r]] = this.P[s[r]]); T.extend(e, n, !0), (ei.bt = this).Zv = ni.Ht(e), this.Vt.appendChild(this.Zv.Vt), this.hi = this.Zv.hi, this.Zv.Me = S(Ln.Me, this), this.Zv.adjustScroll = S(Ln.adjustScroll, this); var h = F("onReconstruct", function(t) { t == i.Zv && i.i_() }); this.attachEvent("onDestruct", function() { B(h) }), this.Wi = this.Vt.firstChild }, Ce: function(t, i) { this.P.navigation.items && "tab" === i.target.getAttribute("role") && this.Qu(t, i), zi.api.Ce.call(this, t, i) }, getChildViews: function() { return [this.Zv] }, getLayout: function() { return this.Zv }, fh: function() { this.Wi.setAttribute("touch_scroll", this.Nl ? "y" : "x"), this.Zv.attachEvent("onAfterScroll", S(function() { this.callEvent("onShow", [this.getActiveId()]) }, this)), _i(this.Zv, function(t) { t.Vt.setAttribute("role", "tabpanel") }) }, adjustScroll: function(t) { var i, e = this.Nl ? this.xe : this.ge; return this.Nl ? (i = Math.round(t.f / e), t.f = i * e) : (i = Math.round(t.e / e), t.e = i * e), this.cc = -i, this.P.navigation && this.sc(), !0 }, Me: function(t) { var i, e, s, n, r, h; for (s = -1, e = this.Zv, i = 0; i < e.hi.length; i++)if (e.hi[i] == t) { s = i; break } s < 0 || s == this.cc || (this.cc = s, n = e.Nl ? this.xe : this.ge, r = -(e.Nl ? 0 : s * n), h = -(e.Nl ? s * n : 0), this.scrollTo(r, h), this.callEvent("onShow", [e.hi[this.cc].P.id]), this.P.navigation && this.ec()) }, scrollTo: function(t, i) { qi && Li.isSupported() && this.P.animate ? qi.gs(this.Wi, t, i, this.P.scrollSpeed || "100ms") : (this.Wi.style.marginLeft = t + "px", this.Wi.style.marginTop = i + "px") }, navigation_setter: function(t) { return this.Ei(t, { type: "corner", buttons: !0, items: !0 }), t }, showNext: function() { this.cc < this.Zv.hi.length - 1 && this.setActiveIndex(this.cc + 1) }, showPrev: function() { 0 < this.cc && this.setActiveIndex(this.cc - 1) }, setActiveIndex: function(t) { this.Zv.hi.length, ai(this.Zv.hi[t].P.id).show() }, getActiveIndex: function() { return this.cc }, $getSize: function(t, i) { var e = this.Zv.$getSize(0, 0), s = Ri.api.$getSize.call(this, t, i); return this.Zv.Nl ? (s[0] = Math.max(s[0], e[0]), s[1] = Math.min(s[1], e[1])) : (s[2] = Math.max(s[2], e[2]), s[3] = Math.min(s[3], e[3])), s }, $setSize: function(t, i) { var e = this.Zv, s = e.hi.length, n = Ri.api.$setSize.call(this, t, i), r = this.xe * (e.Nl ? s : 1), h = this.ge * (e.Nl ? 1 : s); n ? (this.Wi.style.height = r + "px", this.Wi.style.width = h + "px", e.$setSize(h, r), this.i_()) : e.$setSize(h, r) }, i_: function() { var t = this.Zv, i = this.cc || 0, e = t.Nl ? this.xe : this.ge, s = -(t.Nl ? 0 : i * e), n = -(t.Nl ? i * e : 0); this.scrollTo(s, n), this.P.navigation && this.ec() }, getActiveId: function() { var t = this.Zv.hi[this.cc]; return t ? t.P.id : null }, setActive: function(t) { ai(t).show() }
		}), On = (T.protoUI(Ln, g, Re, Ri.view), { name: "proxy", body_setter: function(t) { return (ei.bt = this).$t = ni.Ht(t), this.Vt.appendChild(this.$t.Vt), t }, getChildViews: function() { return [this.$t] }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i), this.$t.$setSize(this.$width, this.$height) }, $getSize: function(t, i) { var e = Ri.api.$getSize.call(this, t, i), s = this.$t.$getSize(t, i); return s[0] = Math.max(e[0], s[0]), s[1] = Math.min(e[1], s[1]), s[2] = Math.max(e[2], s[2]), s[3] = Math.min(e[3], s[3]), s[4] = Math.max(e[4], s[4]), s }, Ft: function(t) { this.$t.destructor(), this.$t = t, this.Vt.appendChild(t.Vt), this.resize() } }), Wn = (T.protoUI(On, Ri.view), {
			name: "portlet", defaults: { layoutType: "wide", icon: "wxi-drag" }, $init: function(t) { this.Vt.style.position = "relative", t.header && t.body && (t.body = [{ template: t.header, type: "header" }, t.body]), this.$ready.push(this.e_) }, s_: function(t) { _i(t, function(t) { t.n_ && t.n_() }) }, e_: function() { var t = this.getChildViews(); if (1 < t.length) Ki.addDrag(t[0].$view, this); else if (this.P.icon) { var i = lt("div", { "class": "portlet_drag" }, "<span class='webix_icon " + this.P.icon + "'></span>"); this.Vt.appendChild(i), Ki.addDrag(i, this) } else Ki.addDrag(this.$view, this) }, body_setter: function(t) { return this.rows_setter($(t) ? t : [t]) }, markDropArea: function(t, i) {
				if (!t) return vt(this.r_); t = ai(t), this.r_ || (this.r_ = lt("div", null, "&nbsp;"))
					, t.$view.appendChild(this.r_), this.r_.className = "portlet_marker" + i
			}, movePortlet: function(t, i) { var e = t.getParentView(), s = this.getParentView(), n = e.index(t), r = s.index(this); if (y("onBeforePortletMove", [s, e, this, t, i])) { ei.pt = !0; var h = s != e ? 1 : 0, o = e.Nl; "top" == i || "bottom" == i ? (1 !== o && (ni(t, e = ni({ type: t.P.layoutType, rows: [] }, e, n + h), 0), n = 0, h = 1), "bottom" == i && (h += 1)) : "left" != i && "right" != i || (0 !== o && (ni(t, e = ni({ type: t.P.layoutType, cols: [] }, e, n + h), 0), n = 0, h = 1), "right" == i && (h += 1)), r < n && (h -= 1), ni(this, e, n + h), "replace" == i && ni(t, s, r), this.h_(s), ei.pt = !1, t.resize(), s.resize(), this.s_(s), y("onAfterPortletMove", [s, e, this, t, i]) } }, h_: function(t) { for (var i, e = 0; t.getChildViews().length <= e;)t = (i = t).getParentView(), e = 1; e && t.removeView(i) }, $drag: function(t) { return Mt(this.Vt, "portlet_in_drag"), Ki.Gs = { source: t, from: t }, this.Vt.innerHTML }, $dragDestroy: function(t, i) { St(this.Vt, "portlet_in_drag"), vt(i), this.o_ && (this.movePortlet(this.o_, this.a_), this.markDropArea(), this.o_ = null) }, vn: function() { return bt(this.$view) }, $dragPos: function(t, i, e) { e.style.left = "-10000px"; var s = G.mouse.context(i), n = document.body.scrollTop || document.documentElement.scrollTop || 0, r = document.body.scrollLeft || document.documentElement.scrollLeft || 0, h = document.elementFromPoint(s.x - r, s.y - n), o = null; h && (o = ai(h)), this.o_ = this.u_(o), this.a_ = this.c_(this.o_, i), t.x = t.x - this.ge + 10, t.y = t.y - 20, Ki.rn = !0 }, c_: function(t, i) { var e = "", s = ""; if (i && t) { var n = bt(t.$view), r = gt(i), h = r.x - n.x - n.width / 2, o = r.y - n.y - n.height / 2; (s = t.P.mode) || (s = Math.abs(h) * (n.height / n.width) > Math.abs(o) ? "cols" : "rows"), "cols" == s ? e = 0 <= h ? "right" : "left" : "rows" == s && (e = 0 <= o ? "bottom" : "top"), this.markDropArea(t, e) } return this.markDropArea(t, e), e || s }, u_: function(t) { for (; t;) { if (t.movePortlet) return t; t = t.getParentView() } }
		}), Un = (T.protoUI(Wn, $n.view), { name: "abslayout", $init: function() { this.$view.className += " webix_abslayout", delete this.rows_setter, delete this.cols_setter, this.Ll = [] }, cells_setter: function(t) { this.Ll = t }, El: function() { for (var t = 0; t < this.Ll.length; t++)this.Ll[t].Dt = {}; Sn.api.El.call(this, this.Ll) }, $getSize: function() { for (var t = zi.api.$getSize.call(this, 0, 0), i = null, e = 0; e < this.hi.length; e++)this.hi[e].P.relative && (i = this.hi[e].$getSize(0, 0)); return i && (1e5 <= t[1] && (t[1] = 0), 1e5 <= t[3] && (t[3] = 0), t[0] = Math.max(t[0], i[0]), t[1] = Math.max(t[1], i[1]), t[2] = Math.max(t[2], i[2]), t[3] = Math.max(t[3], i[3])), t }, $setSize: function(t, i) { this.Pl = [t, i], zi.api.$setSize.call(this, t, i), this.Ka(t, i) }, Ka: function(t, i) { for (var e = 0; e < this.hi.length; e++) { var s = this.hi[e], n = s.P, r = s.$getSize(0, 0); n.relative ? (n.left = n.top = 0, s.$setSize(t, i)) : s.$setSize(r[0], r[2]); for (var h = s.$view, o = ["left", "right", "top", "bottom"], a = 0; a < o.length; a++) { var u = o[a]; u in n && (h.style[u] = n[u] + "px") } } } }), Yn = { api: Un, view: T.protoUI(Un, Sn.view) }, qn = {
			name: "gridlayout", defaults: { autoplace: !0, gridColumns: 2, gridRows: 2, margin: 10, padding: 10 }, gridRows_setter: function(t) { return this.f_ = t }, removeView: function(t) { Yn.api.removeView.call(this, t), this.l_(), this.callEvent("onChange", []) }, d_: function(t) { if (t.dx = t.dx || 1, t.dy = t.dy || 1, V(t.y) || V(t.x)) { for (var i = this.v_(), e = 0; e < this.f_; e++)for (var s = 0; s < this.P.gridColumns; s++)if (!i[s][e] && this.__(i, s, e, s + t.dx, e + t.dy)) return t.x = s, void (t.y = e); t.x = 0, t.y = this.f_ } var n = t.x + t.dx - this.P.gridColumns; 0 < n && (t.dx -= n) }, Ft: function(t, i) { if (V(i)) { for (var e = 0; e < this.hi.length; e++)this.hi[e].destructor(); this.Ll = t, this.El() } else this.d_(t.config), this.hi.push(t), this.$view.appendChild(t.Vt), this.p_(t.config, t.config.id); this.l_(!0), this.b_ || this.callEvent("onChange", []) }, __: function(t, i, e, s, n) { for (var r = i; r < s; r++)for (var h = e; h < n; h++)if (!t[r] || t[r][h]) return !1; return !0 }, m_: function(t, i, e) { for (var s = 0; s < i.dx; s++)for (var n = 0; n < i.dy; n++)t[s + i.x][n + i.y] = e }, g_: function(t, i, e) { for (var s = this.P.gridColumns, n = i.x + i.dx; n + e.dx <= s; n++)if (this.__(t, n, e.y, n + e.dx, e.y + e.dy)) return n - e.x; return 0 }, w_: function(t, i, e) { for (var s = i.x - e.dx; 0 <= s; s--)if (this.__(t, s, e.y, s + e.dx, e.y + e.dy)) return e.x - s; return 0 }, x_: function(t, i, e) { for (var s = i.y - e.dy; 0 <= s; s--)if (this.__(t, e.x, s, e.x + e.dx, s + e.dy)) return e.y - s; return 0 }, v_: function(t) {
				for (var i = [], e = 0; e < this.P.gridColumns; e++)i[e] = []; for (
					var s = 0; s < this.hi.length; s++) { var n = this.hi[s].config; n.id === t || n.hidden || this.m_(i, n, n.id) } return i
			}, l_: function(t) { (this.y_() || t) && this.M_() }, y_: function() { if (!this.P.autoplace) return !1; var t = this.P.gridColumns, i = this.f_, e = this.v_(), s = !1; t: for (var n = i - 1; 0 <= n; n--) { for (var r = t - 1; 0 <= r; r--)if (e[r][n]) continue t; s = !0; for (var h = 0; h < this.hi.length; h++) { var o = this.hi[h].config; !o.hidden && o.y >= n && (o.y -= 1) } } return s }, p_: function(t, i) { if (t.x -= Math.max(0, t.x + t.dx - this.P.gridColumns), this.P.autoplace) { for (var e = [], s = this.v_(i), n = 0; n < this.hi.length; n++) { var r = this.hi[n].config; r.id === i || r.hidden || r.y < t.y + t.dy && r.y + r.dy > t.y && r.x < t.x + t.dx && r.x + r.dx > t.x && e.push(r) } for (var h = [], o = 0; o < e.length; o++) { var a = e[o]; this.m_(s, a, 0); var u = this.g_(s, t, a); if (u) a.x += u; else { var c = this.w_(s, t, a); if (c) a.x -= c; else { var f = this.x_(s, t, a); f ? a.y -= f : (a.y = t.y + t.dy, h.push(a)) } } this.m_(s, a, a.id) } for (var l = 0; l < h.length; l++)this.p_(h[l], h[l].id) } else t.y -= Math.max(0, t.y + t.dy - this.P.gridRows) }, M_: function() { for (var t = this.P.gridRows, i = 0; i < this.hi.length; i++) { var e = this.hi[i].config; e.hidden || (t = Math.max(t, e.y + e.dy)) } this.f_ != t && (this.f_ = t, this.resize()), this.Ka() }, moveView: function(t, i) { i = T.extend(ai(t).config, i, !0), this.p_(i, t), this.l_(!0), this.callEvent("onChange", []) }, serialize: function(t) { for (var i = [], e = 0; e < this.hi.length; e++)if (t) i.push(t.call(this, this.hi[e])); else { var s = this.hi[e].config; i.push({ id: s.id, name: s.name, x: s.x, y: s.y, dx: s.dx, dy: s.dy }) } return i }, clearAll: function() { for (var t = 0; t < this.hi.length; t++)this.hi[t].destructor(); this.hi = [], this.callEvent("onChange", []) }, restore: function(t, i) { i = i || this.P.factory, t = _(t), this.b_ = !0; for (var e = {}, s = 0; s < t.length; s++) { var n = t[s], r = ai(n.id); e[r ? (T.extend(r.config, n, !0), r.config.id) : (r = i.call(this, n), this.addView(r))] = 1 } for (var h = this.hi.length - 1; 0 <= h; h--)e[this.hi[h].config.id] || (this.hi[h].destructor(), this.hi.splice(h, 1)); this.M_(), this.b_ = !1 }, $getSize: function() { for (var t = zi.api.$getSize.call(this, 0, 0), i = 0; i < this.hi.length; i++)this.hi[i].$getSize(0, 0); var e = this.P.cellWidth, s = this.P.cellHeight, n = this.S_(0, 0, this.P.gridColumns, this.f_); return e && (t[0] = n.dx + 2 * n.x), s && (t[2] = n.dy + 2 * n.y), t }, S_: function(t, i, e, s) { var n = this.P.margin, r = this.P.paddingX || this.P.padding, h = this.P.paddingY || this.P.padding, o = this.P.cellWidth; o || (o = (this.$width - 2 * r + n) / this.P.gridColumns - n); var a = this.P.cellHeight; return a || (a = (this.$height - 2 * h + n) / this.f_ - n), { x: r + (o + n) * t, y: h + (a + n) * i, dx: Math.ceil(o + (o + n) * (e - 1)), dy: Math.ceil(a + (a + n) * (s - 1)) } }, Ka: function() { for (var t = 0; t < this.hi.length; t++) { var i = this.hi[t], e = i.P, s = this.S_(e.x, e.y, e.dx, e.dy); i.$getSize(0, 0), i.$setSize(s.dx, s.dy); var n = i.$view; n.style.left = s.x + "px", n.style.top = s.y + "px" } }
		}, Gn = { api: qn, view: T.protoUI(qn, Yn.view) }, Xn = {
			name: "dashboard", $init: function() { Ki.addDrag(this.$view, this), Ki.addDrop(this.$view, this, !0) }, k_: function(t) { return !(!t.getAttribute || t.getAttribute("webix_disable_drag") || t.getAttribute("webixignore")) && (-1 != (t.className || "").toString().indexOf("panel_drag") ? t : !(!t.parentNode || t == this.$view) && this.k_(t.parentNode)) }, $dragCreate: function(t, i) { if (!i.target || !this.k_(i.target)) return !1; var e = ai(i); e.$resizeMove || (e = e.queryView(function(t) { return !V(t.config.dx) }, "parent")); var s = bt(this.$view), n = gt(i), r = Ki.Gs = { source: e, from: this, dashboard: { sx: n.x - s.x - parseInt(e.$view.style.left) + this.P.margin / 2, sy: n.y - s.y - parseInt(e.$view.style.top) + this.P.margin / 2 } }; return this.callEvent("onBeforeDrag", [r, i]) ? (this.C_(e.P.dx, e.P.dy), e.$view) : void 0 }, C_: function(t, i) { var e = this.D_ = lt("div", { "class": "panel_target" }), s = this.S_(0, 0, t, i); e.style.width = s.dx + "px", e.style.height = s.dy + "px", this.$view.appendChild(this.D_) }, $drop: function(t, i, e) { var s = Ki.Gs, n = { x: s.dashboard.x, y: s.dashboard.y }; if (this.callEvent("onBeforeDrop", [s, e])) { if (s.from === this) { var r = s.source.config; this.moveView(r.id, n) } else { if (!(s.from && s.from.callEvent && s.from.callEvent("onBeforeDropOut", [s, e]))) return; n.name = s.source[0], n.dx = s.dashboard.dx, n.dy = s.dashboard.dy, n.id = n.name + ":" + z(), (n = this.P.factory.call(this, n)) && this.addView(n) } this.callEvent("onAfterDrop", [s, e]) } }, $dragDestroy: function(t, i) {
				i.style.zIndex = 1, vt(this.D_),
				this.D_ = null, this.M_()
			}, I_: function(t, i, e) { var s = this.P.margin, n = this.P.paddingX || this.P.padding, r = this.P.paddingY || this.P.padding, h = this.P.cellWidth; h || (h = (this.$width - 2 * n + s) / this.P.gridColumns - s); var o = this.P.cellHeight; return o || (o = (this.$height - 2 * r + s) / this.f_ - s), t += e ? s : -n, i += e ? s : -r, t = Math.round(t / (h + s)), i = Math.round(i / (o + s)), { x: t = Math.max(0, Math.min(t, this.P.gridColumns - (e ? 0 : 1))), y: i = Math.max(0, Math.min(i, this.f_)), width: h, height: o, margin: s, rx: t * (h + s) + n, ry: i * (o + s) + r } }, $dragOut: function(t, i, e, s) { var n = Ki.Gs; this.callEvent("onDragOut", [n, s]), this.D_ && n.external && (vt(this.D_), this.D_ = null) }, $dragIn: function(t, i, e) { var s = Ki.Gs; if (this.callEvent("onBeforeDragIn", [s, e])) { if (!this.D_) { if (!s.from || !s.from.getItem) return !1; if (!this.P.factory) return !1; s.external = !0; var n = s.from.getItem(s.source); s.dashboard = { dx: n.dx, dy: n.dy }, this.C_(n.dx, n.dy) } if (s.external) { var r = this.D_, h = G.mouse.context(e), o = bt(this.$view), a = this.I_(h.x - o.x, h.y - o.y); T.extend(s.dashboard, a, !0), r.style.left = a.rx + "px", r.style.top = a.ry + "px" } return !0 } }, $dragPos: function(t, i, e) { var s = Ki.Gs; e.style.left = "-10000px"; var n = G.mouse.context(i), r = bt(this.$view), h = s.dashboard, o = this.I_(n.x - r.x - h.sx, n.y - r.y - h.sy); t.x = n.x - h.sx - r.x, t.y = n.y - h.sy - r.y; var a = this.D_; a.style.left = o.rx + "px", a.style.top = o.ry + "px", T.extend(h, o, !0) }
		}, Kn = (T.protoUI(Xn, Gn.view), { name: "panel", $init: function(t) { if (t.header && t.body) { var i = t.header; "object" !== M(i) && (i = { template: t.header, type: "header", css: "webix_header" }), t.body = [i, t.body] } Mt(this.$view, "panel_drag_view"), this.$ready.push(this.e_) }, e_: function() { var t = this.getChildViews(), i = 1 === t.length ? this : t[1]; if (this.P.icon) { var e = lt("div", { "class": "panel_icon" }, "<span class='webix_icon " + this.P.icon + " panel_icon_span'></span>"); i != this && (i.$view.style.position = "relative"), i.$view.appendChild(e) } }, body_setter: function(t) { return this.rows_setter($(t) ? t : [t]) }, $resizeEnd: function(t) { var i = this.getParentView(); if (i && i.I_) { var e = i.I_(t.mx, t.my, !0), s = Math.max(e.x, 1), n = Math.max(e.y, 1); i.moveView(this.P.id, { dx: s, dy: n }) } }, $resizeMove: function(t) { var i = this.getParentView(); if (i && i.I_) { t.mx = t.x, t.my = t.y; var e = i.I_(t.x, t.y, !0); t.x = (e.width + e.margin) * e.x - e.margin, t.y = (e.height + e.margin) * e.y - e.margin } } }), Jn = (T.protoUI(Kn, $n.view, te), { $init: function() { T.extend(this, $e, !0) }, name: "flexlayout" }), Zn = (T.protoUI(Jn, $n.view), { name: "datalayout", $init: function() { this.data.provideApi(this, !0), this.data.attachEvent("onStoreUpdated", S(this.render, this)) }, El: function() { return this.A_ || (this.A_ = this.Ll, this.Ll = [{}]), $n.api.El.call(this, this.Ll) }, setValue: function(t) { this.parse(t) }, getValue: function() { for (var t = this.A_.length, i = 0; i < this.hi.length; i++) { var e = this.data.order[Math.floor(i / t)], s = this.data.getItem(e); this.F_(this.hi[i], s) } return this.data.serialize() }, F_: function(t, i) { var e = t.P.name; if (e) { var s = null; t.getValues ? s = t.getValues() : t.getValue ? s = t.getValue() : t.serialize && (s = t.serialize()), "$value" == e ? T.extend(i, s, !0) : i[e] = s } else { var n = t.hi; if (n) for (var r = 0; r < n.length; r++)this.F_(n[r], i) } }, ql: function(t, i) { var e, s = t.P.name; if (s) e = "$value" == s ? i : i[s], t.setValues ? t.setValues(e, !1, "auto") : t.setValue ? t.setValue(e, "auto") : t.parse && (t.openAll && (e = _(e)), t.parse(e)); else { var n = t.hi; if (n) for (var r = 0; r < n.length; r++)this.ql(n[r], i) } }, render: function(t, i, e) { var s = this.A_.length; if (t && "update" === e) for (var n = this.getItem(t), r = this.getIndexById(t), h = 0; h < s; h++)this.ql(this.hi[r * s + h], n); else { for (var o = this.Ll = [], a = this.data.order, u = 0; u < a.length; u++)if (s) for (var c = 0; c < s; c++)o.push(_(this.A_[c])); else o.push(this.getItem(a[u])); if (o.length || o.push({}), this.reconstruct(), s) for (var f = 0; f < a.length; f++)for (var l = this.getItem(a[f]), d = 0; d < s; d++) { var v = this.hi[f * s + d]; this.ql(v, l) } } } }), Qn = { api: Zn, view: T.protoUI(Zn, be, $n.view) }, tr = { $init: function() { T.extend(this, $e, !0) }, name: "flexdatalayout" }, ir = (T.protoUI(tr, Qn.view), {
			name: "popup", $init: function() { var i = this; this.P.head = !1, this.$view.className += " webix_popup"; var t = F("onClick", function(t) { return i.Bi(t) }); this.attachEvent("onDestruct", function() { B(t) }), this.attachEvent("onHide", this.Hn) }, $skin: function() {
				ee.api.$skin.call(this),
				this.defaults.padding = Oi.popupPadding, this.defaults.point = !Oi.popupNoPoint, this.defaults.borderless = Oi.borderlessPopup
			}, close: function() { vt(this.T_), ee.api.close.call(this) }, $getSize: function(t, i) { return ee.api.$getSize.call(this, t + 2 * this.P.padding, i + 2 * this.P.padding) }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i), t = this.ge - 2 * this.P.padding, i = this.xe - 2 * this.P.padding, this.Wi.style.padding = this.P.padding + "px", this._n.style.display = "none", this.$t.$setSize(t, i) }, On: function(t) { "undefined" == typeof t.borderless && (t.borderless = !1) }, head_setter: function() { }, Bn: function(t, i, e, s) { this.Hn(), document.body.appendChild(this.T_ = lt("DIV", { "class": "webix_point_" + t }, "")), this.T_.style.zIndex = this.Vt.style.zIndex, this.T_.style.position = s ? "fixed" : "absolute", this.T_.style.top = e + "px", this.T_.style.left = i + "px" }, Hn: function() { this.T_ = vt(this.T_) }
		}), er = { api: ir, view: T.protoUI(ir, ee.view) }, sr = { name: "toolbar", defaults: { type: "toolbar" }, _d: !0, V_: "webix_toolbar", z_: !1, $init: function(t) { t.borderless || (this.Wi.style.borderWidth = "1px", this.P.Dt = { top: !1, left: !1, right: !1, bottom: !1 }), this.Wi.className += " " + this.V_, this.Vt.setAttribute("role", "toolbar") }, oe: function() { var i = this; i.elements = {}, _i(this, function(t) { if (t.P.name && t.getValue && t.setValue && (i.elements[t.P.name] = t).mapEvent && t.mapEvent({ onbeforetabclick: i, onaftertabclick: i, onitemclick: i, onchange: i }), t.setValues || t.ql) return !1 }); var t = this.Uf; if (this.setDirty(!1), t) { var e = this.Uf; for (var s in i.elements) t[s] && e[s] != t[s] && (e[s] = t[s], this.setDirty(!0)) } }, Gl: function() { this.oe() }, ld: function(t) { var i = this.P; return i.elements && !t && (this.Ll = t = i.elements, this.Nl = this.z_, delete i.elements), this.P.elementsConfig && this.B_(this.Ll, i.elementsConfig), t }, B_: function(t, i) { for (var e = 0; e < t.length; e++) { var s = t[e]; T.extend(s, i); var n, r = i; s.elementsConfig && (r = T.extend(T.extend({}, s.elementsConfig), i)), (n = s.body ? [s.body] : s.rows || s.cols || s.cells || s.body) && this.B_(n, r) } }, $getSize: function(t, i) { var e = $n.api.$getSize.call(this, t, i), s = this.getParentView(), n = this.Nl ? 3 : 1; return s && this.Nl != s.Nl && (e[n] += 1e5), e }, render: function() { }, refresh: function() { this.render() } }, nr = { api: sr, view: T.protoUI(sr, Le, Rt, ms, $n.view, le) }, rr = { name: "form", defaults: { type: "form", autoheight: !0 }, H_: -1, V_: "webix_form", z_: !0, $init: function() { this.Vt.setAttribute("role", "form") }, $getSize: function(t, i) { this.we && !this.P.width && (t += G.scrollSize); var e = $n.api.$getSize.call(this, t, i); return !this.P.scroll && this.P.autoheight || (e[2] = this.P.height || this.P.minHeight || 0, e[3] = this.P.height || 1e5), e } }, hr = (T.protoUI(rr, nr.view), { name: "fieldset", defaults: { borderless: !0, $cssName: "webix_fieldset", paddingX: 18, paddingY: 30 }, $init: function(t) { t.body = t.body || {}; var i = this.defaults.$cssName; this.Vt.className += " " + i, this.Vt.innerHTML = "<fieldset><legend class='" + i + "_label" + (t.required ? " webix_required" : "") + "'></legend><div class='" + i + "_body'></div></fieldset>" }, label_setter: function(t) { return this.Vt.firstChild.childNodes[0].innerHTML = t }, getChildViews: function() { return [this.R_] }, body_setter: function(t) { return (ei.bt = this).R_ = ni(t, this.Vt.firstChild.childNodes[1]), t }, getBody: function() { return this.R_ }, resizeChildren: function() { if (this.R_) { var t = this.$width - this.P.paddingX, i = this.$height - this.P.paddingY, e = this.R_.$getSize(0, 0); e[0] > t && (t = e[0]), e[2] > i && (i = e[2]), this.R_.$setSize(t, i), this.resize() } }, $getSize: function(t, i) { t += this.P.paddingX, i += this.P.paddingY; var e = this.R_.$getSize(t, i), s = this.E_ = Ri.api.$getSize.call(this, t, i); return s[0] < e[0] && (s[0] = e[0]), s[2] < e[2] && (s[2] = e[2]), s[1] > e[1] && (s[1] = e[1]), s[3] > e[3] && (s[3] = e[3]), s[1] < s[0] && (s[1] = s[0]), s[3] < s[2] && (s[3] = s[2]), s }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && (t = Math.min(this.E_[1], t), i = Math.min(this.E_[3], i), this.R_.$setSize(t - this.P.paddingX, i - this.P.paddingY)) } }), or = { api: hr, view: T.protoUI(hr, Ri.view) }, ar = {
			name: "forminput", defaults: { $cssName: "webix_forminput", labelWidth: 80, labelAlign: "left", paddingY: 0, paddingX: 0 }, setValue: function(t, i) { this.R_.setValue ? this.R_.setValue(t, i) : this.R_.setValues && this.R_.setValues(t, !1, i) }, focus: function() { return !!this.R_.focus && this.R_.focus() }, getValue: function() {
				return this.R_.getValue ? this.R_.getValue() : this.R_.getValues ? this.R_.getValues() : void 0
			}, getBody: function() { return this.R_ }, $skin: function() { this.P_ = Oi.inputPadding, this.j_ = Oi.inputSpacing, this.N_ = Oi.labelTopHeight }, $init: function(t) { if (this.$ready.push(function() { var t = this.Vt.firstChild.childNodes[0], i = this.Vt.firstChild.childNodes[1]; if (!this.P.label || !this.P.labelWidth && "top" != this.P.labelPosition) return t.style.display = "none", i.style.padding = "0 " + this.j_ / 2 + "px", this.P.paddingX = this.j_, void (this.P.paddingY = 0); "top" == this.P.labelPosition ? (t.style.lineHeight = this.N_ - this.P_ + "px", t.className += " " + this.defaults.$cssName + "_label_top", i.style.padding = "0 " + this.j_ / 2 + "px") : t.style.width = this.P.paddingX - this.j_ / 2 + "px", t.style.textAlign = this.P.labelAlign, this.P.value && this.setValue(this.P.value, "auto") }), "top" != t.labelPosition) { var i = V(t.labelWidth) ? this.defaults.labelWidth : t.labelWidth; t.paddingX = i + this.j_ } else t.paddingY = this.N_, t.paddingX = this.j_ }, labelWidth_setter: function(t) { return t ? Math.max(t, Oi.dataPadding) : 0 }, setBottomText: function(t) { var i = this.P; if (void 0 !== t) { if (i.bottomLabel == t) return; i.bottomLabel = t } var e = (i.invalid ? i.invalidMessage : "") || i.bottomLabel; this.L_ && vt(this.L_), e && (this.$view.style.position = "relative", this.L_ = lt("div", { "class": "webix_inp_bottom_label", role: i.invalid ? "alert" : "", "aria-relevant": "all", style: "position:absolute; bottom:0px; padding:2px 0; background: white; left:" + (this.j_ / 2 + (i.label ? i.labelWidth : 0)) + "px; " }, e), this.Vt.appendChild(this.L_)) }
		}; T.protoUI(ar, or.view); function ur(t) { return t.tagName ? t.tagName.toLowerCase() : null } function cr(t, i) { if (!t.getAttribute) return null; var e = t.getAttribute(i); return e ? e.toLowerCase() : null } function fr() { var t = ur(this); return lr[t] ? lr[t](this) : lr.other(this) } var lr = { radio: function(t) { for (var i = 0; i < t.length; i++)if (t[i].checked) return t[i].value; return "" }, input: function(t) { return "checkbox" === cr(t, "type") ? t.checked : t.value }, textarea: function(t) { return t.value }, select: function(t) { var i = t.selectedIndex; return t.options[i].value }, other: function(t) { return t.innerHTML } }; function dr(t) { var i = ur(this); return vr[i] ? vr[i](this, t) : vr.other(this, t) } var vr = { radio: function(t, i) { for (var e = 0; e < t.length; e++)t[e].checked = t[e].value == i }, input: function(t, i) { "checkbox" === cr(t, "type") ? t.checked = !!i : t.value = i }, textarea: function(t, i) { t.value = i }, select: function(t, i) { t.value = i, -1 === t.selectedIndex && (t.value = t.firstElementChild.value) }, other: function(t, i) { t.innerHTML = i } }, _r = { name: "htmlform", $init: function(t) { this.elements = {}, this.O_ = !1, t.content && (t.container == t.content || !t.container && t.content == document.body) && (this.W_ = !0) }, content_setter: function(t) { if (t = C(t), this.W_) for (; 1 < t.childNodes.length;)this.Vt.childNodes[0].appendChild(t.childNodes[0]); else this.Vt.childNodes[0].appendChild(t); return this.U_(), !0 }, render: function() { Tn.api.render.apply(this, arguments), this.U_() }, U_: function() { var t = this.Vt.querySelectorAll("[name]"); this.elements = {}; for (var i = 0; i < t.length; i++) { var e = t[i], s = cr(e, "name"); if (s) { var n = "button" === ur(e), r = cr(e, "type"), h = n || "button" === r || "submit" === r; if ("radio" === r) { var o = this.elements[s] || []; o.tagName = "radio", o.push(e), e = o } (this.elements[s] = e).getValue = fr, e.setValue = dr, e.$allowsClear = !h } } return this.elements }, uh: function(t, i) { this.hh(t, i); var e = this.Vt.querySelector('[name="' + t + '"]'); e && Mt(e, "invalid") }, hh: function(t) { var i = this.Vt.querySelector('[name="' + t + '"]'); i && St(i, "invalid") }, focus: function(t) { if (!t && this.$view.contains(document.activeElement)) return !1; ms.focus.apply(this, arguments) } }, pr = (T.protoUI(_r, Tn.view, ms), {
			name: "property", $init: function() { this.Wi.className += " webix_property", this.Wi.setAttribute("role", "listbox"), this.Bt = [], this.attachEvent("onAfterEditStart", function(t) { Mt(this.getItemNode(t), "webix_focused") }), this.attachEvent("onAfterEditStop", function(t, i) { St(this.getItemNode(i.config.id), "webix_focused") }) }, defaults: { nameWidth: 100, editable: !0 }, on_render: {
				checkbox: function(t) { return "<input type='checkbox' class='webix_property_check' " + (t ? "checked" : "") + ">" }, color: function(t) {
					return '<div class="webix_property_col_val"><div class=\'webix_property_col_ind\' style="background-color:' + (t || "#FFFFFF") + ';"></div><span>' + t + "</span></div>"
				}
			}, on_edit: { label: !1 }, ea: "webix_f_id", on_click: { webix_property_check: function(t) { var i = this.locate(t); return this.getItem(i).value = !this.getItem(i).value, this.callEvent("onCheck", [i, this.getItem(i).value]), !1 } }, on_dblclick: {}, registerType: function(t, i) { if (V(i.template) || (this.on_render[t] = i.template), V(i.editor) || (this.on_edit[t] = i.editor), !V(i.click)) for (var e in i.click) this.on_click[e] = i.click[e] }, elements_setter: function(t) { this.Y_ = {}; for (var i = 0; i < t.length; i++) { var e = t[i]; "multiselect" == e.type && (e.optionslist = !0), e.id = e.id || z(), e.label = e.label || "", e.value = e.value || "", this.Y_[e.id] = i, this.zu(t[i]) } return t }, showItem: function(t) { Ne.showItem.call(this, t) }, locate: function() { return pt(arguments[0], this.ea) }, getItemNode: function(t) { return this.tt.childNodes[this.Y_[t]] }, getItem: function(t) { return this.P.elements[this.Y_[t]] }, Fa: function(t) { var i = this.getItem(t).type; if ("checkbox" == i) return "inline-checkbox"; var e = this.on_edit[i]; return !1 !== e && (e || i) }, Ba: function(t) { return this.getItem(t) }, Wa: function(t, i, e) { var s = this.Y_[t.id], n = this.P.elements; if (e) { for (var r = s + 1; r < n.length; r++)if (i.call(this, n[r].id)) return n[r].id } else for (var h = s - 1; 0 <= h; h--)if (i.call(this, n[h].id)) return n[h].id; return null }, updateItem: function(t, i) { i = i || {}; var e = this.getItem(t); e && T.extend(e, i, !0), this.refresh() }, at: function(t) { var i = this.getItemNode(t); return { left: i.offsetLeft + this.P.nameWidth, top: i.offsetTop, height: i.firstChild.offsetHeight, width: this.q_, parent: this.Wi } }, G_: function() { for (var t = this.P.elements, i = 0; i < t.length; i++)t[i].value = "" }, clear: function() { this.G_(), this.X_ = {}, this.refresh() }, setValues: function(t, i) { var e = this; for (var s in this.P.complexData && (t = Et.collapseNames(t, "", {}, function(t) { return V(e.Y_[t]) })), i || this.G_(), t) { var n = this.getItem(s); n && (n.value = t[s]) } this.X_ = t, this.refresh() }, getValues: function() { for (var t = l(this.X_ || {}), i = 0; i < this.P.elements.length; i++) { var e = this.P.elements[i]; "label" != e.type && (t[e.id] = e.value) } return this.P.complexData && (t = Et.expandNames(t)), t }, refresh: function() { this.render() }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && (this.q_ = this.ge - this.P.nameWidth, this.render()) }, $getSize: function(t, i) { if (this.P.autoheight) { var e = this.P.elements.length; this.P.height = Math.max(this.type.height * e, this.P.minHeight || 0) } return Ri.api.$getSize.call(this, t, i) }, Q: function() { var t = [], i = this.P.elements; if (i) for (var e = 0; e < i.length; e++) { var s = i[e]; s.css && "object" == M(s.css) && (s.css = ut(s.css)); var n = '<div webix_f_id="' + s.id + '"' + ("label" !== s.type ? 'role="option" tabindex="0"' : "") + ' class="webix_property_line ' + (s.css || "") + '">'; if ("label" == s.type) t[e] = n + "<div class='webix_property_label_line'>" + s.label + "</div></div>"; else { var r, h = this.on_render[s.type], o = "<div class='webix_property_label' style='width:" + this.P.nameWidth + "px'>" + s.label + "</div><div class='webix_property_value' style='width:" + this.q_ + "px'>"; r = s.collection || s.options ? s.template(s) : s.format ? s.format(s.value) : s.value, h && (r = h.call(this, s.value, s)), t[e] = n + o + r + "</div></div>" } } return t.join("") }, type: { height: 24, templateStart: qt(""), templateEnd: qt("</div>") }, $skin: function() { this.type.height = Oi.propertyItemHeight }
		}), br = (T.protoUI(pr, ji, Ce, Be, He, Le, Ei, Rt, g, Ri.view), {
			name: "calendar", defaults: { date: new Date, navigation: !0, monthSelect: !0, weekHeader: !0, monthHeader: !0, weekNumber: !1, skipEmptyWeeks: !1, calendarHeader: "%F %Y", events: rn.isHoliday, minuteStep: 5, timeIcon: "wxi-clock", icons: !1, timepickerHeight: 30, headerHeight: 30, dayTemplate: function(t) { return t.getDate() }, width: 260, height: 250 }, dayTemplate_setter: qt, calendarHeader_setter: rn.dateToStr, calendarTime_setter: function(t) { return this.K_ = t, rn.dateToStr(t) }, date_setter: function(t) { return this.Id(t) }, maxDate_setter: function(t) { return this.Id(t) }, minDate_setter: function(t) { return this.Id(t) }, minTime_setter: function(t) { return "string" == typeof t && (t = [(t = A.parseTimeFormatDate(t)).getHours(), t.getMinutes()]), t }, maxTime_setter: function(t) {
				return "string" == typeof t && (t = [(
					t = A.parseTimeFormatDate(t)).getHours(), t.getMinutes()]), t
			}, J_: function() { var t = "focus" + (G.isIE ? "in" : ""); G.touch || Zt(this.$view, t, S(function(t) { var i = t.target.className, e = -1 !== i.indexOf("webix_cal_day") ? "webix_cal_day" : -1 !== i.indexOf("webix_cal_block") ? "webix_cal_block" : ""; if (300 < new Date - Si.ci && 100 < new Date - Si.fi && e) { var s = t.relatedTarget; if (s && !V(s.className)) { var n = "webix_cal_day" == e ? this.Z_(t.target) : this.Q_(t.target); this.ou(n) } } }, this), { capture: !G.isIE }) }, $init: function() { this.Vt.className += " webix_calendar", this.Vt.setAttribute("role", "region"), this.Vt.setAttribute("aria-label", A.aria.calendar), this.tp = {}, this.ip = {}, this.gd = 0, this.J_(), this.attachEvent("onKeyPress", this.Ce) }, minuteStep_setter: function(t) { return Math.max(Math.min(t, 60), this.defaults.minuteStep) }, type_setter: function(t) { return "time" == t ? (this.ep = !0, this.gd = -1) : "year" == t && (this.sp = !0), t }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.render() }, $getSize: function(t, i) { var e = this.P; if (e.cellHeight && !e.type) { var s = this.np(e.date); e.height = e.cellHeight * s.rp + e.headerHeight + (e.weekHeader ? Oi.calendarWeekHeaderHeight : 0) + (e.timepicker || this.Ad ? e.timepickerHeight : 0) + 2 * (this.hp + Oi.borderWidth) } return Ri.api.$getSize.call(this, t, i) }, moveSelection: function(t, i, e) { if (!this.config.master) { var s = this.getSelectedDate(); this.config.multiselect && (s = s[0]); var n = rn.copy(s || this.getVisibleDate()); this.ou(n, t, e) } }, ou: function(t, i, e) { var s = this.jd[this.gd].op(t, i, this); if (!1 !== e) { var n = this.Vt.querySelector("." + s + "[tabindex='0']"); n && n.focus() } }, np: function(t, i) { if (!this.ap || i) { var e = t.getMonth(), s = t.getFullYear(), n = new Date(s, e + 1, 1), r = rn.weekStart(new Date(s, e, 1)), h = Math.round((n.valueOf() - r.valueOf()) / 864e5), o = this.P.skipEmptyWeeks ? Math.ceil(h / 7) : 6; this.ap = { cp: e, fp: r, cd: n, rp: o } } return this.ap }, $skin: function() { Oi.calendar && (Oi.calendar.width && (this.defaults.width = Oi.calendar.width), Oi.calendar.height && (this.defaults.height = Oi.calendar.height), Oi.calendar.headerHeight && (this.defaults.headerHeight = Oi.calendar.headerHeight), Oi.calendar.timepickerHeight && (this.defaults.timepickerHeight = Oi.calendar.timepickerHeight)), this.hp = Oi.layoutPadding.form }, lp: function(t) { for (var i = this.np(t), e = this.P, s = [], n = [], r = Infinity, h = this.ge - 2 * (this.hp + Oi.borderWidth), o = this.xe - (e.monthHeader ? e.headerHeight : 0) - (e.weekHeader ? Oi.calendarWeekHeaderHeight : 0) - (e.timepicker || this.Ad ? e.timepickerHeight : 0) - 2 * (this.hp + Oi.borderWidth), a = e.weekNumber ? 8 : 7, u = 0; u < a; u++)n[u] = Math.ceil(h / (a - u)), h -= n[u], r = Math.min(r, n[u]); for (var c = i.rp, f = 0; f < c; f++)s[f] = Math.ceil(o / (c - f)), o -= s[f], r = Math.min(r, s[f]); return [n, s, r] }, icons_setter: function(t) { t ? "object" == M(t) ? this.Ad = t : this.Ad = this.vp : this.Ad = null }, Ad: [], vp: [{ template: function() { return "<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>" + A.calendar.today + "</span>" }, on_click: { webix_cal_icon_today: function() { var t = new Date; this.P.timepicker || (t = rn.datePart(t)), this.setValue(t, "user"), this.callEvent("onTodaySet", [this.getSelectedDate()]) } } }, { template: function() { return "<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>" + A.calendar.clear + "</span>" }, on_click: { webix_cal_icon_clear: function() { this.setValue("", "user"), this.callEvent("onDateClear", [this.getSelectedDate()]) } } }], refresh: function() { this.render() }, render: function() {
				this.gd = 0, this._p = !1; var t = this.P; if (this.isVisible(t.id)) {
					this.pp = rn.datePart(new Date), this.callEvent("onBeforeRender", []); var i = this.P.date, e = this.np(i, !0), s = this.lp(i), n = this.hp + "px", r = s[0], h = s[1], o = ""; if (t.monthHeader && (o += "<div class='webix_cal_month' style='margin:0 " + n + "'><span aria-live='assertive' aria-atomic='true' class='webix_cal_month_name" + (t.monthSelect && t.navigation ? "' role='button' tabindex='0'" : " webix_readonly'") + ">" + t.calendarHeader(i) + "</span>", t.navigation && (o += "<div role='button' tabindex='0' aria-label='" + A.aria.navMonth[0] + "' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='" + A.aria.navMonth[1] + "' class='webix_cal_next_button'></div>"), o += "</div>"), t.weekHeader && (
						o += "<div class='webix_cal_header' style='margin:0 " + n + "' aria-hidden='true'>" + this.bp(r) + "</div>"), o += "<div class='webix_cal_body' style='margin:0 " + n + "'>" + this.mp(r, h, e, s[2]) + "</div>", (this.P.timepicker || this.Ad) && (o += "<div class='webix_cal_footer' style='margin:0 " + n + "'>", this.P.timepicker && (o += this.gp(i)), this.Ad && (o += this.Fd()), o += "</div>"), this.Wi.innerHTML = o, this.Wi.firstChild.style.marginTop = n, "time" == this.P.type) { var a = this.P.date; a && ("string" == typeof a ? i = A.parseTimeFormatDate(a) : $(a) && (i.setHours(a[0]), i.setMinutes(a[1]))), this.wp(-1, i) } else "month" == this.P.type ? this.wp(1, i) : "year" == this.P.type && this.wp(2, i); this.ve(), this.callEvent("onAfterRender", [])
				}
			}, Fd: function(t) { for (var i = "<div class='webix_cal_icons'>", e = this.Ad, s = 0; s < e.length; s++) { if (e[s].template) { var n = "function" == typeof e[s].template ? e[s].template : n(e[s].template); i += n.call(this, t) } e[s].on_click && T.extend(this.on_click, e[s].on_click) } return i += "</div>" }, gp: function(t) { var i = this.P.calendarTime || A.timeFormatStr, e = this.P.timeIcon, s = ""; if (this.P.master) { var n = _(ai(this.P.master).P.value); for (var r in rn.equal(n.end, t) && (n.start = n.end), n) s += "<div role='button' tabindex='0' class='webix_range_time_" + r + " webix_cal_time'><span class='webix_icon " + e + "'></span> " + i(n[r]) + "</div>" } else s = "<div role='button' tabindex='0' class='webix_cal_time" + (this.Ad ? " webix_cal_time_icons" : "") + "'><span class='webix_icon " + e + "'></span> " + i(t) + "</div>"; return s }, bp: function(t) { var i = this.P, e = "", s = 0; i.weekNumber && (s = 1, e += "<div class='webix_cal_week_header' style='width: " + t[0] + "px;' >" + (i.calendarWeekHeader || "") + "</div>"); for (var n = rn.startOnMonday ? 1 : 0, r = 0; r < 7; r++) { var h = (n + r) % 7, o = A.calendar.dayShort[h]; e += "<div day='" + h + "' style='width: " + t[r + s] + "px;' >" + o + "</div>" } return e }, blockDates_setter: function(t) { return v(t, this.$scope) }, xp: function(t, i) { var e = "", s = !1; return rn.equal(t, this.pp) && (e += " webix_cal_today"), this.yp(t) || (e += " webix_cal_day_disabled"), t.getMonth() != i.cp && (s = !0, e += " webix_cal_outside"), !s && this.Mp(t) && (e += " webix_cal_select"), this.P.events && (e += " " + (this.P.events(t, s) || "")), e += " webix_cal_day" }, mp: function(t, i, e, s) { for (var n = this.P, r = "", h = rn.datePart(rn.copy(e.fp)), o = n.weekNumber ? 1 : 0, a = rn.getISOWeek(rn.add(h, 2, "day", !0)), u = 0; u < i.length; u++) { r += "<div class='webix_cal_row' style='height:" + i[u] + "px;line-height:" + i[u] + "px'>", o && (!h.getMonth() && h.getDate() < 7 && (a = rn.getISOWeek(rn.add(h, 2, "day", !0))), r += "<div class='webix_cal_week_num' aria-hidden='true' style='width:" + t[0] + "px'>" + a + "</div>"); for (var c = o; c < t.length; c++) { var f = this.xp(h, e), l = this.P.dayTemplate.call(this, h), d = this.Mp(h), v = "", _ = h.getMonth() != e.cp; "object" == M(l) ? (v = l.aria || v, l = l.text) : v = rn.dateToStr(A.aria.dateFormat)(h), r += "<div day='" + c + "' role='gridcell' " + (_ ? "aria-hidden='true'" : "") + " aria-label='" + v + "' tabindex='" + (d && !_ ? "0" : "-1") + "' aria-selected='" + (d && !_ ? "true" : "false") + "' class='" + f + "' style='text-align:center; width:" + t[c] + "px'><span aria-hidden='true' class='webix_cal_day_inner' style='display:inline-block; " + this.Sp(s, s) + "'>" + l + "</span></div>", (h = rn.add(h, 1, "day")).getHours() && (h = rn.datePart(h)) } r += "</div>", a++ } return r }, Ld: function(t, i) { var e = this.P.date; i || (i = this.jd[this.gd].Pd), this.gd || (e = rn.copy(e)).setDate(1); var s = rn.add(e, t * i, "month", !0); this.kp(e, s) }, kp: function(t, i) { this.callEvent("onBeforeMonthChange", [t, i]) && (this.gd ? this.Cp(i) : this.showCalendar(i), this.callEvent("onAfterMonthChange", [i, t])) }, jd: {
				"-2": { $p: function(t) { var i = this.P, e = i.date, s = !1, n = i.minTime ? i.minTime[0] : 0, r = i.maxTime ? i.maxTime[0] + (i.maxTime[1] ? 1 : 0) : 24, h = i.minTime && e.getHours() == n ? i.minTime[1] : 0, o = i.maxTime && i.maxTime[1] && e.getHours() == r - 1 ? i.maxTime[1] : 60; if (this.P.blockTime) { var a = rn.copy(e); a.setMinutes(t), s = this.P.blockTime(a) } return t < h || o <= t || s }, Dp: function(t, i) { t.setMinutes(i) }, Ip: function(t, i, e) { if (!this.$p.call(e, t.getMinutes())) return t; var s = e.P.minuteStep, n = rn.add(t, "right" == i ? s : -s, "minute", !0); return t.getHours() === n.getHours() ? this.Ip(n, i, e) : void 0 } }, "-1": {
					$p: function(t) {
						var i = this.P, e = i.date, s = i.minTime ? i.minTime[0] : 0, n = i.maxTime ? i.maxTime[0] + (i.maxTime[1] ? 1 : 0) : 24; if (t < s || n <= t) return !0; if (i.blockTime) {
							var r = rn.copy(e); r.setHours(t); for (var h = i.minTime && t == s ? i.minTime[1] : 0, o = i.maxTime && i.maxTime[1] && t == n - 1 ? i.maxTime[1] : 60, a = h; a < o; a += i.minuteStep)if (r.setMinutes(a), !i.blockTime(r)) return !1; return !0
						}
					}, Dp: function(t, i) { t.setHours(i) }, op: function(t, i, e) { var s, n, r = e.P.minuteStep; return "bottom" === i || "top" === i ? (t.setHours("bottom" === i ? 23 : 0), t.setMinutes("bottom" === i ? 55 : 0), t.setSeconds(0), t.setMilliseconds(0), s = t) : "left" === i || "right" === i ? (n = "right" === i ? r : -r, "left" === i && t.getMinutes() < r && (n = 60 - r), "right" === i && t.getMinutes() >= 60 - r && (n = r - 60), n -= t.getMinutes() % r, s = e.jd[-2].Ip(rn.add(t, n, "minute"), i, e)) : "up" === i || "down" === i ? (n = "down" === i ? 1 : -1, "down" === i && 23 === t.getHours() && (n = -23), "up" === i && 0 === t.getHours() && (n = 23), s = this.Ip(rn.add(t, n, "hour"), i, e)) : !1 === i && (s = this.Ip(t, i, e)), e.selectDate(s, !1, !1, "user"), s && (e.Cp(s), e.selectDate(s, !1, !1, "user")), "webix_cal_block" + ("left" === i || "right" === i ? "_min" : "") }, Ip: function(t, i, e) { if (!this.$p.call(e, t.getHours())) return t; var s = rn.add(t, "down" == i ? 1 : -1, "hour", !0); return t.getDate() === s.getDate() ? this.Ip(s, i, e) : void 0 }
				}, 0: { Pd: 1, op: function(t, i, e) { var s = t; return "pgup" === i || "pgdown" === i ? s = rn.add(t, "pgdown" === i ? 1 : -1, "month") : "bottom" === i ? s = new Date(t.getFullYear(), t.getMonth() + 1, 0) : "top" === i ? s = new Date(t.setDate(1)) : "left" === i || "right" === i ? s = rn.add(t, "right" === i ? 1 : -1, "day") : "up" !== i && "down" !== i || (s = rn.add(t, "down" === i ? 1 : -1, "week")), e.yp(s) || (s = e.Ip(t, i)), s && e.selectDate(s, !0, !1, "user"), "webix_cal_day" } }, 1: { $p: function(t, i) { var e = !1, s = i.P.minDate, n = i.P.maxDate, r = i.P.date.getFullYear(); if (s) { var h = s.getFullYear(); e = r < h || r == h && s.getMonth() > t } if (n && !e) { var o = n.getFullYear(); e = o < r || r == o && n.getMonth() < t } return e }, dl: function(t, i) { return (t = rn.monthStart(t)) < i.P.minDate ? t = rn.copy(i.P.minDate) : t > i.P.maxDate && (t = rn.copy(i.P.maxDate)), t }, Ap: function(t) { return t.getFullYear() }, Fp: function(t) { return A.calendar.monthShort[t] }, Dp: function(t, i) { i != t.getMonth() && t.setDate(1), t.setMonth(i) }, Pd: 12, op: function(t, i, e) { var s = t; return "pgup" === i || "pgdown" === i ? s = rn.add(t, "pgdown" === i ? 1 : -1, "year") : "bottom" === i ? s = new Date(t.setMonth(11)) : "top" === i ? s = new Date(t.setMonth(0)) : "left" === i || "right" === i ? s = rn.add(t, "right" === i ? 1 : -1, "month") : "up" !== i && "down" !== i || (s = rn.add(t, "down" === i ? 4 : -4, "month")), s = e.dl(s), e.yp(s) || (s = e.Ip(t, i)), s && (e.Cp(s), e.selectDate(s, !1, !1, "user")), "webix_cal_block" } }, 2: { $p: function(t, i) { t += i.Tp; var e = i.P.minDate, s = i.P.maxDate; return !!(e && e.getFullYear() > t || s && s.getFullYear() < t) }, dl: function(t, i) { return (t = rn.yearStart(t)) < i.P.minDate ? t = rn.copy(i.P.minDate) : t > i.P.maxDate && (t = rn.copy(i.P.maxDate)), t }, Ap: function(t, i) { var e = t.getFullYear(); return i.Tp = e = e - e % 10 - 1, e + " - " + (e + 10 + 1) }, Fp: function(t, i) { return i.Tp + t }, Dp: function(t, i, e) { t.setFullYear(e.Tp + i) }, Pd: 120, op: function(t, i, e) { var s = t; return "pgup" === i || "pgdown" === i ? s = rn.add(t, "pgdown" === i ? 10 : -10, "year") : "bottom" === i ? s = new Date(t.setYear(e.Tp + 10)) : "top" === i ? s = new Date(t.setYear(e.Tp)) : "left" === i || "right" === i ? s = rn.add(t, "right" === i ? 1 : -1, "year") : "up" !== i && "down" !== i || (s = rn.add(t, "down" === i ? 4 : -4, "year")), s = e.dl(s), e.yp(s) || (s = e.Ip(t, i)), s && (e.Cp(s), e.selectDate(s, !1, !1, "user")), "webix_cal_block" } }
			}, Vp: function() { var t; if (this.jd[-1].$p.call(this, this.P.date.getHours())) for (t = 0; t < 24; t++)if (!this.jd[-1].$p.call(this, t)) { this.P.date.setHours(t); break } if (this.jd[-2].$p.call(this, this.P.date.getMinutes())) for (t = 0; t < 60; t += this.P.minuteStep)if (!this.jd[-2].$p.call(this, t)) { this.P.date.setMinutes(t); break } }, Cp: function(t) {
				var i, e, s, n, r, h, o, a, u, c, f, l, d = "", v = this.hp + "px"; if (r = 2 - ((i = this.P).weekHeader ? 0 : 1) - (i.monthHeader ? 0 : 1), c = this.jd[this.gd], h = this.Wi.childNodes, t && (i.date = t), a = i.type, this._p || (this.zp = this.Wi.offsetHeight - (i.monthHeader || this.ep ? i.headerHeight : 0) - 2 * (this.hp + Oi.borderWidth), "year" != a && "month" != a && (this.zp -= i.timepickerHeight), this.Bp = h[r].offsetWidth, this._p = 1), this.ep) {
					s = this.zp / 6; var _ = 6, p = (this.K_ || A.timeFormat).match(/%([a,A])/); for (p && _++, u = parseInt((this.Bp - 3) / _, 10), l = Math.min(u, s), d += "<div class='webix_time_header' style='margin:0 " + v + "'>" + this.Hp(u, p) + "</div>", d += "<div  class='webix_cal_body' style='height:" + this.zp + "px; margin:0 " + v + ";'>", this.Vp(
					), d += "<div class='webix_hours'>", o = i.date.getHours(), f = rn.copy(i.date), n = 0; n < 24; n++) { if (e = "", p && n % 4 == 0) { var b = n ? 12 == n ? A.pm[0] : "" : A.am[0]; d += "<div class='webix_cal_block_empty" + e + "' style='" + this.Sp(u, s) + "clear:both;'>" + b + "</div>" } this.jd[-1].$p.call(this, n) ? e += " webix_cal_day_disabled" : o == n && (e += " webix_selected"), f.setHours(n), d += "<div aria-label='" + rn.dateToStr(A.aria.hourFormat)(f) + "' role='gridcell' tabindex='" + (o == n ? "0" : "-1") + "' aria-selected='" + (o == n ? "true" : "false") + "' class='webix_cal_block" + e + "' data-value='" + n + "' style='" + this.Sp(u, s) + (n % 4 != 0 || p ? "" : "clear:both;") + "'><span style='display:inline-block; " + this.Sp(l, l) + "'>" + rn.toFixed(p ? n && 12 != n ? n % 12 : 12 : n) + "</span></div>" } for (d += "</div>", d += "<div class='webix_minutes'>", o = i.date.getMinutes(), f = rn.copy(i.date), n = 0; n < 60; n += i.minuteStep)e = "", this.jd[-2].$p.call(this, n) ? e = " webix_cal_day_disabled" : o == n && (e = " webix_selected"), f.setMinutes(n), d += "<div aria-label='" + rn.dateToStr(A.aria.minuteFormat)(f) + "' role='gridcell' tabindex='" + (o == n ? "0" : "-1") + "' aria-selected='" + (o == n ? "true" : "false") + "' class='webix_cal_block webix_cal_block_min" + e + "' data-value='" + n + "' style='" + this.Sp(u, s) + (n / i.minuteStep % 2 == 0 ? "clear:both;" : "") + "'><span style='display:inline-block; " + this.Sp(l, l) + "'>" + rn.toFixed(n) + "</span></div>"; d += "</div>", d += "</div>", d += "<div class='webix_time_footer' style='margin:0 " + v + "'>" + this.Rp() + "</div>", this.Wi.innerHTML = d, this.Wi.firstChild.style.marginTop = v
				} else { if (i.monthHeader) { var m = h[0].childNodes, g = A.aria["nav" + (1 == this.gd ? "Year" : "Decade")]; m[0].innerHTML = c.Ap(i.date, this), m[0].blur(), i.navigation && (m[1].setAttribute("aria-label", g[0]), m[2].setAttribute("aria-label", g[1])) } else c.Ap(i.date, this); for (s = Math.floor(this.zp / 3), u = Math.floor(this.Bp / 4), l = Math.min(s, u), this.yp(i.date) && (o = 1 == this.gd ? i.date.getMonth() : i.date.getFullYear()), n = 0; n < 12; n++) { e = o == (1 == this.gd ? n : c.Fp(n, this)) ? " webix_selected" : "", c.$p(n, this) && (e += " webix_cal_day_disabled"); var w = A.aria[(1 == this.gd ? "month" : "year") + "Format"]; d += "<div role='gridcell' aria-label='" + rn.dateToStr(w)(i.date) + "' tabindex='" + (-1 !== e.indexOf("selected") ? "0" : "-1") + "' aria-selected='" + (-1 !== e.indexOf("selected") ? "true" : "false") + "' class='webix_cal_block" + e + "' data-value='" + n + "' style='" + this.Sp(u, s) + "'><span style='display:inline-block; " + this.Sp(l, l) + "'>" + c.Fp(n, this) + "</span></div>" } i.weekHeader && (h[r - 1].style.display = "none", 1 === r && (h[r].style.marginTop = v)), h[r].innerHTML = d, "year" != a && "month" != a ? h[r + 1] ? h[r + 1].innerHTML = this.Rp() : this.Wi.innerHTML += "<div class='webix_time_footer' style='margin:0 " + v + "'>" + this.Rp() + "</div>" : h[r + 1] && (h[r + 1].style.display = "none"), h[r].style.height = this.zp + "px" }
			}, Sp: function(t, i) { return "width:" + t + "px; height:" + i + "px; line-height:" + i + "px;" }, Rp: function() { return "<input type='button' style='width:100%' class='webix_cal_done' value='" + A.calendar.done + "'>" }, Hp: function(t, i) { var e = 2 * t; return "<div class='webix_cal_hours' style='width:" + t * (i ? 5 : 4) + "px'>" + A.calendar.hours + "</div><div class='webix_cal_minutes' style='width:" + e + "px'>" + A.calendar.minutes + "</div>" }, wp: function(t, i) { var e = this.gd; this.callEvent("onBeforeZoom", [t, e]) && ((this.gd = t) ? this.Cp(i) : this.showCalendar(i), this.callEvent("onAfterZoom", [t, e])) }, dl: function(t) { return !this.yp(t) && this.jd[this.gd].dl && (t = this.jd[this.gd].dl(t, this)), t }, Ep: function(t, i) { var e = this.Q_(t), s = this.gd - (this.sp ? 0 : 1); if (e = this.dl(e), this.yp(e)) { this.wp(s, e); var n = this.P.type; "month" != n && "year" != n || this.Pp(e, !1, i) } }, Pp: function(t, i, e) { this.callEvent("onBeforeDateSelect", [t]) && (this.selectDate(t, !0, i, e), this.callEvent("onDateSelect", [t]), this.callEvent("onAfterDateSelect", [t])) }, Z_: function(t) { var i = at(t) - (this.P.weekNumber ? 1 : 0), e = at(t.parentNode), s = rn.add(this.np().fp, i + 7 * e, "day", !0); return this.P.timepicker && (s.setHours(this.P.date.getHours()), s.setMinutes(this.P.date.getMinutes())), s }, Q_: function(t) { var i = 1 * t.getAttribute("data-value"), e = -1 != t.className.indexOf("webix_cal_block_min") ? this.gd - 1 : this.gd, s = this.P.date, n = rn.copy(s); return this.jd[e].Dp(n, i, this), n }, on_click: {
				webix_cal_prev_button: function() { this.Ld(-1) }, webix_cal_next_button: function() { this.Ld(1) },
				webix_cal_day_disabled: function() { return !1 }, webix_cal_outside: function() { if (!this.P.navigation) return !1 }, webix_cal_day: function(t, i, e) { var s = this.Z_(e), n = "touch" === this.P.multiselect || t.ctrlKey || t.metaKey; this.Pp(s, n, "user") }, webix_cal_time: function() { if (this.jd[this.gd - 1]) { this.ep = !0; var t = this.gd - 1; this.wp(t) } }, webix_range_time_start: function() { ai(this.P.master).Ed = "start" }, webix_range_time_end: function() { ai(this.P.master).Ed = "end" }, webix_cal_done: function() { var t = rn.copy(this.P.date); t = this.dl(t), this.Pp(t, !1, "user") }, webix_cal_month_name: function() { if (this.P.navigation && (this.ep = !1, 2 != this.gd && this.P.monthSelect)) { var t = Math.max(this.gd, 0) + 1; this.wp(t) } }, webix_cal_block: function(t, i, e) { if (this.ep) { if (-1 !== e.className.indexOf("webix_cal_day_disabled")) return !1; var s = this.Q_(e); this.Cp(s) } else -1 == e.className.indexOf("webix_cal_day_disabled") && this.Ep(e, "user") }
			}, Id: function(t, i) { return t ? ("string" == typeof t && (t = i ? rn.strToDate(i)(t) : A.parseFormatDate(t)), t) : rn.datePart(new Date) }, yp: function(t) { var i = this.P.blockDates && this.P.blockDates.call(this, t), e = this.P.minDate, s = this.P.maxDate; return !i && !(t < e || s < t) }, Ip: function(t, i) { var e, s = "top" === i || "left" === i || "pgup" === i || "up" === i ? -1 : 1, n = rn.add(t, s, "day", !0); return this.yp(n) ? n : (0 === this.gd ? e = t.getMonth() === n.getMonth() : 1 === this.gd ? e = t.getFullYear() === n.getFullYear() : 2 === this.gd && (e = n.getFullYear() > this.Tp && n.getFullYear() < this.Tp + 10), e ? this.Ip(n, i) : void 0) }, showCalendar: function(t) { t = this.Id(t), this.P.date = t, this.render(), this.resize() }, Mp: function(t) { return t && this.ip[t.valueOf()] }, getSelectedDate: function() { var t = []; for (var i in this.ip) t.push(rn.copy(this.ip[i])); return this.config.multiselect ? t : t[0] || null }, getVisibleDate: function() { return rn.copy(this.P.date) }, setValue: function(t, i) { this.selectDate(t, !0, !1, i) }, getValue: function(t) { var i = this.getSelectedDate(); return t && (i = rn.dateToStr(t)(i)), i }, selectDate: function(t, i, e, s) { if (t && e && this.config.multiselect || (this.ip = {}), t) { $(t) || (t = [t]); for (var n = 0; n < t.length; n++) { var r = this.Id(t[n]), h = rn.datePart(rn.copy(r)).valueOf(); if (this.ip[h] && e ? delete this.ip[h] : this.ip[h] = r, !this.config.multiselect) break } t.length && i && this.showCalendar(t[0]) } !1 !== i && this.render(), this.callEvent("onChange", [t, s]) }, locate: function() { return null }
		}), mr = (T.protoUI(br, ze, He, Ri.view, g), {
			name: "colorboard", defaults: { template: function(t) { return '<div class="webix_color_item" style="background-color:'.concat(t.val, ';"></div>') }, palette: null, height: 250, width: 260, cols: 11, rows: 10, minLightness: .15, maxLightness: 1, navigation: !0, grayScale: !0, type: "material" }, $init: function() { Zt(this.Vt, "click", S(function(t) { var i = pt(t.target.parentNode, "webix_val"); if (i) { var e = this.P.value; i = this.setValue(i, "user"), this.callEvent("onItemClick", [i, t]), i != e && this.callEvent("onSelect", [i]) } }, this)), this.$view.setAttribute("role", "grid"), this.Vt.setAttribute("aria-readonly", "true") }, jp: function() { return ["#F34336", "#FF9700", "#FFEA3B", "#4CB050", "#009788", "#00BCD4", "#2196F3", "#3F51B5", "#673BB7", "#9C28B1", "#EA1E63"] }, yu: function() { this.getValue() || this.moveSelection("up") }, Np: function(t) { var i = this.P.palette; t = (t || "").toUpperCase(); for (var e = 0, s = i.length; e < s; e++)for (var n = 0, r = i[e].length; n < r; n++)if (i[e][n].toUpperCase() == t) return { row: e, col: n }; return null }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.render() }, getValue: function() { return this.P.value }, Lp: function() { return this.Vt.firstChild }, $prepareValue: function(t) { return (t = t ? t.toString(16) : "") && "#" != t.charAt(0) && /^[0-9a-fA-F]+$/.test(t) && (t = "#" + t), t }, value_setter: function(t) { return this.$prepareValue(t) }, setValue: function(t, i) { t = this.$prepareValue(t); var e = this.P.value; return e != t && (this.P.value = t, this.$setValue(t), this.callEvent("onChange", [t, e, i])), t }, $setValue: function(t) { if (this.isVisible(this.P.id)) { if (this.Op) { var i = this.Wp(this.Op); this.Up(i, !1) } var e = this.Op = this.Np(t); if (e) { var s = this.Wp(e); this.Up(s, !0) } } }, Wp: function(t) { return this.Vt.lastChild.childNodes[t.row].childNodes[t.col] }, Up: function(t, i) {
				i ? (t.setAttribute("tabindex", "0"), t.setAttribute("aria-selected", "true"), Mt(t, "webix_color_selected")) : (t.setAttribute(
					"tabindex", "-1"), t.removeAttribute("aria-selected"), St(t, "webix_color_selected"))
			}, Yp: function(t) { return We.toHex(t, 2) }, qp: function(t, i, e) { return "#" + this.Yp(Math.floor(t)) + this.Yp(Math.floor(i)) + this.Yp(Math.floor(e)) }, Gp: function(t, i, e) { var s, n, r; if (i) { var h = e < .5 ? e * (1 + i) : e + i - e * i, o = 2 * e - h; s = this.Xp(o, h, t + 1 / 3), n = this.Xp(o, h, t), r = this.Xp(o, h, t - 1 / 3) } else s = n = r = e; return { r: 255 * s, g: 255 * n, b: 255 * r } }, Xp: function(t, i, e) { return e < 0 && (e += 1), 1 < e && (e -= 1), e < 1 / 6 ? t + 6 * (i - t) * e : e <= .5 ? i : e < 2 / 3 ? t + (i - t) * (2 / 3 - e) * 6 : t }, Kp: function(t, i) { return { r: t[0] * i + 255 * (1 - i), g: t[1] * i + 255 * (1 - i), b: t[2] * i + 255 * (1 - i) } }, Jp: function(t) { for (var i = [], e = 255, s = e / t, n = 0; n < t; n++)e = Math.round(0 < e ? e : 0), i.push(this.qp(e, e, e)), e -= s; return i[i.length - 1] = "#000000", i }, Zp: function(t) { var i = this.jp(); t.cols = i.length; var e = [], s = t.rows - 1, n = 1 / t.rows, r = null; if (this.P.grayScale) { var h = this.Jp(t.cols); e.push(h.reverse()), n = 1 / s, s -= 1 } e.push(i); for (var o = 0, a = t.maxLightness; o < s; o++) { a -= n, r = []; for (var u = 0; u < t.cols; u++) { var c = We.toRgb(i[u]), f = this.Kp(c, a); r.push(this.qp(f.r, f.g, f.b)) } e.push(r) } this.P.palette = e }, Qp: function(t) { var i = [], e = 1 / t.cols, s = t.rows, n = null; this.P.grayScale && (i.push(this.Jp(t.cols)), s -= 1); for (var r = (t.maxLightness - t.minLightness) / s, h = 0, o = t.minLightness; h < s; h++) { n = []; for (var a = 0, u = 0; a < t.cols; a++) { var c = this.Gp(u, 1, o); n.push(this.qp(c.r, c.g, c.b)), u += e } i.push(n), o += r } this.P.palette = i }, moveSelection: function(t, i, e) { var s, n, r = this.getValue(); if (r && (s = this.Np(r)), s || (s = { row: 0, col: 0 }), s) { if ("up" == t || "down" == t ? s.row = s.row + ("up" == t ? -1 : 1) : "right" == t || "left" == t ? s.col = s.col + ("right" == t ? 1 : -1) : "top" == t ? s.row = s.col = 0 : "bottom" == t && (s.row = this.Vt.lastChild.querySelectorAll(".webix_color_row").length - 1, s.col = this.Vt.lastChild.childNodes[s.row].childNodes.length - 1), s.row = Math.max(s.row, 0), 0 <= s.row) { var h = this.Vt.lastChild.childNodes[s.row]; h && (n = h.childNodes[s.col]) } if (n) { r = n.getAttribute("webix_val"); var o = i && i.e instanceof KeyboardEvent ? "user" : "auto"; if (this.setValue(r, o), this.callEvent("onSelect", [this.P.value]), !1 !== e) { var a = this.Vt.querySelector("div[tabindex='0']"); a && a.focus() } } } }, tb: function(t, i, e) { for (var s = { width: 0, height: 0, val: 0 }, n = '<div class="webix_color_row" role="row">', r = 0; r < t.length; r++)s.width = i[r], s.height = e, s.val = t[r], n += this.ib(s); return n += "</div>" }, ib: function(t) { var i = qt(this.P.template || ""); return '<div role="gridcell" tabindex="-1" aria-label="'.concat(t.val, '" style="width:').concat(t.width, "px;height:").concat(t.height, 'px;" ', "webix_val", '="').concat(t.val, '">').concat(i(t), "</div>") }, render: function() { if (this.isVisible(this.P.id)) { var t = this.P.type; this.P.palette || ("classic" === t ? this.Qp(this.P) : this.Zp(this.P)); var i = this.P.palette; this.callEvent("onBeforeRender", []); for (var e = "classic" === t ? 0 : Oi.colorPadding, s = "object" == M(i[0]), n = s ? i[0] : i, r = 2 * e + e * (n.length - 1), h = 2 * e + e * (s ? i.length - 1 : 0), o = this.$width - r, a = this.$height - h, u = [], c = '<div class="webix_color_palette '.concat("webix_palette_" + t, '" role="rowgroup">'), f = 0; f < n.length; f++)u[f] = Math.floor(o / (n.length - f)), o -= u[f]; if ("object" == M(i[0])) for (var l = 0; l < i.length; l++) { var d = Math.floor(a / (i.length - l)); a -= d; var v = i[l]; c += this.tb(v, u, d) } else c += this.tb(i, u, a); c += "</div>", this.Vt.innerHTML = c, this.P.value ? this.$setValue(this.P.value) : this.Vt.lastChild.childNodes[0].childNodes[0].setAttribute("tabindex", "0"), this.ve(), this.callEvent("onAfterRender", []) } }, refresh: function() { this.render() }
		}), gr = (T.protoUI(mr, ze, Ri.view, g), {
			name: "colorselect", defaults: { width: 260, height: 250, value: "#751FE0" }, $init: function() {
				var n = this; this.eb = this.sb = this.nb = 0, G.touch && this.attachEvent("onTouchStart", function(t, i) { var e = t.target.className, s = t.target.parentNode.className; "webix_color_block" == e || "webix_color_block" == s ? n.rb(i || t) : 0 == e.indexOf("webix_color_line") && n.rb(i || t, !0) }), Zt(this.$view, "keydown", function(t) { return n.hb(t) }), this.attachEvent("onAfterRender", function() {
					var i = this; G.touch || (Zt(this.ob, "mousedown", function(t) { return i.rb(t) }), Zt(this.ab, "mousedown", function(t) { return i.rb(t, !0) })), Zt(this.ub, "change", function() { return i.setValue(i.ub.value, "user") }), this.P.button && Zt(this.Vt.querySelector(".webix_button"), "click", function() {
						i.callEvent("onColorSelect", [i.getValue()])
					})
				}), this.attachEvent("onDestruct", function() { this.cb = this.fb = this.ob = null, this.ab = this.ub = this.lb = this.db = null, this.vb && this._b() })
			}, $skin: function() { this.pb = "compact" == Wi || "mini" == Wi ? 24 : 32 }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.render() }, getValue: function() { return this.P.value }, $prepareValue: function(t) { return (t = t ? t.toString(16) : "") && "#" != t.charAt(0) && /^[0-9a-fA-F]+$/.test(t) && (t = "#" + t), t }, value_setter: function(t) { return this.$prepareValue(t) }, setValue: function(t, i) { t = this.$prepareValue(t); var e = this.P.value; e != t && (this.P.value = t, this.$setValue(t), this.callEvent("onChange", [t, e, i])) }, $setValue: function(t) { if (this.isVisible(this.P.id)) { var i = We.toRgb(t); if (t !== this.bb) { var e = We.rgbToHsv.apply(We, o(i)); this.eb = e[0], this.sb = e[1], this.nb = e[2] } var s = this.eb * this.db.width / 359; this.fb.style.left = s + "px"; var n = this.sb * this.db.width, r = Math.abs(this.db.height * (this.nb - 1)); this.cb.style.left = Math.max(Math.min(n, this.db.width), 0) + "px", this.cb.style.top = Math.max(Math.min(r, this.db.height), 0) + "px", this.cb.setAttribute("aria-valuetext", t), this.fb.setAttribute("aria-valuetext", t), this.mb(i, t), this.gb() } }, mb: function(t, i) { t || (t = We.hsvToRgb(this.eb, this.sb, this.nb)), i || (i = "#" + We.rgbToHex(t)); var e = "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ")"); this.cb.style.backgroundColor = e, this.lb.style.backgroundColor = e, this.ub.value = i.toUpperCase(), this.bb = i }, gb: function() { var t = We.hsvToRgb(this.eb, 1, 1), i = "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ")"); this.fb.style.backgroundColor = i, this.ob.style.backgroundColor = i }, wb: function(t) { var i = G.touch ? { x: t.x, y: t.y } : gt(t), e = i.x - this.db.x, s = i.y - this.db.y; e = Math.max(Math.min(e, this.db.width), 0), s = Math.max(Math.min(s, this.db.height), 0), this.cb.style.left = e + "px", this.cb.style.top = s + "px"; var n = this.db.width / 100, r = this.db.height / 100, h = Math.ceil(e / n) / 100, o = Math.ceil(Math.abs(s / r - 100)) / 100; this.sb = h, this.nb = o, this.mb() }, xb: function(t) { var i = (G.touch ? { x: t.x, y: t.y } : gt(t)).x - this.db.x; i = Math.max(Math.min(i, this.db.width), 0), this.fb.style.left = i + "px"; var e = Math.round(359 * i / this.db.width); this.eb = Math.max(Math.min(e, 359), 0), this.mb(), this.gb() }, rb: function(t, e) { var s = this; this.db = bt(this.ob), e ? (Mt(this.ab, "webix_color_area_active"), this.xb(t)) : (Mt(this.ob, "webix_color_area_active"), this.wb(t)), G.touch ? this.vb = [this.attachEvent("onTouchMove", function(t, i) { return s.yb(i || t, e) }), this.attachEvent("onTouchEnd", function() { return s.Mb(e) })] : this.vb = [Qt(document.body, "mousemove", function(t) { return s.yb(t, e) }), Qt(window, "mouseup", function() { return s.Mb(e) })], Mt(document.body, "webix_noselect") }, yb: function(t, i) { i ? this.xb(t) : this.wb(t) }, _b: function() { G.touch ? (this.detachEvent(this.vb[0]), this.detachEvent(this.vb[1])) : (ti(this.vb[0]), ti(this.vb[1])), this.vb = null }, Mb: function(t) { this._b(), this.setValue(this.bb, "user"), t ? (St(this.ab, "webix_color_area_active"), this.fb.focus()) : (St(this.ob, "webix_color_area_active"), this.cb.focus()), St(document.body, "webix_noselect") }, Sb: function(t, i) { return Math.min(Math.max(t + i / 100, 0), 1) }, kb: function(t, i) { return Math.min(Math.max(t + i, 0), 359) }, hb: function(t) { var i = t.keyCode; if (32 < i && i < 41) { var e = /webix_color_(\w*)circle/.exec(t.target.className); if (!e) return; if (wt(t), e[1].length) { if (36 === i) this.eb = 0; else if (35 === i) this.eb = 359; else { var s = 37 === i || 40 === i || 34 === i ? -1 : 1; this.eb = this.kb(this.eb, s) } this.gb() } else if (36 === i) this.sb = 0, this.nb = 1; else if (35 === i) this.sb = this.nb = 1; else if (39 === i || 37 === i) { var n = 39 === i ? 1 : -1; this.sb = this.Sb(this.sb, n) } else { var r = 33 === i || 38 === i ? 1 : -1; this.nb = this.Sb(this.nb, r) } this.mb(), this.P.value == this.bb ? this.$setValue(this.bb) : this.setValue(this.bb, "user") } }, moveSelection: function(t) { if ("pgup" == t || "pgdown" == t) { var i = "pgup" === t ? -1 : 1; this.eb = this.kb(this.eb, i), this.gb() } else if ("top" != t && "bottom" !== t) { var e = "up" == t || "right" == t ? 1 : -1; "down" == t || "up" == t ? this.nb = this.Sb(this.nb, e) : this.sb = this.Sb(this.sb, e) } this.mb(), this.setValue(this.bb, "auto") }, render: function() {
				if (this.isVisible(this.P.id)) {
					this.callEvent("onBeforeRender", []); var t = (this.$width - 3 * Oi.dataPadding) / 2, i = this.$height - 24 - 32 - this.pb - (
						this.P.button ? this.pb + 12 : 0), e = '<div class="webix_color_area">'; e += "\n\t\t\t<div ".concat("webix_disable_drag", '="true" class="webix_color_block" style="height:', i, 'px;">\n\t\t\t\t<div class="webix_color_circle" tabindex="0" role="slider"></div>\n\t\t\t</div>\n\t\t\t<div ', "webix_disable_drag", '="true" class="webix_color_line">\n\t\t\t\t<div class="webix_color_line_circle" tabindex="0" role="slider"></div>\n\t\t\t</div>\n\t\t\t<div class="webix_color_out">\n\t\t\t\t<div style="width:').concat(t, 'px" class="webix_color_out_block"></div>\n\t\t\t\t<input type="text" style="width:').concat(t, 'px" class="webix_color_out_text"></input>\n\t\t\t</div>\n\t\t'), this.P.button && (e += "<div class='webix_secondary'><button class=\"webix_button\">".concat(A.combo.select, "</button></div>")), e += "</div>", this.Vt.innerHTML = e, this.Cb(), this.$setValue(this.P.value), this.ve(), this.callEvent("onAfterRender", [])
				}
			}, Cb: function() { this.cb = this.Vt.querySelector(".webix_color_circle"), this.fb = this.Vt.querySelector(".webix_color_line_circle"), this.ob = this.Vt.querySelector(".webix_color_block"), this.ab = this.Vt.querySelector(".webix_color_line"), this.ub = this.Vt.querySelector(".webix_color_out_text"), this.lb = this.Vt.querySelector(".webix_color_out_block"), this.db = bt(this.ob) }, refresh: function() { this.render() }
		}), wr = (T.protoUI(gr, Ri.view, g), {
			name: "button", touchable: !0, $skin: function() { this.defaults.height = Oi.buttonHeight || Oi.inputHeight }, defaults: { template: function(t, i) { var e = i.$renderInput(t, i); return (t.badge || 0 === t.badge) && (e = e.replace("</button>", "<span class='webix_badge'>" + t.badge + "</span></button>")), "<div class='webix_el_box' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + e + "</div>" }, label: "", value: "", borderless: !0 }, $renderInput: function(t) { return "<button type='button' " + (t.popup ? "aria-haspopup='true'" : "") + " class='webix_button'>" + (t.label || t.value) + "</button>" }, $init: function(t) { this.Vt.className += " webix_control webix_el_" + (this.$cssName || this.name), this.Bt = [], this.$b(t), this.data = this.P, this.tt = this.Vt, this.$ready.push(function() { this.Db(this.config) }) }, hotkey_setter: function(t) { var e = this; this.Ib(t, function(t, i) { e.isVisible() && (yt(e.$view.firstChild, "MouseEvents", "click"), wt(i)) }) }, $b: function(t) { t.css && this.Ab(t.css) && (!this.defaults.css || this.Ab(this.defaults.css)) || (this.Vt.className += " webix_secondary") }, Ab: function(t) { if ("string" == typeof t) { for (var i in { webix_danger: 1, webix_transparent: 1, webix_primary: 1 }) if (-1 !== t.indexOf(i)) return !0 } return !1 }, Ib: function(t, i, e) { var s = Si.addHotKey(t, i, e); this.attachEvent("onDestruct", function() { Si.removeHotKey(s, i, e) }) }, type_setter: function(t) { return this.wd[t] && (this.$renderInput = qt(this.wd[t])), t }, Fb: !1, wd: { image: "<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'>#label#</button>", imageTop: "<button type='button' class='webix_button webix_img_btn_top'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'><div class='webix_img_btn_text'>#label#</div></button>", icon: "<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;'></span>#label#</button>", iconTop: "<button type='button' class='webix_button webix_img_btn_top' style='width:100%;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#label#</div></button>" }, Tb: function() { for (var t = [], i = ["input", "select", "textarea", "button"], e = 0; e < i.length; e++)for (var s = this.$view.getElementsByTagName(i[e]), n = 0; n < s.length; n++)t.push(s[n]); return t }, disable: function() {
				var t, i, e = this.Lp(); if (zi.api.disable.apply(this, arguments), e && -1 == e.className.indexOf(" webix_disabled_box")) {
					e.className += " webix_disabled_box"; var s = this.Tb(); for (t = 0; t < s.length; t++)s[t].setAttribute("disabled", !0); if ((i = this.getInputNode()) && "div" == i.tagName.toLowerCase() && (this.Vb = i.getAttribute("tabIndex"), i.removeAttribute("tabIndex")), "top" == this.P.labelPosition) {
						var n = this.tt.firstChild; n && (n.className += " webix_disabled_top_label")
					}
				}
			}, enable: function() { zi.api.enable.apply(this, arguments); var t, i = this.Lp(); if (i) { i.className = i.className.replace(" webix_disabled_box", ""); for (var e = this.Tb(), s = 0; s < e.length; s++)e[s].removeAttribute("disabled"); if ((t = this.getInputNode()) && !V(this.Vb) && t.setAttribute("tabIndex", this.Vb), "top" == this.P.labelPosition) { var n = this.tt.firstChild; n && (n.className = n.className.replace(" webix_disabled_top_label", "")) } } }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.render() }, setValue: function(t, i) { t = this.$prepareValue(t); var e = this.P.value; this.$compareValue(e, t) ? this.zb && t != this.$getValue() && this.$setValue(t) : (this.P.value = t, this.zb && this.$setValue(t), this.callEvent("onChange", [t, e, i])) }, $compareValue: function(t, i) { return "number" == typeof i && (i = i.toString()), "number" == typeof t && (t = t.toString()), t == i }, $prepareValue: function(t) { return 0 === t ? "0" : (t || "").toString() }, value_setter: function(t) { return this.$prepareValue(t) }, $setValue: function(t) { var i = this.getInputNode(); i && !this.wd[this.P.type] && (t = this.P.label || t, "BUTTON" == i.tagName ? i.innerHTML = t : i.value = t) }, getValue: function() { var t = this.zb ? this.$getValue() : this.P.value; return void 0 === t ? "" : t }, $getValue: function() { return this.P.value || "" }, focus: function() { if (!Si.canFocus(this)) return !1; var t = this.getInputNode(); t && t.focus && t.focus() }, blur: function() { var t = this.getInputNode(); t && t.blur && t.blur() }, getInputNode: function() { return this.tt.getElementsByTagName("input")[0] || this.tt.getElementsByTagName("button")[0] }, Lp: function() { for (var t = 0; t < this.tt.childNodes.length; t++)if (0 <= this.tt.childNodes[t].className.indexOf("webix_el_box")) return this.tt.childNodes[t]; return null }, Te: function(t, i) { var e = i.target, s = this.Lp(); return "top" == this.P.labelPosition && this.tt.firstChild.contains(e) || s && s.contains(e) ? this.P : null }, Bb: Math.sqrt(2), Db: function(t) { if ((t = t || this.P).autowidth) { var i = kt(t.value || t.label || "", "webixbutton").width + (t.badge || 0 === t.badge ? 2 * kt(t.badge, "webix_badge").width - 32 : 0) + ("icon" === t.type ? 24 : 0) + ("image" === t.type ? t.height - Oi.inputPadding : 0); i = Math.max(t.minWidth || 0, i), t.width = Math.min(t.maxWidth || Infinity, i) } }, Hb: function() { this.Rb = this.P.inputWidth || (2 < this.ge - this.P.width ? this.P.width : 0) || this.ge, this.Eb = this.P.inputHeight || this.Pb || 0 }, resize: function() { return this.Db(), Ri.api.resize.apply(this, arguments) }, render: function() { if (this.Hb(), this.P.awidth = this.Rb || this.ge, this.P.aheight = this.Eb || this.xe, this.P.bheight = this.P.aheight + 2, this.P.cheight = this.P.aheight - 2 * Oi.inputPadding, this.P.dheight = this.P.cheight - 2, Gt.render.call(this)) { if (this.zb = !0, this.Fb && this.Fb(), this.P.align) { var t = this.tt.firstChild; switch ("top" == this.P.labelPosition && t.nextSibling && (t = t.nextSibling), this.P.align) { case "right": t.style.cssFloat = "right"; break; case "center": t.style.display = "inline-block", t.parentNode.style.textAlign = "center"; break; case "middle": t.style.marginTop = Math.round((this.xe - this.Eb) / 2) + "px"; break; case "bottom": t.style.marginTop = this.xe - this.Eb + "px"; break; case "left": t.style.cssFloat = "left"; break; default: this.P.align } } this.$render && this.$render(this.data), this.P.disabled && this.disable(), this.dr && (this.dr(this.data), this.dr = 0) } }, refresh: function() { this.render() }, on_click: {
				jb: function(t) { var i = pt(t, "button_id"), e = this.getOption(i); e && !e.disabled && this.callEvent("onBeforeTabClick", [i, t]) && (this.setValue(i, "user"), this.focus(), this.callEvent("onAfterTabClick", [i, t])) }, webix_all_segments: function(t, i) { this.on_click.jb.call(this, t, i) }, webix_all_tabs: function(t, i) { this.on_click.jb.call(this, t, i) }, webix_inp_counter_next: function() { this.P.readonly || this.next(this.P.step, "user") }, webix_inp_counter_prev: function() { this.P.readonly || this.prev(this.P.step, "user") }, webix_input_icon: function() { this.getInputNode().focus() }, webix_clear_icon: function() { return this.$allowsClear && this.setValue("", "user"), !1 }, webix_inp_checkbox_border: function(t) { this.P.disabled || "DIV" == t.target.tagName || this.P.readonly || this.toggle("user") }, webix_inp_checkbox_label: function() { this.P.readonly || this.toggle("user") }, webix_inp_radio_border: function(t) {
					var i = pt(t, "radio_id"), e = this.getOption(i); e && !e.disabled && (this.setValue(i, "user"), this.focus())
				}, webix_tab_more_icon: function(t, i, e) { var s = this.getPopup(); s.isVisible() ? s.hide() : (s.resize(), s.show(e, null, !0)) }, webix_tab_close: function(t) { var i = pt(t, "button_id"), e = this.getOption(i); return e && !e.disabled && this.callEvent("onBeforeTabClose", [i, t]) && this.removeOption(i), !1 }
			}, Nb: function(t) { this.name, $(t), this.name; for (var i = 0; i < t.length; i++)t[i].text, t[i].label, "string" == typeof t[i] ? t[i] = { id: t[i], value: t[i] } : (V(t[i].id) && (t[i].id = t[i].value), V(t[i].value) && (t[i].value = t[i].id)); return t }, Lb: function(t) { var i = t ? t.placeholder : this.P.placeholder; return i ? "<span class='webix_placeholder'>" + i + "</span>" : "" }
		}), xr = { api: wr, view: T.protoUI(wr, Ri.view, ji, Gt, ki, g) }, yr = { name: "label", defaults: { template: "<div class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>" }, $skin: function() { xr.api.$skin.call(this), this.defaults.height = Oi.inputHeight }, focus: function() { return !1 }, Lp: function() { return this.tt.firstChild }, setHTML: function(t) { this.P.label = t, this.refresh() }, setValue: function(t) { this.P.label = t, xr.api.setValue.apply(this, arguments) }, $setValue: function(t) { this.tt.firstChild.innerHTML = t }, $render: function(t) { "right" === t.align && (this.tt.firstChild.style.textAlign = "right") }, Fb: !1, $b: function() { }, Db: function(t) { var i = "webix_el_box webixlabel" + (this.queryView("toolbar", "parent") ? " webixtoolbarlabel" : ""); (t = t || this.P).autowidth && (t.width = kt(t.label, i).width) } }, Mr = (T.protoUI(yr, xr.view), { 9: "tab", 38: "up", 40: "down", 37: "left", 39: "right" }), Sr = {
			$init: function(t) { var i = this.defaults.pattern || t.pattern, e = this.defaults.format || t.format; t.value = V(t.value) ? "" : t.value, (i || e && !this.format_setter) && (this.attachEvent("onKeyPress", function(t, i) { i.ctrlKey || i.altKey || this.P.readonly || this.Ob || (105 < t && t < 112 && (t -= 64), Mr[t] && 8 !== t && 46 !== t || (wt(i), this.Wb(i, t))) }), this.attachEvent("onAfterRender", this.Ub), this.getText = function() { return this.getInputNode().value }, this.$prepareValue = function(t) { return this.Yb(t, !1) }, this.Yb = function(t, i) { return !1 === i ? this.qb(t) : this.Gb(t) }, e && ("object" === M(e) ? this.Ob = e : (e = hn.getConfig(e), this.Ob = { parse: function(t) { return hn.parse(t, e) }, edit: function(t) { return hn.format(t, e) } }))), i && (this.P.pattern = this.pattern_setter(i), delete t.pattern) }, pattern_setter: function(t) { var i = _n[t] || t; return "string" == typeof i && (i = { mask: i }), i.allow = i.allow || /[A-Za-z0-9]/g, this.Xb(i), i }, Kb: function() { this.config.validate = this.config.validate || S(function() { var t = this.getText(), i = t.replace(this.Jb, ""); return (t.toString().match(this.Zb) || []).join("").length == i.length && t.length == this.P.pattern.mask.length }, this) }, Ub: function() { var t = G.isIE8 ? "propertychange" : "input"; this.Ob || Zt(this.getInputNode(), t, function() { var t = (new Date).valueOf(); this.$view.offsetWidth; (!this.Qb || 100 < t - this.Qb) && (this.Qb = t, this.$setValue(this.getText())) }, { bind: this }), Zt(this.getInputNode(), "blur", function() { this.gi() }, { bind: this }) }, Xb: function(t) { for (var i = t.mask, e = {}, s = "", n = 0, r = 0; r < i.length; r++)"#" === i[r] ? (e[r] = n, n++) : (e[r] = !1, -1 === s.indexOf(i[r]) && (s += "\\" + i[r])); this.Zb = t.allow, this.Jb = new RegExp("[" + s + "]", "g"), this.tm = e, this.Kb() }, Wb: function(t, i) { var e = this.getInputNode(), s = e.value, n = It(e), r = ""; if (8 == i || 46 == i) n.start == n.end && (8 == i ? n.start-- : n.end++); else { r = String.fromCharCode(i); var h = t.getModifierState("CapsLock"); (!t.shiftKey && !h || t.shiftKey && h) && (r = r.toLowerCase()) } s = s.substr(0, n.start) + r + s.substr(n.end), n = this.im(r, s.length, n.start, i), this.em = i, this.$setValue(s), Dt(e, n) }, im: function(t, i, e, s) { if (t && t.match(this.Zb) || 8 == s || 46 == s) e = t ? e + 1 : e, e = this.sm(e, s); else if (i - 1 == e && 8 !== s && 46 !== s) { var n = this.P.pattern.mask.indexOf("#", e); 0 < n && (e += n) } return e }, sm: function(t, i) { var e = t - 1 * (46 !== i); return !1 === this.tm[e] ? (t += 8 == i ? -1 : 1, this.sm(t, i)) : !1 === this.tm[t] && 8 !== i ? this.sm(t + 1, i) - 1 : t }, qb: function(t) { return this.Ob ? this.Ob.parse(t) : ((t = t || 0 === t ? t : "").toString().match(this.Zb) || []).join("").replace(this.Jb, "") }, Gb: function(t) {
				if (this.Ob) return this.Ob.edit(this.Ob.parse(t)); var i = this.qb(t), e = this.P.pattern.mask, s = this.P.pattern.mask, n = this.tm, r = !1, h = 0,
					o = 0, a = 0; for (var u in n) if (!1 !== n[u]) { if (!r) { h = 1 * u; var c = i[o = n[u]] || "", f = i[o + 1]; e = (c ? e.substr(0, h) : "") + c + (c && f ? e.substr(h + 1) : ""), f || (r = !0) } a++ } var l = this.em; if (l && 8 !== l || !l && a - 1 === o && e.length < s.length) if (i) { var d = h + 1; if ("#" !== s.charAt(d) && e.length < s.length) { var v = s.indexOf("#", d); v < 0 && (v = s.length), e += s.substr(d, v - d) } } else 46 !== l && (e += s.substr(0, s.indexOf("#"))); return this.em = null, e
			}
		}, kr = {
			name: "text", $allowsClear: !0, nm: function() { var i = this; if (this.$allowsClear) { var t = this.P, e = this.getInputNode(); if (this.rm || Zt(e, "change", this.gi, { bind: this }), t.suggest && ai(t.suggest).linkInput(this), t.clear && !this.addSection) { this.hm = this.$view.querySelector(".webix_input_icon:last-child"), "INPUT" != e.tagName && "SELECT" != e.tagName || Zt(e, "input", function(t) { return i.om(t.target.value) }); var s = this.getText ? this.getText() : t.text || t.value; this.om(s) } } }, gi: function() { var t = this.getValue(), i = this.setValue(t, "user"); this.Ob && !1 === i && this.$setValue(t) }, om: function(t) { var i = this.P; if (i.clear && this.hm) if ("hover" === i.clear || "replace" === i.clear) { var e = t ? "webix_clear_icon " + ("hover" === i.clear ? i.icon : "wxi-close") : i.icon; this.hm.className = "webix_input_icon " + e } else { var s = t ? "" : "hidden"; this.hm.style.visibility !== s && (this.hm.style.visibility = s) } }, $skin: function() { xr.api.$skin.call(this), this.defaults.height = Oi.inputHeight, this.defaults.inputPadding = Oi.inputPadding, this.j_ = Oi.inputSpacing, this.N_ = Oi.labelTopHeight }, $init: function(t) { "top" == t.labelPosition && V(t.height) && this.defaults.height && (t.height = this.defaults.height + (t.label ? this.N_ : 0)), V(t.icon) || (this.P.icon = t.icon), this.rm && this.attachEvent("onBlur", function() { this.zb && this.rm() }), this.attachEvent("onAfterRender", this.nm), this.attachEvent("onDestruct", function() { this.hm = null }) }, clear_setter: function(t) { return t && (this.P.icon || (t = !0), "hover" !== t && "replace" !== t && (t = !!t)), t }, $renderIcon: function(t) { var i = t.aheight - 2 * t.inputPadding, e = (i - 18) / 2 - 1, s = this.j_ / 2 - 24, n = ""; return t.icon && (n += "<span style='right:" + (s += 24) + "px;height:" + (i - e) + "px;padding-top:" + e + "px;' class='webix_input_icon " + t.icon + "'></span>"), !0 === t.clear && (n += "<span style='right:" + (s += 24) + "px;height:" + (i - e) + "px;padding-top:" + e + "px;' class='webix_input_icon webix_clear_icon webix_icon_transparent wxi-close'></span>"), n }, relatedView_setter: function(t) { return this.attachEvent("onChange", function() { var t = this.getValue(), i = this.P.relatedAction, e = this.P.relatedView, s = ai(e); if (!s) { var n = this.getTopParentView(); n && n.$$ && (s = n.$$(e)) } "enable" == i ? t ? s.enable() : s.disable() : t ? s.show() : s.hide() }), t }, validateEvent_setter: function(t) { return "blur" == t && this.attachEvent("onBlur", this.validate), "key" == t && this.attachEvent("onTimedKeyPress", this.validate), t }, validate: function() { var t = this.P.validate; !t && this.P.required && (t = fe.isNotEmpty); var i = this.getFormView(), e = this.P.name, s = this.getValue(), n = {}; return n[e] = s, !(t && !i.ah(t, s, n, e)) }, bottomLabel_setter: function(t) { return this.P.bottomPadding || (this.P.bottomPadding = 18), t }, um: function() { var t = this.P.invalidMessage; return "function" == typeof t && t.call(this), t }, setBottomText: function(t, i) { var e = this.P; if (void 0 !== t) { if (e.bottomLabel == t) return; e.bottomLabel = t } var s = (e.invalid ? e.invalidMessage : "") || e.bottomLabel; s || e.bottomPadding || (e.inputHeight = 0), s && !e.bottomPadding ? (this.cm = 1, e.bottomPadding = e.bottomPadding || i || 18, this.render(), this.adjust(), this.resize()) : !s && this.cm ? (e.bottomPadding = this.cm = 0, e.height || this.render(), this.adjust(), this.resize()) : this.render() }, $getSize: function() { var t = Ri.api.$getSize.apply(this, arguments), i = this.config.bottomPadding; return i && (t[2] += i, t[3] += i), t }, $setSize: function(t, i) { var e = this.P; if (Ri.api.$setSize.call(this, t, i)) { if (!t || !i) return; "top" == e.labelPosition ? (e.inputHeight || (this.Pb = this.xe - (e.label ? this.N_ : 0) - (this.config.bottomPadding || 0)), e.labelWidth = 0) : e.bottomPadding && (e.inputHeight = this.xe - this.config.bottomPadding), this.render() } }, fm: function(t) { var i = (this.Rb || 0) - (t.label ? t.labelWidth : 0) - this.j_ - (t.iconWidth || 0); return i < 0 ? 0 : i }, lm: function(t, i) {
				var e = "x" + z(), s = i.fm(t), n = t.inputAlign || "left", r = t.aheight - 2 * Oi.inputPadding - 2 * Oi.borderWidth, h = !0 === t.clear ? "padding-right:51px;" : "",
				o = t.text || t.value || this.Lb(t), a = "<div class='webix_inp_static' role='combobox' aria-label='" + qt.escape(t.label) + "' tabindex='0'" + (t.readonly ? " aria-readonly='true'" : "") + (t.invalid ? "aria-invalid='true'" : "") + " onclick='' style='line-height:" + r + "px;width:" + s + "px;text-align:" + n + ";" + h + "'>" + o + "</div>"; return i.$renderInput(t, a, e)
			}, dm: function(t) { var i = "<" + t + (this.P.placeholder ? " placeholder='" + qt.escape(this.P.placeholder) + "' " : " "); this.P.readonly && (i += "readonly='true' aria-readonly=''"), this.P.required && (i += "aria-required='true'"), this.P.invalid && (i += "aria-invalid='true'"); var e = this.P.attributes; if (e) for (var s in e) i += s + "='" + e[s] + "' "; return i }, $renderLabel: function(t, i) { var e = ""; if (t.label) { var s = "top" == this.P.labelPosition, n = "text-align:".concat(t.labelAlign || "left", "; line-height:").concat(this.vm(s), "px; "); e = "<label style='" + (n += s ? "display:block;" : t.labelWidth ? "width:".concat(t.labelWidth, "px;") : "display:none;") + "' onclick='' for='" + i + "' class='webix_inp_" + (s ? "top_" : "") + "label " + (t.required ? "webix_required" : "") + "'>" + (t.label || "") + "</label>" } return e }, vm: function(t) { return t ? this.N_ - this.P.inputPadding : this.P.aheight - 2 * this.P.inputPadding }, $renderInput: function(t, i, e) { var s = t.inputAlign || "left", n = "top" == t.labelPosition, r = this.fm(t); e = e || z(); var h = this.$renderLabel(t, e), o = ""; if (i) o += i; else { var a = qt.escape(t.text || this.Yb(t.value)), u = (t.icon || t.clear ? 27 : 0) + (t.icon && !0 === t.clear ? 24 : 0); u = u && !this.addSection ? "padding-right:" + u + "px;" : "", o += this.dm("input") + "id='" + e + "' type='" + (t.type || this.name) + "'" + (t.editable ? " role='combobox'" : "") + " value='" + a + "' style='width:" + r + "px;text-align:" + s + ";" + u + "'"; var c = t.attributes; if (c) for (var f in c) o += " " + f + "='" + c[f] + "'"; o += " />" } o += this.$renderIcon ? this.$renderIcon(t) : ""; var l = ""; l = n ? h + "<div class='webix_el_box' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + o + "</div>" : "<div class='webix_el_box' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + h + o + "</div>"; var d = t.awidth - r - 2 * Oi.inputPadding, v = (t.invalid ? t.invalidMessage : "") || t.bottomLabel; return v && (l += "<div class='webix_inp_bottom_label'" + (t.invalid ? "role='alert' aria-relevant='all'" : "") + " style='width:" + (r || t.awidth) + "px;margin-left:" + Math.max(d, Oi.inputPadding) + "px;'>" + v + "</div>"), l }, defaults: { template: function(t, i) { return i.$renderInput(t) }, label: "", labelWidth: 80 }, labelWidth_setter: function(t) { return t ? Math.max(t, Oi.dataPadding) : 0 }, type_setter: function(t) { return t }, Fb: !1, $b: function() { }, Yb: function(t) { return t }, $setValue: function(t) { t = this.Yb(t), this.getInputNode().value = t, this.om(t) }, $getValue: function() { return this.Yb(this.getInputNode().value, !1) }, setValueHere: function(t, i, e) { if (e && e.symbol) { var s = e.symbol, n = this.getValue(), r = n.substring(e.pos); n = (n = n.substring(0, e.pos)).substring(0, n.lastIndexOf(s) + s.length) + t, this.setValue(n + r, e.config), Dt(this.getInputNode(), n.length) } else this.setValue(t, e && e.config) }, suggest_setter: function(t) { if (t) { if ("string" == typeof t) { if (ai(t)) return ai(t).P.id; t = { body: { url: t, dataFeed: t } } } else t.getItem ? t = { body: { data: t } } : $(t) ? t = { body: { data: this.Nb(t) } } : t.body || (t.body = {}); T.extend(t, { view: "suggest" }); var i = ni(t); return this.Bt.push(i), i.P.id } return !1 }
		}, Cr = { api: kr, view: T.protoUI(kr, Sr, xr.view) }, $r = T.proto({ name: "DataCollection", isVisible: function() { return !!(this.data.order.length || this.data.Th || this.P.dataFeed) }, $init: function(t) { this.data.provideApi(this, !0); var i = t && t.id ? t.id : z(); this.P.id = i, (ni.views[i] = this).data.attachEvent("onStoreLoad", S(function() { this.callEvent("onBindRequest", []) }, this)) }, refresh: function() { this.callEvent("onBindRequest", []) } }, ce, $i, Ai, bs, be, Be, g, Fi, Ci, ki); t("DataCollection", $r); var Dr = {
			name: "select", defaults: { template: function(i, t) { var e = "x" + z(), s = t.dm("select") + "id='" + e + "' style='width:" + t.fm(i) + "px;'>", n = ai(i.options); if (n && n.data && n.data.each) n.data.each(function(t) { s += "<option" + (t.id == i.value ? " selected='true'" : "") + " value='" + t.id + "'>" + t.value + "</option>" }); else for (var r = t.Nb(i.options), h = 0; h < r.length; h++)s += "<option" + (r[h].id == i.value ? " selected='true'" : "") + " value='" + r[h].id + "'>" + r[h].value + "</option>"; return s += "</select>", t.$renderInput(i, s, e) } },
			options_setter: function(t) { if (t) { if ("string" != typeof t) return t; var i = new $r({ url: t }); return i.data.attachEvent("onStoreLoad", S(this.refresh, this)), i } }, $renderIcon: function() { return "" }, getInputNode: function() { return this.tt.getElementsByTagName("select")[0] }
		}, Ir = (T.protoUI(Dr, Cr.view), { name: "checkbox", defaults: { checkValue: 1, uncheckValue: 0, template: function(t, i) { var e = "x" + z(), s = ""; t.labelRight && (s = "<label class='webix_label_right'>" + t.labelRight + "</label>", t.labelWidth && (t.label = t.label || "&nbsp;")); var n = t.checkValue == t.value, r = Math.floor((i.P.aheight - 16) / 2), h = i.dm("input") + "style='margin-top:" + r + "px;" + (t.customCheckbox ? "display:none" : "") + "' id='" + e + "' type='checkbox' " + (n ? "checked='1'" : "") + (t.labelRight ? " aria-label='" + qt.escape(t.labelRight) + "'" : "") + "/>", o = "webix_inp_checkbox_border webix_el_group webix_checkbox_" + (n ? "1" : "0"), a = t.customCheckbox || ""; a && (a = (a = (a = a.replace(/(aria-checked=')\w*(?=')/, "$1" + (t.value == t.checkValue ? "true" : "false"))).replace(/(aria-label=')\w*(?=')/, "$1" + qt.escape(t.labelRight || t.label))).replace(/(aria-invalid=')\w*(?=')/, "$1" + (t.invalid ? "true" : "false"))); var u = "<div style='line-height:" + i.P.cheight + "px' class='" + o + "'>" + h + a + s + "</div>"; return i.$renderInput(t, u, e) } }, customCheckbox_setter: function(t) { return !0 === t && Oi.customCheckbox && (t = "<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>"), t }, blur: function() { var t = this.getInputNode(); t && t.blur() }, $prepareValue: function(t) { return t }, nm: function() { }, $setValue: function(t) { var i = t == this.P.checkValue, e = this.$view.getElementsByTagName("input")[0], s = e ? e.parentNode : null; if (s && this.P.customCheckbox) { var n = s.getElementsByTagName("BUTTON"); n[0] && n[0].setAttribute("aria-checked", i ? "true" : "false") } s && (s.className = s.className.replace(/(webix_checkbox_)\d/, "$1" + (i ? 1 : 0))), e.checked = i }, toggle: function(t) { var i = this.P, e = this.getValue() != i.checkValue ? i.checkValue : i.uncheckValue; this.setValue(e, t) }, getValue: function() { var t = this.P; return t.value == t.checkValue ? t.checkValue : t.uncheckValue }, getInputNode: function() { return this.$view.getElementsByTagName(this.P.customCheckbox ? "button" : "input")[0] }, $skin: function() { Cr.api.$skin.call(this), this.defaults.customCheckbox = !!Oi.customCheckbox } }), Ar = { api: Ir, view: T.protoUI(Ir, Cr.view) }, Fr = {
			name: "radio", defaults: { template: function(t, i) { i.Nb(t.options); for (var e, s, n, r, h, o, a, u, c, f, l, d = i.lu(t.options), v = i.fu(), _ = [], p = 0; p < d.length; p++)s = "x" + z(), e = e || s, p && (d[p].newline || t.vertical) && _.push("<div class='webix_line_break'></div>"), l = (n = d[p].id == t.value) || !t.value && d[p].id === v, r = !!d[p].disabled, h = d[p].value || "", o = t.tooltip ? " webix_t_id='" + d[p].id + "'" : "", (a = t.customRadio || "") && (u = (0 === p ? t.label + " " : "") + h, a = (a = (a = (a = (a = a.replace(/(aria-label=')\w*(?=')/, "$1" + qt.escape(u))).replace(/(aria-checked=')\w*(?=')/, "$1" + (n ? "true" : "false"))).replace(/(tabindex=')\w*(?=')/, "$1" + (!r && l ? "0" : "-1"))).replace(/(aria-invalid=')\w*(?=')/, "$1" + (t.invalid ? "true" : "false"))).replace(/(button_id=')\w*(?=')/, "$1" + d[p].id), r && (a = a.replace("role='radio'", "role='radio' webix_disabled='true'"))), c = i.dm("input") + " name='" + (t.name || t.id) + "' type='radio' " + (n ? "checked='1'" : "") + "tabindex=" + (!r && l ? "0" : "-1") + " value='" + d[p].id + "' id='" + s + "'" + (r ? " disabled='true'" : "") + " style='" + (a ? "display:none" : "") + "' />", f = "<div radio_id='" + d[p].id + "' class='webix_inp_radio_border webix_radio_" + (n ? "1" : "0") + "' role='presentation'>" + c + a + "</div>", h && (h = "<label for='" + s + "' class='webix_label_right'>" + h + "</label>"), _.push("<div class='webix_radio_option" + (r ? " webix_disabled" : "") + "' role='presentation'" + o + ">" + f + h + "</div>"); return _ = "<div class='webix_el_group' role='radiogroup' style='margin-left:" + (t.label ? t.labelWidth : 0) + "px;'>" + _.join("") + "</div>", i.$renderInput(t, _, e) } }, refresh: function() { this.render(), this.me && this.$getSize(0, 0)[2] != this.me[1] && this.resize() }, $getSize: function(t, i) {
				var e = xr.api.$getSize.call(this, t, i), s = this.lu(this.P.options); if (s) {
					for (var n = this.P.vertical ? 0 : 1, r = 0; r < s.length; r++)(this.P.vertical || s[r].newline) && n++; e[3] = e[2] = Math.max(e[2],
						(this.P.optionHeight || 25) * n + 2 * this.P.inputPadding + ("top" == this.P.labelPosition ? this.N_ : 0))
				} var h = this.config.bottomPadding; return h && (e[2] += h, e[3] += h), e
			}, au: function() { return this.tt.getElementsByTagName(this.P.customRadio ? "button" : "input") }, $setValue: function(t) { for (var i, e, s, n, r, h = this.tt.getElementsByTagName("input"), o = this.fu(), a = 0; a < h.length; a++)i = h[a].parentNode.getAttribute("radio_id"), e = this.getOption(i), h[a].checked = i == t, s = e && !e.disabled && (h[a].checked || !t && e.id == o), h[a].setAttribute("tabindex", s ? "0" : "-1"), (n = h[a] ? h[a].parentNode : null) && (n.className = n.className.replace(/(webix_radio_)\d/, "$1" + (h[a].checked ? 1 : 0)), this.P.customRadio && (r = n.getElementsByTagName("BUTTON"))[0] && (r[0].setAttribute("aria-checked", h[a].checked ? "true" : "false"), r[0].setAttribute("tabindex", s ? "0" : "-1"))) }, getValue: function() { return this.P.value }, focus: function() { return this.wi() }, blur: function() { this.uu() }, customRadio_setter: function(t) { return !0 === t && Oi.customRadio && (t = "<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' button_id='' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>"), t }, $skin: function() { Cr.api.$skin.call(this), this.defaults.customRadio = !!Oi.customRadio, Oi.optionHeight && (this.defaults.optionHeight = Oi.optionHeight) }
		}, Tr = (T.protoUI(Fr, Cr.view, Fe), {
			name: "datepicker", _m: !0, $init: function(t) { t.multiselect && (this.P.multiselect = t.multiselect), t.type && (this.P.type = t.type), this.$ready.push(this.bm) }, defaults: { template: function(t, i) { "time" == i.P.type && (i.P.icon = i.P.timeIcon); var e = t.type; t.type = ""; var s = t.editable ? i.$renderInput(t) : i.lm(t, i); return t.type = e, s }, stringResult: !1, timepicker: !1, icon: "wxi-calendar", icons: !0, timeIcon: "wxi-clock", separator: ", " }, rm: function() { var t = this.getText(); if (this.P.text != t) { var i = this.P.editable ? this.getValue() : this.getPopup().getValue(); this.setValue(i || "", "user") } }, $skin: function() { Cr.api.$skin.call(this), this.defaults.inputPadding = Oi.inputPadding, this.defaults.point = !Oi.popupNoPoint }, getPopup: function() { return ai(this.P.popup) }, bm: function() { var t = this.P; if (t.suggest) t.popup = t.suggest; else if (!t.popup) { var i = this.P.timepicker; t.popup = t.suggest = this.suggest_setter({ type: "calendar", point: !1 !== this.P.point, padding: 0, body: { height: 240 + (i || this.P.icons ? 30 : 0), width: 250, multiselect: this.P.multiselect, timepicker: i, type: this.P.type, icons: this.P.icons, timeIcon: this.P.timeIcon } }) } this.dr = function() { } }, $render: function(t) { this.$setValue(t.value) }, $prepareValue: function(t) { if (this.P.multiselect) { "string" == typeof t ? t = t.split(this.P.separator) : t instanceof Date ? t = [t] : t || (t = []); for (var i = 0; i < t.length; i++)t[i] = this.mm(t[i]); return t } return this.mm(t) }, mm: function(t) { var i = this.P.type, e = "time" == i; if (isNaN(parseFloat(t)) || (t = "" + t), "string" == typeof t && t) { t = ("month" != i && "year" != i || !this.gm ? e ? A.parseTimeFormatDate : A.parseFormatDate : this.gm)(t) } if (t) { if (e && $(t)) { var s = new Date; s.setHours(t[0]), s.setMinutes(t[1]), t = s } isNaN(t.getTime()) && (t = "") } return t }, wm: function(t) { var i = this; return this.P.multiselect ? [].concat(t).map(function(t) { return i.xm(t) }).join(this.config.separator) : this.xm(t) }, xm: function(t) { var i = this.ym; return i || (i = "time" == this.P.type ? A.timeFormatStr : this.config.timepicker ? A.fullDateFormatStr : A.dateFormatStr), i(t) }, Mm: function() { var t = this.getInputNode(); V(t.value) ? t.innerHTML = this.P.text || this.Lb() : t.value = this.P.text || "" }, $compareValue: function(t, i) { return !t && !i || rn.equal(t, i) }, $setValue: function(t) { this.P.text = t ? this.wm(t) : "", this.Mm(), this.om(this.P.text) }, format_setter: function(t) { return t ? "function" == typeof t ? this.ym = t : (this.ym = rn.dateToStr(t), this.gm = rn.strToDate(t)) : this.ym = this.gm = null, t }, getInputNode: function() { return this.P.editable ? this.tt.getElementsByTagName("input")[0] : this.tt.getElementsByTagName("DIV")[1] }, getValue: function() { var i = this; if (this.P.multiselect) { var t = this.P.value; if (!t) return []; var e = [].concat(t).map(function(t) { return i.Sm(t) }); return this.P.stringResult ? e.join(this.P.separator) : e } return this.Sm(this.P.value) }, Sm: function(t) {
				var i = this.P.type, e = "time" == i; if (this.zb) {
					if (this.P.editable) {
						var s = this.gm; s || (s = e ? A.timeFormatDate : this.config.timepicker ? A.fullDateFormatDate : A.dateFormatDate), t = s(this.getInputNode().value)
					}
				} else t = this.$prepareValue(t) || null; if (this.P.stringResult) { var n = A.parseFormatStr; return e && (n = A.parseTimeFormatStr), !this.ym || "month" != i && "year" != i || (n = this.ym), this.P.multiselect ? [].concat(t).map(function(t) { return t ? n(t) : "" }) : t ? n(t) : "" } return t || null
			}, getText: function() { var t = this.getInputNode(); return t ? V(t.value) ? t.firstChild && "webix_placeholder" === t.firstChild.className ? "" : t.innerHTML : t.value : "" }
		}), Vr = { api: Tr, view: T.protoUI(Tr, Cr.view) }, zr = { name: "colorpicker", $init: function() { this.$ready.push(this.bm) }, defaults: { icon: !0 }, bm: function() { var t = this.P; t.suggest ? t.popup = t.suggest : t.popup || (t.popup = t.suggest = this.suggest_setter({ type: "colorboard" })), this.dr = function() { } }, clear_setter: function(t) { return !!t }, getValue: function() { return this.zb && this.P.editable ? this.getInputNode().value : this.P.value }, $prepareValue: function(t) { return (t = t ? t.toString(16) : "") && "#" != t.charAt(0) && /^[0-9a-fA-F]+$/.test(t) && (t = "#" + t), t }, km: function() { return this.$view.getElementsByTagName("DIV")[this.P.editable ? 1 : 2] }, wm: function(t) { return t }, $compareValue: function(t, i) { return t == i }, $setValue: function(t) { this.km().style.backgroundColor = t, this.P.text = t, this.om(t); var i = this.getInputNode(); V(i.value) ? i.innerHTML = t : i.value = t }, $renderIcon: function(t) { var i = this.j_ / 2 + 5, e = "<div class='webix_input_icon' style='top:" + (t.inputPadding + 4) + "px;right:" + i + "px;background-color:" + t.value + ";'></div>"; if (t.clear) { var s = t.aheight - 2 * t.inputPadding, n = (s - 18) / 2 - 1; e += "<span style='right:" + (i += 24) + "px;height:" + (s - n) + "px;padding-top:" + n + "px;' class='webix_input_icon webix_clear_icon wxi-close'></span>" } return e } }, Br = (T.protoUI(zr, Vr.view), { name: "richselect", defaults: { template: function(t, i) { return i.lm(t, i) }, popupWidth: 200, icon: "wxi-menu-down" }, rm: function() { var t = this.getText(); if (this.P.text != t && (!V(this.P.text) || t)) { var i = this.getPopup(); if (!i.$view.contains(document.activeElement)) { var e = this.getInputNode().value, s = i.getSuggestion(e), n = this.getValue(); !s || s == n || "" === e && "" !== i.getItemText(s) ? "" === e ? this.setValue("", "user") : this.Cm && this.Cm() : this.setValue(s, "user") } } }, suggest_setter: function(t) { return this.options_setter(t) }, options_setter: function(t) { t = this.$m ? this.$m(t) : t; var i = this.P.popup = this.P.suggest = Cr.api.suggest_setter.call(this, t), e = ai(i).getList(); return e && e.attachEvent("onAfterLoad", S(this.Dm, this)), i }, getList: function() { var t = ai(this.P.suggest); return t.getList() }, Dm: function() { var t = this.P.value || []; !t.length || this.getPopup().isVisible() || !this.getInputNode() || this.P.text || this.getText() || this.$setValue(t) }, $skin: function() { Cr.api.$skin.call(this), this.defaults.inputPadding = Oi.inputPadding }, $render: function(t) { this.$setValue(t.value) }, getInputNode: function() { return this.tt.getElementsByTagName("DIV")[1] }, getPopup: function() { return ai(this.P.popup) }, getText: function() { var t = this.P.value, i = this.getInputNode(); return i ? V(i.value) ? i.firstChild && "webix_placeholder" === i.firstChild.className ? "" : i.innerHTML : i.value : t ? this.getPopup().getItemText(t) : "" }, $prepareValue: function(t) { return t && t.id ? t : Cr.api.$prepareValue.call(this, t) }, $setValue: function(t) { var i = t, e = this.getPopup(); if (e && (i = e.getItemText(t)), t && t.id) { var s = e.getList(), n = s.exists(t.id); n || s.add(t), i = e.getItemText(t.id), s.P.dynamic && !n && s.remove(t.id), this.P.value = this.$prepareValue(t.id) } var r = this.getInputNode(); V(r.value) ? r.innerHTML = i || this.Lb() : r.value = i = i.replace(/<[^>]*>/g, ""), this.P.text = i, this.om(i) }, getValue: function() { return this.P.value || "" }, Im: function(t) { this.focus(), wt(t) } }), Hr = { api: Br, view: T.protoUI(Br, Cr.view) }, Rr = {
			name: "combo", getInputNode: function() { return this.tt.getElementsByTagName("input")[0] }, Cm: function() { var t = this.getValue(); this.$setValue(V(t) ? "" : t) }, gi: function() { var t = this.getInputNode(), i = "", e = this.getPopup(); t.value && (i = this.P.value, e.getItemText(i) != this.getText() && (i = e.getSuggestion() || i)), i != this.P.value ? this.setValue(i, "user") : this.$setValue(i) }, defaults: {
				template: function(t, i) {
					return i.$renderInput(t).replace(/(<input)\s*(?=\w)/,
						"$1 role='combobox'")
				}, icon: "wxi-menu-down"
			}, on_click: { webix_clear_icon: function() { return this.$allowsClear && this.setValue("", "user"), !1 }, webix_inp_label: function(t) { this.Im(t) }, webix_inp_top_label: function(t) { this.Im(t) } }
		}, Er = (T.protoUI(Rr, Hr.view), { name: "counter", defaults: { template: function(t, i) { var e = t.value, s = "x" + z(), n = "<div role='spinbutton' aria-label='" + qt.escape(t.label) + "' aria-valuemin='" + t.min + "' aria-valuemax='" + t.max + "' aria-valuenow='" + t.value + "' class='webix_el_group' style='width:" + i.fm(t) + "px'>"; return n += "<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='" + A.aria.decreaseValue + "'>-</button>", n += i.dm("input") + " id='" + s + "' type='text' class='webix_inp_counter_value' aria-live='assertive' value='" + e + "'></input>", n += "<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='" + A.aria.increaseValue + "'>+</button></div>", i.$renderInput(t, n, s) }, min: 0, max: Infinity, value: 0, step: 1 }, $init: function() { Zt(this.$view, "keydown", this.op, { bind: this }) }, op: function(t) { var i = t.which || t.keyCode, e = this.P, s = this.getValue(); 32 < i && i < 41 && (36 === i ? s = e.min : 35 === i ? s = e.max === Infinity ? 1e6 : e.max : 33 === i ? this.next(e.step, "user") : 34 === i ? this.prev(e.step, "user") : s += 37 === i || 40 === i ? -1 : 1, 34 < i && s >= e.min && s <= e.max && this.setValue(s, "user")) }, $setValue: function(t) { this.getInputNode().value = t }, $prepareValue: function(t) { t = parseFloat(t); var i = this.P.min, e = this.P.max; return isNaN(t) && (t = isFinite(i) ? i : 0), Math.min(Math.max(t, i), e) }, getInputNode: function() { return this.tt.getElementsByTagName("input")[0] }, getValue: function() { return 1 * xr.api.getValue.apply(this, arguments) }, next: function(t, i) { t = 1 * (t || this.P.step), this.shift(t, i) }, prev: function(t, i) { t = -1 * (t || this.P.step), this.shift(t, i) }, shift: function(t, i) { var e = Math.round(1e5 * (this.getValue() + t)) / 1e5; this.setValue(e, i) } }), Pr = (T.protoUI(Er, Cr.view), { name: "icon", $skin: function() { xr.api.$skin.call(this), this.defaults.height = Oi.inputHeight, this.defaults.width = Oi.inputHeight }, defaults: { template: function(t, i) { var e = Math.min(t.awidth, t.aheight), s = Math.round((i.xe - t.aheight) / 2), n = "<button type='button' style='height:" + e + "px;width:" + e + "px;' class='webix_icon_button'><span class='webix_icon " + t.icon + "'></span></button>", r = t.aheight != e ? t.aheight : 0; return "<div class='webix_el_box' style='width:" + t.awidth + "px;height:" + t.aheight + "px;line-height:" + r + "px;margin-top:" + s + "px'>" + n + (t.badge || 0 === t.badge ? "<span class='webix_badge'>" + t.badge + "</span>" : "") + "</div>" } }, Fb: !1, $b: function() { }, $setValue: function() { } }), jr = (T.protoUI(Pr, xr.view), T.protoUI({ name: "search", on_click: { webix_clear_icon: function() { return this.$allowsClear && this.setValue("", "user"), !1 }, webix_input_icon: function(t) { this.getInputNode().focus(), "hover" !== this.config.clear && t.target && -1 !== t.target.className.indexOf(this.config.icon) && this.callEvent("onSearchIconClick", [t]) } }, defaults: { type: "text", icon: "wxi-search" } }, Cr.view), {
			name: "segmented", $allowsClear: !1, $init: function() { this.attachEvent("onChange", function(t) { this.P.multiview && this.Am(t) }), this.attachEvent("onAfterRender", u(function() { this.P.multiview && this.P.value && this.Am(this.P.value) })) }, Am: function(t) { var i = this.getTopParentView(), e = null; i && i.$$ && (e = i.$$(t)), e || (e = ai(t)), e && e.show && e.show() }, defaults: { template: function(t, i) { i.Nb(t.options); var e, s, n = i.lu(t.options), r = i.fm(t), h = "contrast" == Wi ? 0 : n.length - 1, o = t.optionWidth || Math.floor((r - h) / n.length), a = "<div style='width:" + r + "px' class='webix_all_segments' role='tablist' aria-label='" + qt.escape(t.label) + "'>"; t.value || (t.value = i.fu(!0)); for (var u = 0; u < n.length; u++)s = !!n[u].disabled, e = t.tooltip ? " webix_t_id='" + n[u].id + "'" : "", a += "<button type='button' style='width:" + (n[u].width || o) + "px' role='tab' aria-selected='" + (t.value == n[u].id ? "true" : "false") + "' tabindex='" + (s || t.value != n[u].id ? "-1" : "0") + "' class='webix_segment_" + (u == n.length - 1 ? "N" : 0 < u ? 1 : 0) + (t.value == n[u].id ? " webix_selected" : "") + (s ? " webix_disabled" : "") + "' " + (s ? "webix_disabled='true' " : "") + "button_id='" + n[u].id + "'" + e + ">" + n[u].value + "</button>"; return i.$renderInput(t, a + "</div>", z()) } }, au: function() { return this.$view.getElementsByTagName("BUTTON") },
			focus: function() { return this.wi() }, blur: function() { this.uu() }, $setValue: function(t) { var i = this.config.tabbarPopup; if (i && ai(i) && ai(i).getBody().exists(t)) return this.refresh(); for (var e, s, n = this.au(), r = 0; r < n.length; r++)e = n[r].getAttribute("button_id"), s = this.getOption(e), n[r].setAttribute("aria-selected", t == e ? "true" : "false"), n[r].setAttribute("tabindex", s && !s.disabled && t == e ? "0" : "-1"), t == e ? Mt(n[r], "webix_selected") : St(n[r], "webix_selected") }, $getValue: function() { return this.P.value || "" }, getValue: function() { return this.P.value }, getInputNode: function() { return null }, Fb: !1
		}), Nr = { api: jr, view: T.protoUI(jr, Cr.view, Fe) }, Lr = { name: "textarea", defaults: { template: function(t, i) { var e = t.name || t.id, s = "x" + z(), n = i.dm("textarea") + "style='width:" + i.fm(t) + "px;'"; return n += " id='" + s + "' name='" + e + "' class='webix_inp_textarea'>" + i.Yb(t.value) + "</textarea>", i.$renderInput(t, n, s) }, minHeight: 60 }, $skin: function() { Cr.api.$skin.call(this), this.defaults.height = 0 }, zi: !0, vm: function(t) { return t ? this.N_ - this.P.inputPadding : "" }, $renderIcon: function() { return "" }, getInputNode: function() { return this.tt.getElementsByTagName("textarea")[0] } }, Or = (T.protoUI(Lr, Cr.view), { name: "toggle", $allowsClear: !0, $init: function() { this.attachEvent("onItemClick", function() { this.toggle("user") }) }, $renderInput: function(t) { return "<button type='button' " + (t.popup ? "aria-haspopup='true'" : "") + " class='webix_button'>" + t.label + "</button>" }, $setValue: function(t) { var i = this.getInputNode(), e = this.P, s = t && "0" != t, n = (s ? e.onLabel : e.offLabel) || e.label, r = i.children; if (this.wd[e.type]) { var h = r[0]; "SPAN" == h.nodeName && e.onIcon && e.offIcon && e.onIcon != e.offIcon && (h.className = h.className.replace(s ? e.offIcon : e.onIcon, s ? e.onIcon : e.offIcon)), "imageTop" == e.type || "iconTop" == e.type ? r[1].innerHTML = n : (i.innerHTML = n, i.insertBefore(h, i.firstChild)) } else i.innerHTML = n; i.setAttribute("aria-pressed", s ? "true" : "false"), (s ? Mt : St)(i.parentNode, "webix_pressed") }, toggle: function(t) { this.setValue(!this.getValue(), t) }, getValue: function() { var t = this.P.value; return t && "0" != t ? 1 : 0 }, defaults: { template: function(t, i) { var e = t.value && "0" != t.value, s = e ? " webix_pressed" : ""; t.label = (e ? t.onLabel : t.offLabel) || t.label, t.icon = (e ? t.onIcon : t.offIcon) || t.icon; var n = "<div class='webix_el_box" + s + "' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + i.$renderInput(t, i) + "</div>"; return n = n.replace(/(button)\s*(?=\w)/, "$1 aria-pressed='" + (e ? "true" : "false") + "' "), (t.badge || 0 === t.badge) && (n = n.replace(/<\/div>$/, "<span class='webix_badge'>" + t.badge + "</span></div>")), n } }, Fb: !1 }), Wr = (T.protoUI(Or, xr.view), {
			name: "multitext", $cssName: "text", defaults: { icon: "wxi-plus-circle", iconWidth: 25, separator: ", " }, getValueHere: function() { return Cr.api.getValue.call(this) }, setValueHere: function(t) { return Cr.api.$setValue.call(this, t) }, getValue: function() { if ("extra" == this.config.mode) return this.getValueHere(); if (this.Fm) return this.Fm; for (var t = [this.getValueHere(this)], i = 0; i < this.Tm.length; i++) { var e = ai(this.Tm[i]).getValueHere(); e && t.push(e) } return t.join(this.config.separator) }, $setValue: function(t) { if (t = t || "", "extra" == this.config.mode) return this.setValueHere(t); var i = (this.Fm = t).split(this.config.separator); if (i.length != this.Tm.length + 1) { this.removeSection(), this.setValueHere.call(this, i[0]); for (var e = 1; e < i.length; e++)this.addSection(i[e]); this.Fm = "" } else { this.setValueHere(i[0]); for (var s = 0; s < this.Tm.length; s++)ai(this.Tm[s]).setValueHere(i[s + 1]); this.Fm = "" } }, $renderIcon: function(t) { if (t.icon) { var i = t.aheight - 2 * t.inputPadding, e = (i - 18) / 2 - 1, s = "role='button' tabindex='0' aria-label='" + A.aria["multitext" + (t.mode || "") + "Section"] + "'"; return "<span style='right:0;height:" + (i - e) + "px;padding-top:" + e + "px;' class='webix_input_icon webix_multitext_icon " + t.icon + "' " + s + "></span>" } return "" }, Vm: function(t, i, e) { var s = this.config.master ? ai(this.config.master) : this, n = s.getValue(), r = s.P.value; n != r && (s.P.value = n, s.callEvent("onChange", [n, r, e])) }, addSection: function(t) {
				var i = this.config, e = {
					labelWidth: i.labelWidth, inputWidth: i.inputWidth, width: i.width, label: i.label ? "&nbsp;" : "", view: this.name, mode: "extra", value: t || "", icon: "wxi-minus-circle", tooltip: i.tooltip, suggest: i.suggest || null,
					master: i.id
				}; T.extend(e, i.subConfig || {}, !0); var s = this.getParentView().addView(e); return ai(s).attachEvent("onChange", this.Vm), this.Tm.push(s), this.callEvent("onSectionAdd", [s, this.Tm.length]), s
			}, removeSection: function(t) { for (var i = this.config.master ? ai(this.config.master) : this, e = i.Tm.length - 1; 0 <= e; e--) { var s = i.Tm[e]; t && s != t || (i.Tm.removeAt(e), this.getParentView().removeView(s), i.callEvent("onSectionRemove", [s, e + 1])) } }, on_click: { webix_input_icon: function() { if ("extra" == this.config.mode) { var t = this.getParentView(); this.removeSection(this.config.id); var i = t.getChildViews(); i[i.length - 1].focus(), this.Vm(null, null, "user") } else ai(this.addSection()).focus(); return !1 } }, $init: function() { this.Tm = D([]), this.attachEvent("onKeyPress", this.Ce) }, $render: function(t) { this.$setValue(t.value) }
		}), Ur = (T.protoUI(Wr, Cr.view), { name: "proto", $init: function() { this.data.provideApi(this, !0), this.tt = this.tt || this.Wi, this.data.attachEvent("onStoreUpdated", S(function() { this.render.apply(this, arguments) }, this)) }, $setSize: function() { Ri.api.$setSize.apply(this, arguments) && this.render() }, ea: "webix_item", on_mouse_move: {}, type: {} }), Yr = { api: Ur, view: T.protoUI(Ur, Pe, ue, ji, bs, Ne, be, Ri.view, g, ki) }, qr = {
			name: "list", zm: "webix_list", lr: "webix_list_item", $init: function(t) { Mt(this.Vt, this.zm + ("x" == (t.layout || this.defaults.layout) ? "-x" : "")), this.data.provideApi(this, !0), this.Bm = S(this.Bm, this), this.data.attachEvent("onStoreUpdated", this.Bm), this.data.attachEvent("onSyncApply", this.Bm), this.Vt.setAttribute("role", "listbox") }, dynamic_setter: function(t) { return t && T.extend(this, ws, !0), t }, $dragHTML: function(t, i, e) { var s; return "y" == this.P.layout && "auto" == this.type.width ? (this.type.width = this.ge, s = this.Q(t), this.type.width = "auto") : s = this.Q(t), $(e.source) && 1 < e.source.length && (s = this.Wo(s, e.source.length)), s }, defaults: { select: !1, scroll: !0, layout: "y", navigation: !0, datafetch: 50 }, ea: "webix_l_id", on_click: { webix_list_item: function(t, i) { this.P.select && (this.Hm = !0, "multiselect" == this.P.select || this.P.multiselect ? this.select(i, !1, t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, t.shiftKey) : this.select(i), this.Hm = !1) } }, on_dblclick: {}, getVisibleCount: function() { return Math.floor(this.xe / this.Rm()) }, Bm: function() { var t = this.P; if (t.autoheight || t.autowidth) return this.resize(); "y" == t.layout ? t.yCount && this.Em(t.yCount) : t.xCount && this.Pm(t.xCount) }, Em: function(t) { var i = this.data.$pagesize || this.count(); this.kc(t && t < i, "y"), this.P.autoheight && i < (t || Infinity) && (t = i); var e = this.Rm() * t + (this.type.margin || 0); return this.getUnits && (e += this.getUnits().length * this.type.headerHeight), Math.max(e, this.P.minHeight || 0) }, Rm: function() { return this.type.height + (this.type.margin || 0) }, Pm: function(t) { var i = this.data.$pagesize || this.count(); return this.kc(t && t < i, "x"), this.P.autowidth && i < (t || Infinity) && (t = i), this.type.width * t }, $getSize: function(t, i) { return "y" == this.P.layout ? ("auto" != this.type.width && (this.P.width = this.type.width + (this.we ? G.scrollSize : 0)), (this.P.yCount || this.P.autoheight) && (this.P.height = this.Em(this.P.yCount) || 1)) : ("auto" != this.type.height && (this.P.height = this.Rm() + (this.ye ? G.scrollSize : 0)), (this.P.xCount || this.P.autowidth) && (this.P.width = this.Pm(this.P.xCount) || 1)), Ri.api.$getSize.call(this, t, i) }, $setSize: function() { Ri.api.$setSize.apply(this, arguments) }, type: {
				css: "", widthSize: function(t, i) { return i.width + (-1 < i.width ? "px" : "") }, heightSize: function(t, i) { return i.height + (-1 < i.height ? "px" : "") }, classname: function(t, i, e) { var s = "webix_list_item"; return i.css && (s += " " + i.css), t.disabled && (s += " webix_disabled"), t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css), e && e.$css && (s += " " + e.$css), s }, aria: function(t, i, e) { return 'role="option"' + (e && e.webix_selected ? ' aria-selected="true" tabindex="0"' : ' tabindex="-1"') + (t.$count && t.$template ? 'aria-expanded="true"' : "") + (t.disabled ? ' aria-disabled="true" webix_disabled="true"' : "") }, template: function(t) { return (t.icon ? "<span class='webix_list_icon webix_icon " + t.icon + "'></span>" : "") + t.value + (t.badge || 0 === t.badge ? "<div class='webix_badge'>" + t.badge + "</div>" : "") }, width: "auto", templateStart: qt(
					'<div webix_l_id="#id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>'), templateEnd: qt("</div>")
			}, $skin: function() { this.type.height = Oi.listItemHeight }, disableItem: function(t) { this.jm(t, !0) }, enableItem: function(t) { this.jm(t, !1) }, jm: function(t, i) { var e = this.getItem(t); e && (e.disabled = i, this.refresh(t)) }, isItemEnabled: function(t) { var i = this.getItem(t); return i && !i.disabled }, Cu: function(t, i, e) { return this.isItemEnabled(t) ? t : (t = this.getNextId(t, e) || null) && t != i ? this.Cu(t, i, e) : i }
		}, Gr = { api: qr, view: T.protoUI(qr, oe, ze, ce, ge, He, Oe, Le, Yr.view, he) }, Xr = { name: "multiselect", $cssName: "richselect", defaults: { separator: ",", stringResult: !0 }, $m: function(t) { var i = !$(t) && "object" == M(t) && !t.name, e = { view: "checksuggest", separator: this.config.separator, buttonText: this.config.buttonText, button: this.config.button }; this.P.optionWidth ? e.width = this.P.optionWidth : e.fitMaster = !0, i && T.extend(e, t, !0); var s = ni(e), n = s.getList(); return "string" == typeof t ? n.load(t) : i || n.parse(t), s.attachEvent("onShow", function() { s.setValue(ai(s.P.master).config.value, "auto") }), s }, $compareValue: function(t, i) { return t.toString() == i.toString() }, $prepareValue: function(t) { return "string" == typeof (t = t || []) ? t.split(this.P.separator) : $(t) ? t : [xr.api.$prepareValue.call(this, t)] }, $setValue: function(t) { if (this.zb) { var i = this.getPopup(), e = ""; i && "object" == M(e = i.setValue(t, "auto")) && (e = e.join(this.config.separator + " ")), this.P.text = e, this.om(e), this.getInputNode().innerHTML = e || this.Lb() } }, getValue: function() { var t = this.P.value || []; return this.P.stringResult ? t.join(this.P.separator) : t } }; ke.multiselect = T.extend({ popupType: "multiselect", popupInit: function(t) { t.linkInput(document.body) } }, ke.richselect), ii(Gr.view, { name: "multilist", templateStart: qt('<div webix_l_id="#!id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>') }), ii(Gr.view, { name: "checklist", templateStart: qt('<div webix_l_id="#!id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>{common.checkbox()}'), checkbox: function(t) { var i = t.$checked ? "wxi-checkbox-marked" : "wxi-checkbox-blank"; return "<span role='checkbox' tabindex='-1' aria-checked='" + (t.$checked ? "true" : "false") + "' class='webix_icon " + i + "'></span>" }, aria: function(t) { return "role='option' tabindex='-1' " + (t.$checked ? "aria-selected='true'" : "") + (t.disabled ? ' aria-disabled="true" webix_disabled="true"' : "") }, template: qt("#value#") }); T.protoUI(Xr, Hr.view); var Kr = {
			name: "multicombo", $cssName: "text", defaults: { keepText: !1, separator: ",", stringResult: !0, icon: !1, iconWidth: 0, tagMode: !0, tagTemplate: function(t) { return t.length ? t.length + " item(s)" : "" }, template: function(t, i) { return i.Nm(t, i) } }, $init: function() { var t = this; this.$view.className += " webix_multicombo", this.attachEvent("onBeforeRender", function() { return this.Pb || (this.Pb = Oi.inputHeight), !0 }), this.attachEvent("onAfterRender", function() { this.me = null }), Zt(this.$view, "scroll", function() { t.$view.scrollTop = 0 }) }, on_click: { webix_multicombo_delete: function(t, i, e) { return !this.P.readonly && e && this.Lm(e.parentNode.getAttribute("optvalue")), !1 }, webix_inp_label: function(t) { this.Im(t) }, webix_inp_top_label: function(t) { this.Im(t) } }, rm: function() { var t = this.getInputNode(), i = t.value; i && this.P.newValues && 100 < new Date - (this.getPopup().Om || 0) && (i = i.trim(), this.Wm(i, "user")), this.Um = t.value = this.P.keepText ? i : "", this.$setValue() }, Dm: function() { (this.P.value || []).length && !this.getPopup().isVisible() && this.$setValue() }, Lm: function(t) { var i, e = D(_(this.P.value || [])); if (t && -1 !== (i = e.find(t))) { e.removeAt(i), this.setValue(e, "user"); var s = ai(this.config.suggest); s && s.P.selectAll && s.getBody().hi[0].setValue(0, "auto") } }, Ym: function(t, i) { var e = ai(this.config.suggest); if (e.getList().getItem(t)) { var s = e.getValue(); s && "string" == typeof s && (s = s.split(e.config.separator)), (s = D(s || [])).find(t) < 0 && (s.push(t), e.setValue(s, i), this.setValue(e.getValue(), i)) } }, Wm: function(t, i) {
				var e, s = ai(this.config.suggest), n = s.getList(); if (t = qt.escape(t.trim())) {
					for (
						var r in n.data.pull) s.getItemText(r) == t && (e = r); e || (e = n.add({ value: t })), this.Ym(e, i)
				}
			}, $m: function(t) { var i = !$(t) && "object" == M(t) && !t.name, e = { view: "checksuggest", separator: this.config.separator, buttonText: this.config.buttonText, button: this.config.button }, s = this; i && T.extend(e, t, !0), !e.width && this.P.optionWidth && T.extend(e, { width: this.P.optionWidth, fitMaster: !1 }, !0), e.width = e.fitMaster || V(e.fitMaster) ? 0 : e.width; var n = ni(e); e.width || (n.$customWidth = function() { this.config.width = s.fm(s.P) }), n.attachEvent("onBeforeShow", function(t, i, e) { if (this.P.master && (this.setValue(ai(this.P.master).config.value, "auto"), ai(this.P.master).getInputNode().value || this.isVisible() ? (this.getList().refresh(), this.qm = !0) : this.getList().filter(), t.tagName && "input" == t.tagName.toLowerCase())) return er.api.show.apply(this, [t.parentNode, i, e]), !1 }); var r = n.getList(); return "string" == typeof t ? r.load(t) : i || r.parse(t), n.Gm = function() { if (!this.Xm) return !0; this.Xm = !1, this.show(s.Km()) }, n }, Nm: function(t, i) { var e, s, n, r, h, o, a, u, c, f, l, d, v = "", _ = "top" == this.P.labelPosition; return e = "x" + z(), d = i.fm(t), s = t.inputAlign || "left", h = this.Pb - 2 * Oi.inputPadding - 2, r = this.Um || "", u = "<ul class='webix_multicombo_listbox' style='line-height:" + h + "px'></ul>", n = "width:" + Math.min(d, i.Jm || 7) + "px;height:" + h + "px;max-width:" + (d - 20) + "px", l = t.readonly ? " readonly " : "", o = "<div class='webix_inp_static' onclick='' style='line-height:" + h + "px;width:" + d + "px;text-align:" + s + ";height:auto' >" + u + ("<input id='" + e + "' role='combobox' aria-multiline='true' aria-label='" + qt.escape(t.label) + "' tabindex='0' type='text' class='webix_multicombo_input' " + l + " style='" + n + "' value='" + r + "'/>") + "</div>", a = i.$renderLabel(t, e), f = this.P.awidth - d - 2 * Oi.inputPadding, (c = (t.invalid ? t.invalidMessage : "") || t.bottomLabel) && (v = "<div class='webix_inp_bottom_label' style='width:" + d + "px;margin-left:" + Math.max(f, Oi.inputPadding) + "px;'>" + c + "</div>"), _ ? a + "<div class='webix_el_box' style='width:" + this.P.awidth + "px; height:auto;'>" + o + v + "</div>" : "<div class='webix_el_box' style='width:" + this.P.awidth + "px; height:auto; min-height:" + this.P.aheight + "px;'>" + a + o + v + "</div>" }, Zm: function() { return this.Lp().getElementsByTagName("UL")[0] }, Fb: function() { var t = this.getPopup(); if (t) { var i = t ? t.setValue(this.P.value, "auto") : null; t.Qm && (this.P.value = t.Qm(this.P.value)); var e = "", s = this.Zm(), n = i && i.length; if (n) { var r = this.fm(this.P) - 2 - 6, h = this.Pb - 2 * Oi.inputPadding - 2 - 6, o = this.P.value || []; if (this.P.tagMode) for (var a = 0; a < i.length; a++)e += this.$renderTag(i[a], r, h, o[a]); else e += "<li class='webix_multicombo_tag' style='line-height:" + h + "px;max-width:" + r + "px;'><span class='webix_multicombo_text'>" + this.P.tagTemplate(o) + "</span></li>" } s.innerHTML = e; var u = this.getInputNode(); this.P.placeholder && (n ? (u.placeholder = "", !u.value && 20 < u.offsetWidth && (u.style.width = "20px")) : u.value || (u.placeholder = this.P.placeholder, u.style.width = this.fm(this.P) + "px")), !this.P.tagMode && s.firstChild && (u.style.width = this.tg() + "px") } this.ig() }, $renderTag: function(t, i, e, s) { var n = this.P, r = "<span class='webix_multicombo_text'>" + t + "</span>", h = n.readonly ? "" : "<span class='webix_multicombo_delete' role='button' aria-label='" + A.aria.removeItem + "'></span>"; return "<li class='webix_multicombo_value" + (n.readonly ? " webix_readonly" : "") + "' style='line-height:" + e + "px;max-width:" + i + "px;' optvalue='" + qt.escape(s) + "'>" + r + h + "</li>" }, eg: function(t) { if (t = t || this.getInputNode()) { var i = t.value.length; t.selectionStart = i, t.selectionEnd = i, t.focus() } }, ig: function(i) { var t = "top" == this.P.labelPosition, e = this.Km(), s = Math.max(e.offsetHeight + 2 * Oi.inputPadding, this.Pb); if (t && (s += this.N_), (s += this.P.bottomPadding || 0) != this.$getSize(0, 0)[2]) { var n = e.offsetHeight + (t ? this.N_ : 0) + 2 * Oi.inputPadding, r = this.getTopParentView(); clearTimeout(r.Zd), r.Zd = k(function() { this.config.height != n && (this.config.height = n, this.resize()), Si.getFocus() === this && (i ? this.getInputNode().select() : this.eg(this.getInputNode())); var t = this.getPopup(); t.isVisible() && t.show(this.Km()) }, this) } i && this.getInputNode().select() }, Km: function() {
				for (var t = this.Lp(), i = t.childNodes, e = 0; e < i.length; e++)if (i[e].className && -1 != i[e].className.indexOf("webix_inp_static")
				) return i[e]; return t
			}, getInputNode: function() { return this.tt.getElementsByTagName("INPUT")[0] }, $compareValue: function(t, i) { return t.toString() == i.toString() }, $prepareValue: function(t) { return "string" == typeof (t = t || []) ? t.split(this.P.separator) : $(t) ? t : [xr.api.$prepareValue.call(this, t)] }, $setValue: function() { this.zb && this.Fb() }, getValue: function(t) { if ("object" == M(t) && t.options) return this.sg(); var i = this.P.value || []; return this.P.stringResult ? i.join(this.P.separator) : i }, getText: function() { var t = this.P.value || []; if (!t.length) return ""; for (var i = [], e = 0; e < t.length; e++)i.push(this.getPopup().getItemText(t[e])); return i.join(this.P.separator) }, sg: function() { var t, i, e, s = [], n = this.P.value || []; if (!n.length) return n; for (e = this.getPopup(), t = 0; t < n.length; t++)(i = e.getList().getItem(n[t]) || (e.ng ? e.ng[n[t]] : null)) && s.push(i); return s }, $setSize: function(t, i) { var e = this.P; if (Ri.api.$setSize.call(this, t, i)) { if (!t || !i) return; "top" == e.labelPosition && (e.labelWidth = 0), this.render() } }, $render: function() { }, rg: function(t) { var i = lt("span", { type: "text", style: "visibility:visible; white-space:pre-wrap; position:absolute; top:-9999px;" }); i.className = "webix_el_text", i.innerHTML = '<span class="webix_multicombo_input" style="margin:0;">'.concat(t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), "</span>"), document.body.appendChild(i); var e = i.offsetWidth + 1; return document.body.removeChild(i), e }, tg: function() { var t = this.Zm(), i = t.offsetWidth - (t.firstChild.offsetWidth + 1); return i <= 25 ? t.offsetWidth - 12 : i - 15 }, hg: function(t, i) { for (var e = t.split(this.P.separator), s = this.getPopup(), n = "", r = 0; r < e.length; r++) { var h = e[r].trim(); if (h) if (n = h, this.P.newValues) this.Wm(h, i); else { var o = s.getItemId(h); o && this.Ym(o, i) } } return n }, nm: function() { Zt(this.Lp(), "click", function(t) { var i = this.getInputNode(); i.contains(t.target) ? i.focus() : this.eg(i) }, { bind: this }), Zt(this.getInputNode(), "focus", function() { -1 == this.Lp().className.indexOf("webix_focused") && (this.Lp().className += " webix_focused") }, { bind: this }), Zt(this.getInputNode(), "blur", function() { this.Lp().className = this.Lp().className.replace(" webix_focused", "") }, { bind: this }), Zt(this.getInputNode(), "input", function() { var t, i, e = this.getInputNode(), s = !1; if (this.P.tagMode && -1 < e.value.indexOf(this.P.separator)) { var n = this.hg(e.value, "user"); this.Um = e.value = this.P.keepText ? n : "", s = this.P.keepText } var r = this.P.value || []; !this.P.placeholder || e.value || r.length ? (i = t = this.rg(e.value), !this.P.tagMode && this.Zm().firstChild && (i = this.tg())) : i = this.fm(this.P), e.style.width = i + "px", (s || t != this.Jm) && (this.Jm = t || i, this.Um = e.value, this.ig(s)) }, { bind: this }), Zt(this.getInputNode(), "keydown", function(t) { var i = this.getInputNode(), e = this.getPopup(); t = t || event; var s = this.Zm().lastChild; if (8 == t.keyCode && !this.P.readonly && s && (!i.value && 100 < (new Date).valueOf() - (this.og || 0) ? this.Lm(s.getAttribute("optvalue")) : this.og = (new Date).valueOf()), 13 == t.keyCode || 9 == t.keyCode) { var n = i.value; e.getList().getSelectedId() || (n = this.hg(i.value, "user")), this.Um = i.value = this.P.keepText ? n : ""; var r = this.P.value || []; 13 != t.keyCode || i.value || r.length || (e.getList().filter(), this.P.placeholder && (i.style.width = this.fm(this.P) + "px")), this.ig(13 == t.keyCode) } }, { bind: this }), ai(this.P.suggest).linkInput(this) }
		}, Jr = (T.protoUI(Kr, Hr.view), {
			name: "slider", $touchCapture: !0, defaults: { min: 0, max: 100, value: 50, step: 1, title: !1, moveTitle: !0, template: function(t, i) { var e = i.ag = "x" + z(), s = "", n = "<div class='webix_slider_title" + (t.moveTitle ? " webix_slider_move" : "") + "'" + (!t.moveTitle && t.vertical ? " style='line-height:" + (t.aheight - 2 * t.inputPadding) + "px;'" : "") + ">&nbsp;</div>", r = "<div class='webix_slider_left'>&nbsp;</div>", h = "<div class='webix_slider_right'></div>", o = "<div class='webix_slider_handle' webix_disable_drag='true' role='slider' aria-label='" + t.label + (t.title ? " " + t.title(t) : "") + "' aria-valuemax='" + t.max + "' aria-valuemin='" + t.min + "' aria-valuenow='" + t.value + "' tabindex='0' id='" + e + "'>&nbsp;</div>"; return s = t.vertical ? "<div class='webix_slider_box'>" + h + r + o + "</div>" + n : n + "<div class='webix_slider_box'>" + r + h + o + "</div>", i.$renderInput(t, s, e) } }, type_setter: function(t) {
				this.Vt.className += " webix_slider_" + t
			}, title_setter: function(t) { return "string" == typeof t ? qt(t) : t }, ug: function() { return this.$view.querySelector(".webix_slider_handle") }, Fb: function() { var t = this.ug(), i = this.P; if (t) { var e = i.vertical ? this.xe : this.fm(i), s = i.value % i.step ? Math.round(i.value / i.step) * i.step : i.value, n = i.max - i.min; s = this.cg(s), s = i.vertical ? n - (s - i.min) : s - i.min; var r = Math.ceil((e - 2 * this.fg) * s / n), h = e - 2 * this.fg - r, o = i.vertical ? "top" : "left", a = i.vertical ? "height" : "width"; t.style[o] = this.fg + r - this.lg / 2 + "px", t.parentNode.style[a] = e + "px", h = this.cg(h, 2 * this.dg, e - 2 * this.fg - 2 * this.dg), r = this.cg(r, 2 * this.dg, e - 2 * this.fg - 2 * this.dg); var u = t.previousSibling; u.style[a] = h + "px", u.previousSibling.style[a] = r + "px", this.vg(t, r, h, o) } }, vg: function(t, i, e, s) { var n = this.P; if (this.P.title) { var r = t.parentNode[n.vertical ? "nextSibling" : "previousSibling"]; if (r.innerHTML = this.P.title(this.P, this), this.P.moveTitle) { var h = 0; if (n.vertical) h = i + 2 * this.dg - this.lg / 2; else { var o = r.clientWidth / 2, a = i < o ? o - i - 2 * this.dg : 0, u = e < o ? o - e - 2 * this.dg - this.lg / 2 : 0; h = this.fg + i - o + a - u } r.style[s] = h + "px" } } }, _g: function() { this.ug().setAttribute("aria-valuenow", this.P.value) }, cg: function(t, i, e) { return i = i || this.P.min, e = e || this.P.max, Math.min(Math.max(t, i), e) }, refresh: function() { var t = this.ug(); t && (this._g(), this.P.title && t.setAttribute("aria-label", this.P.label + " " + this.P.title(this.P, this)), this.Fb()) }, $setValue: function() { this.refresh() }, $getValue: function() { return this.P.value }, $prepareValue: function(t) { return t = parseFloat(t), isNaN(t) && (t = this.P.min), this.cg(t) }, $init: function(t) { G.touch ? this.attachEvent("onTouchStart", S(this.pg, this)) : Zt(this.Vt, "mousedown", S(this.pg, this)), Zt(this.$view, "keydown", S(this.hb, this)), t.vertical && (t.height = t.height || Oi.vSliderHeight, this.Vt.className += " webix_slider_vertical", this.fg = Oi.vSliderPadding) }, $skin: function() { Cr.api.$skin.call(this), this.lg = Oi.sliderHandleWidth, this.fg = Oi.sliderPadding, this.dg = Oi.sliderBorder }, hb: function(t) { var i = t.keyCode, e = this.P, s = e.value; if (32 < i && i < 41) { wt(t); var n = t.target, r = /webix_slider_handle_(\d)/.exec(n.className); if (this.mg = r ? parseInt(r[1], 10) : -1, r && (s = e.value[this.mg]), s = s < e.min ? e.min : s > e.max ? e.max : s, 36 === i) s = e.min; else if (35 === i) s = e.max; else { var h = 37 === i || 40 === i || 34 === i ? -1 : 1; (33 === i || 34 === i || 1 < e.step) && (h *= e.step), s = 1 * s + h } if (r) { var o = e.value[this.mg ? 0 : 1]; s = this.mg && s <= o || !this.mg && o <= s ? o : s } if (s >= e.min && s <= e.max) { if (r) { for (var a = [], u = 0; u < e.value.length; u++)a[u] = u === this.mg ? s : e.value[u]; s = a } this.setValue(s, "user"), this.mg = -1 } } }, pg: function(t) { if (!this.vb) { var i = t.target; this.gg && this.gg(t); var e = this.P.value; if ($(e) && (e = _(e)), -1 != i.className.indexOf("webix_slider_handle")) return this.wg = e, this.xg.apply(this, arguments); -1 != i.className.indexOf("webix_slider") && (this.wg = e, this.P.value = this.yg.apply(this, arguments), this.xg(t)) } }, xg: function() { G.touch ? this.vb = [this.attachEvent("onTouchMove", S(this.yb, this)), this.attachEvent("onTouchEnd", S(this.Mb, this))] : this.vb = [Qt(document.body, "mousemove", S(this.yb, this)), Qt(window, "mouseup", S(this.Mb, this))], Mt(document.body, "webix_noselect") }, Mb: function() { this.vb && (G.touch ? (this.detachEvent(this.vb[0]), this.detachEvent(this.vb[1])) : (ti(this.vb[0]), ti(this.vb[1])), this.vb = null), St(document.body, "webix_noselect"); var t = this.P.value; $(t) && (t = _(t)), this.P.value = this.wg, this.setValue(t, "user"), this.ug(this.mg).focus(), this.mg = -1 }, yb: function() { this.P.value = this.yg.apply(this, arguments), this.refresh(), this.callEvent("onSliderDrag", []) }, yg: function(t, i) { var e = 0, s = this.P.vertical ? "y" : "x"; return e = G.touch ? i ? i[s] : t[s] : gt(t)[s], this.Mg(e) }, Mg: function(t) { var i = this.P, e = i.max - i.min, s = i.vertical ? "y" : "x", n = bt(this.ug().parentNode)[s] + this.fg, r = (i.vertical ? this.xe : this.fm(i)) - 2 * this.fg, h = r ? (t - n) * e / r : 0; return i.vertical && (h = e - h), h = Math.round((h + 1 * i.min) / i.step) * i.step, this.cg(h) }, nm: function() { }
		}), Zr = { api: Jr, view: T.protoUI(Jr, Cr.view) }, Qr = {
			name: "rangeslider", $cssName: "slider webix_rangeslider", defaults: {
				separator: ",", min: 0, max: 100, value: [20, 80], template: function(t, i) {
					var e = "x" + z(); i.ag = [e + "_0", e + "_1"]; var s = "role='slider' aria-label='" + t.label + (t.title ? " " + t.title(t) : ""
					) + "' aria-valuemax='" + t.max + "' aria-valuemin='" + t.min + "' tabindex='0'", n = "<div class='webix_slider_handle webix_slider_handle_0' webix_disable_drag='true' id='" + i.ag[0] + "' " + s + " aria-valuenow='" + t.value[0] + "'>&nbsp;</div>"; n += "<div class='webix_slider_handle webix_slider_handle_1' webix_disable_drag='true' id='" + i.ag[1] + "' " + s + " aria-valuenow='" + t.value[1] + "'>&nbsp;</div>"; var r = "<div class='webix_slider_title" + (t.moveTitle ? " webix_slider_move" : "") + "'" + (!t.moveTitle && t.vertical ? " style='line-height:" + (t.aheight - i.fg - 2 * t.inputPadding) + "px;'" : "") + ">&nbsp;</div>"; t.moveTitle && (r = "<div class='webix_slider_title_box'>" + (r + r) + "</div>"); var h = "<div class='webix_slider_right'>&nbsp;</div><div class='webix_slider_left'></div>", o = ""; return o = t.vertical ? "<div class='webix_slider_box'>" + h + n + "</div>" + r : r + "<div class='webix_slider_box'>" + h + n + "</div>", i.$renderInput(t, o, e)
				}
			}, $prepareValue: function(t) { var i = this.P.min; if ($(t) || (t = (t || "").toString().split(this.P.separator)), t[0] = parseFloat(t[0]), t[0] = isNaN(t[0]) ? i : this.cg(t[0]), t.length < 2 ? t[1] = t[0] : (t[1] = parseFloat(t[1]), t[1] = isNaN(t[1]) ? t[0] : this.cg(t[1])), t[0] > t[1]) { var e = [t[1], t[0]]; t[0] = e[0], t[1] = e[1] } return t }, ug: function(t) { return t = t && 0 <= t ? t : 0, this.$view.querySelector(".webix_slider_handle_" + (t || 0)) }, Sg: function(t, i) { var e, s, n; return s = (e = this.P).max - e.min, n = e.value[i] % e.step ? Math.round(e.value[i] / e.step) * e.step : e.value[i], n = this.cg(n), Math.ceil((t - 2 * this.fg) * (n - e.min) / s) }, kg: function(t, i, e) { var s = this.fg + i - this.lg / 2 * (e ? -1 : 1); return (s = e ? t - s : s) + "px" }, Cg: function(t, i, e, s) { var n = i + this.fg + 2 * this.dg; return s && (n = t - n - e), n + "px" }, Fb: function() { var t, i, e, s, n, r, h, o, a, u, c; i = this.ug(0), e = this.ug(1), $((t = this.P).value) || this.define("value", t.value), i && (a = t.vertical ? "height" : "width", c = t.vertical ? "top" : "left", r = (u = t.vertical ? this.xe : this.fm(t)) - 2 * this.fg - 2 * this.dg, s = this.Sg(u, 0), h = (n = this.Sg(u, 1)) - s, i.style[c] = this.kg(u, s, t.vertical), e.style[c] = this.kg(u, n, t.vertical), (o = i.parentNode).style[a] = u + "px", o.firstChild.style[a] = r + "px", o.childNodes[1].style[a] = h + "px", o.childNodes[1].style[c] = this.Cg(u, s, h, t.vertical), this.vg(i, [s, n], r, c)) }, $g: 0, Dg: function(t, i) { V(this.$g) || (t[this.$g].style.visibility = "visible"), V(i) || (t[i].style.visibility = "hidden", this.$g = i) }, vg: function(t, i, e, s) { var n = this.P; if (this.P.title) { var r = t.parentNode, h = n.vertical ? "nextSibling" : "previousSibling"; if (n.moveTitle) { for (var o = r[h].childNodes, a = [], u = 0; u < 2; u++)a.push(this.Ig(o[u], n.value[u], i[u], e, s, u)); var c = n.vertical ? a[0] - a[1] - this.lg : a[1] - a[0], f = n.vertical ? "clientHeight" : "clientWidth"; o[0][f] / 2 + o[1][f] / 2 > c ? this.Dg(o, V(this.mg) ? 0 : this.mg ? 0 : 1) : this.Dg(o); for (var l = 0; l < 2; l++)o[l].style[s] = a[l] + "px" } else r[h].innerHTML = this.P.title(this.P, this) } }, Ig: function(t, i, e, s, n, r) { t.innerHTML = this.P.title({ value: i }, this); var h = t.clientWidth / 2, o = 0; return o = this.P.vertical ? s - e - this.lg / 2 - (r ? this.fg : 0) + 2 * this.dg : (o = e + this.lg / 2 + 2 * this.dg - h, o = e < h ? h - e + o : o, r && s < h + e ? o - h + (s - e) : o) }, _g: function() { for (var t = 0; t < 2; t++)this.ug(t).setAttribute("aria-valuenow", this.P.value[t]) }, gg: function(t) { var i = t.target, e = /webix_slider_handle_(\d)/.exec(i.className); this.mg = e ? parseInt(e[1], 10) : -1, e && this.Ag(this.mg) }, $compareValue: function(t, i) { return i = this.$prepareValue(i), t[0] === i[0] && t[1] === i[1] }, $getValue: function() { var t = this.P.value; return this.P.stringResult ? t.join(this.P.separator) : t }, Ag: function(t) { var i = this.ug(t), e = this.ug(1 - t); -1 == i.className.indexOf("webix_slider_active") && (i.className += " webix_slider_active"), e.className = e.className.replace(" webix_slider_active", ""), i.focus() }, Mg: function(t) { var i = this.P, e = i.value, s = i.max - i.min, n = i.vertical ? "y" : "x", r = bt(this.ug().parentNode)[n], h = Math.ceil((t - r) * s / (i.vertical ? this.xe : this.fm(i))); h = Math.round((h + 1 * i.min) / i.step) * i.step, i.vertical && (h = s - h); var o = null, a = bt(this.ug(0))[n], u = bt(this.ug(1))[n]; a != u || i.value[0] != i.min && i.value[0] != i.max ? 0 <= this.mg ? o = this.mg : a == u ? o = t < a ? 0 : 1 : (o = Math.abs(a - t) < Math.abs(u - t) ? 0 : 1, this.mg = o) : (this.mg = o = i.value[0] == i.min ? 1 : 0, this.Ag(o)); return e[o] = o ? this.cg(h, e[0], i.max) : this.cg(h, i.min, e[1]), e }
		}, th = (T.protoUI(Qr, Zr.view), {
			name: "switch", defaults: {
				template: function(t, i) {
					i.Fg()
					; var e = t.name || "x" + z(), s = ""; t.labelRight && (s = "<label class='webix_label_right'>" + t.labelRight + "</label>", t.labelWidth && (t.label = t.label || "&nbsp;")); var n = t.checkValue == t.value, r = 'aria-label="' + (t.label || t.labelRight || "") + '" role="checkbox" tabindex="0" aria-checked="' + (n ? "true" : "false") + '" ' + (t.readonly ? "aria-readonly='true'" : "") + '"', h = '<div class="webix_switch_box ' + (n ? " webix_switch_on" : "") + '" style="width:' + i.Tg + 'px"><span class="webix_switch_text">' + ((n ? t.onLabel : t.offLabel) || "") + '</span><button class="webix_switch_handle" ' + r + ' style="left:' + (n ? i.Tg - i.Vg : 0) + 'px;"><input  id="' + e + '" class="webix_switch_toggle" type="checkbox" ' + (n ? "checked" : "") + "></button></div>" + s; return i.$renderInput(t, h, e)
				}
			}, $skin: function() { Ar.api.$skin.call(this), this.Vg = Oi.switchHeight, this.Tg = Oi.switchWidth }, $setValue: function(t) { var i = this.P, e = t == i.checkValue, s = this.$view.querySelector(".webix_switch_box"); if (s) { var n = s.childNodes[1], r = (e ? i.onLabel : i.offLabel) || ""; e ? Mt(s, "webix_switch_on") : St(s, "webix_switch_on"), n.style.left = (e ? this.Tg - this.Vg : 0) + "px", n.firstChild.checked = e, n.setAttribute("aria-checked", e ? "true" : "false"), r && (s.childNodes[0].innerHTML = r) } }, Fg: function() { var t = this.P; if (t.onLabel || t.offLabel) { var i = t.onLabel ? kt(t.onLabel, "webix_switch_text").width : 0, e = t.onLabel ? kt(t.offLabel, "webix_switch_text").width : 0; this.Tg = Math.max(i, e) + this.Vg } }, on_click: { webix_switch_box: function() { this.P.readonly || this.toggle("user") }, webix_label_right: function() { this.P.readonly || this.toggle("user") } }
		}), ih = (T.protoUI(th, Ar.view), {
			name: "tabbar", $init: function() { this.attachEvent("onKeyPress", this.Ce) }, $skin: function() { var t = Oi, i = this.defaults; i.topOffset = t.tabTopOffset || 0, i.tabOffset = "undefined" != typeof t.tabOffset ? t.tabOffset : 10, i.bottomOffset = t.tabBottomOffset || 0, i.height = t.tabbarHeight, i.tabMargin = t.tabMargin, i.inputPadding = t.inputPadding, i.tabMinWidth = t.tabMinWidth || 100, i.tabMoreWidth = t.tabMoreWidth || 40, i.borderless = !t.tabBorder }, zg: function() { var t, i, e = this.P, s = this.lu(e.options), n = this.Rb - 2 * e.tabOffset, r = e.optionWidth || e.tabMinWidth; if (i = s.length, e.tabMinWidth && n / i < r) return { max: parseInt(n / r, 10) || 1 }; if (!e.optionWidth) for (t = 0; t < i; t++)s[t].width && (n -= s[t].width + (t || e.type ? 0 : e.tabMargin), i--); return { width: i ? n / i : e.tabMinWidth } }, bm: function() { var i = this, t = this.P; if (!t.tabbarPopup || !ai(t.tabbarPopup)) { var e = T.extend({ view: "popup", autofocus: !1, width: t.popupWidth || 200 }, t.tabbarPopup || {}), s = T.extend({ view: "list", borderless: !0, select: !0, autoheight: !0, yCount: t.yCount || 7, template: qt(t.popupTemplate || "#value#") }, t.tabbarPopup && t.tabbarPopup.body || {}, !0); s.css = "webix_tab_list ".concat(s.css || ""), e.body = s; var n = ni(e), r = n.getBody(); n.attachEvent("onShow", function() { r.unselect(), Si.setFocus(r); var t = r.getItemNode(r.getFirstId()); t && t.focus() }), r.attachEvent("onItemClick", function(t) { return i.Bg(t) }), r.attachEvent("onEnter", function() { return i.Bg() }), t.tabbarPopup = n.P.id, this.Bt.push(n) } this.bm = function() { } }, Bg: function(t) { var i = ai(this.P.tabbarPopup); return (t = t || i.getBody().getSelectedId()) && this.callEvent("onBeforeTabClick", [t]) && (this.setValue(t, "user"), i.hide(), this.callEvent("onAfterTabClick", [t]), this.refresh(), this.focus()), !1 }, getPopup: function() { return this.bm(), ai(this.P.tabbarPopup) }, moreTemplate_setter: qt, defaults: {
				moreTemplate: '<span class="webix_icon wxi-dots"></span>', template: function(t, i) {
					i.Nb(t.options); var e, s, n, r, h, o, a, u = i.lu(t.options); if (u.length) {
						t.value || (t.value = i.fu(!0)), e = "", t.tabOffset && (e += "<div class='webix_tab_filler' style='width:" + t.tabOffset + "px;'>&nbsp;</div>"), i.Rb - 2 * t.tabOffset - (t.type ? 0 : t.tabMargin * (u.length - 1)), o = t.topOffset + t.bottomOffset; var c = i.zg(); if (c.max && c.max < u.length) { var f = i.getPopup(); f.hide(); var l = f.getBody() || null; if (l) if (c.max) { for (var d = 0, v = !1; d < u.length && !v; d++)if (u[d].id == t.value && (v = !0, d + 1 > c.max)) { var _ = u.splice(d, 1); u = u.splice(0, c.max - 1).concat(_).concat(u) } l.clearAll(), l.parse(u.slice(c.max)) } else l.clearAll() } else if (i.P.tabbarPopup) { var p = ai(i.P.tabbarPopup); p && p.hide() } h = t.tabOffset; for (var b = 0, m = !1; b < u.length && !m; b++)a = c && c.max ? (c.max == b + 1 && (m = !0), (i.Rb - 2 * t.tabOffset - (!t.type && 1 < c.max ? t.tabMargin * (
							c.max - 1) : 0) - t.tabMoreWidth) / c.max) : c.width, h += (a = u[b].width || t.optionWidth || a) + (b && !t.type ? t.tabMargin : 0), 0 < t.tabMargin && b && !t.type && (e += "<div class='webix_tab_filler' style='width:" + t.tabMargin + "px;'></div>"), e += i.Hg(u[b], a), m && (e += '<div role="button" tabindex="0" aria-label="' + A.aria.showTabs + '" class="webix_tab_more_icon" style="width:' + t.tabMoreWidth + 'px;">' + t.moreTemplate(t, i) + "</div>", h += t.tabMoreWidth); 0 < (s = i.ge - h) && !t.type && (e += "<div class='webix_tab_filler' style='width:" + s + "px;'>&nbsp;</div>")
					} else e = "<div class='webix_tab_filler' style='width:" + i.Rb + "px; border-right:0px;'></div>"; return n = "", r = o && !t.type ? "height:" + (i.xe - o) + "px" : "", t.topOffset && !t.type && (n += "<div class='webix_before_all_tabs' style='width:100%;height:" + t.topOffset + "px'></div>"), n += "<div style='" + r + "' role='tablist' class='webix_all_tabs " + (t.type ? "webixtype_" + t.type : "") + "'>" + e + "</div>", t.bottomOffset && !t.type && (n += "<div class='webix_after_all_tabs' style='width:100%;height:" + t.bottomOffset + "px'></div>"), n
				}
			}, au: function() { return this.$view.querySelectorAll(".webix_item_tab") }, Hg: function(t, i) { var e, s = "", n = "", r = !!t.disabled, h = this.config; if (t.id == h.value && (s += " webix_selected"), r && (s += " webix_disabled"), t.css && (s += " " + t.css), h.tooltip && (n = " webix_t_id='" + t.id + "'"), i = t.width || i, e = '<div class="webix_item_tab' + s + '" button_id="' + t.id + '" role="tab" aria-selected="' + (t.id == h.value ? "true" : "false") + '" tabindex="' + (r || t.id != h.value ? "-1" : "0") + '" style="width:' + i + 'px;"' + (r ? ' webix_disabled="true"' : "") + n + ">", this.Rg) { var o = this.xe - 2 * h.inputPadding - 2, a = this.xe - 2, u = T.extend({ cheight: o, aheight: a }, t); e += this.Rg(u) } else { e += (t.icon ? "<span class='webix_icon " + t.icon + "'></span> " : "") + t.value } return r || !t.close && !h.close || (e += "<span role='button' tabindex='0' aria-label='" + A.aria.closeTab + "' class='webix_tab_close webix_icon wxi-close'></span>"), e += "</div>" }, Lp: function() { return this.tt.firstChild }, wd: { image: "<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>", icon: "<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>", iconTop: "<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#value#</div></div>" }, type_setter: function(t) { return this.P.tabOffset = 0, this.wd[t] && (this.Rg = qt(this.wd[t])), t }
		}), eh = (T.protoUI(ih, Nr.view), {
			name: "richtext", defaults: { label: "", labelWidth: 80, labelPosition: "left" }, $init: function() { this.Vt.className += " webix_richtext", this.$ready.unshift(this.Eg) }, $skin: function() { $n.api.$skin.call(this), this.defaults.paddingX = Oi.inputSpacing / 2, this.defaults.paddingY = Oi.inputPadding }, getInputNode: function() { return this.$view.querySelector(".webix_richtext_editor") }, Pg: function(t) { return { view: "toggle", type: "icon", icon: "wxi-" + t, name: t, id: t, label: A.richtext[t], autowidth: !0, action: t, click: this.jg } }, Eg: function() { var t = this, i = { view: "template", css: "webix_richtext_container", borderless: !0, template: "<div class='webix_richtext_editor' contenteditable='true'>" + this.getValue() + "</div>", on: { onAfterRender: function() { t.zb = !0, t.refresh(), Zt(t.getInputNode(), "blur", function() { t.Ng(this.innerHTML, "user") }), Zt(t.getInputNode(), "keyup", function() { t.Lg("auto") }) } }, onClick: { webix_richtext_editor: function() { t.Lg("auto") } } }, e = [this.Pg("underline"), this.Pg("bold"), this.Pg("italic"), {}], s = { view: "toolbar", id: "toolbar", elements: e }, n = [s, i]; "top" === this.config.labelPosition ? (s.elements = e.concat([{ view: "label", label: this.config.label, align: "right" }, { width: 4 }]), this.rows_setter(n)) : this.config.labelWidth ? (this.config.margin = 0, this.cols_setter([{ template: this.config.label || " ", css: "webix_richtext_inp_label" + (this.config.required ? " webix_required" : ""), borderless: !0, width: this.config.labelWidth }, { rows: n }])) : this.rows_setter(n) }, labelWidth_setter: function(t) { return t ? Math.max(t, Oi.dataPadding) : 0 }, Lg: function(t) {
				var i; this.$$("toolbar").setValues({
					italic: !1,
					underline: !1, bold: !1
				}, !1, t), i = window.getSelection ? window.getSelection() : document.selection.createRange(); for (var e = 0; e < i.rangeCount; ++e)this.$view.contains(this.getInputNode()) && (document.queryCommandState("bold") && this.$$("bold").setValue(!0, t), document.queryCommandState("underline") && this.$$("underline").setValue(!0, t), document.queryCommandState("italic") && this.$$("italic").setValue(!0, t))
			}, refresh: function() { this.zb && (this.getInputNode().innerHTML = this.P.value) }, Og: function(t) { var i, e; if (window.getSelection) { e = (i = window.getSelection()).toString().length; var s = this.getInputNode(); if (s.contains(i.anchorNode) && s.contains(i.focusNode) && 0 < e) for (var n = 0; n < i.rangeCount; ++n) { var r = i.getRangeAt(n); if (i.isCollapsed) { var h = i.focusNode.textContent, o = i.focusNode, a = i.anchorOffset, u = h.substring(0, a).match(/[A-Za-z]*$/)[0], c = h.substring(a).match(/^[A-Za-z]*/)[0], f = a - u.length, l = a + c.length; r.setStart(o, f), r.setEnd(o, l), i.removeAllRanges(), i.addRange(r), document.execCommand(t, !1, "") } else document.execCommand(t, !1, "") } } }, jg: function() { this.getTopParentView().Og(this.config.action) }, focus: function() { if (!Si.canFocus(this)) return !1; this.getInputNode().focus() }, Ng: function(t, i) { t = this.$prepareValue(t); var e = this.P.value; e != t && (this.P.value = t, this.callEvent("onChange", [t, e, i])) }, setValue: function(t, i) { this.Ng(t, i), this.refresh() }, $prepareValue: function(t) { return 0 === t ? "0" : (t || "").toString() }, value_setter: function(t) { return this.$prepareValue(t) }, getValue: function() { var t = this.getInputNode(); return t ? t.innerHTML : this.P.value }
		}); T.protoUI(eh, Ve, $n.view); ii(Gr.view, { name: "uploader", template: "{common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>{common.fileName()}", percent: function(t) { return "transfer" == t.status ? "<div style='width:60px; text-align:center; float:right'>" + t.percent + "%</div>" : "<div class='webix_upload_" + t.status + "'><span class='" + ("error" == t.status ? "error_icon" : "webix_icon wxi-check") + "'></span></div>" }, removeIcon: function() { return "<div class='webix_remove_upload'><span class='cancel_icon'></span></div>" }, fileName: function(t) { return "<div style='text-overflow:ellipsis; white-space:nowrap; overflow:hidden; padding-right:8px;'>" + t.name + "</div>" }, on_click: { webix_remove_upload: function(t, i) { ai(this.config.uploader).files.remove(i) } } }); var sh = {
			name: "uploader", defaults: { autosend: !0, multiple: !0, inputName: "upload" }, $cssName: "button webix_uploader", $allowsClear: !0, on_click: { webix_hidden_upload: function() { return !1 } }, send: function() { }, fileDialog: function() { }, stopUpload: function() { }, $skin: function() { xr.api.$skin.call(this), "material" != Wi && "mini" != Wi || (this.defaults.css = "webix_primary") }, $init: function() { this.files = new $r, this.Bt = [this.files], T.extend(this, ps, !0) }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.render() }, apiOnly_setter: function(t) { return k(this.render, this), this.$apiOnly = t }, Tf: function(t) { for (var i = 0; i < t.length; i++)this.addFile(t[i]) }, link_setter: function(t) { return t && k(function() { var t = ai(this.P.link); if (!t) { var i = this.getTopParentView(); i.$$ && (t = i.$$(this.P.link)) } t.sync && t.filter ? t.sync(this.files) : t.setValues && this.files.data.attachEvent("onStoreUpdated", function() { t.setValues(this, !1, "auto") }), t.P.uploader = this.P.id }, this), t }, addFile: function(t, i, e, s) { var n = null; "object" == M(t) && (t = (n = t).name, i = n.size); var r = this.Wg(i); e = e || t.split(".").pop(); var h = { file: n, name: t, id: z(), size: i, sizetext: r, type: e, context: this.Hf, status: "client" }; if (n && n.webkitRelativePath && (h.name = n.webkitRelativePath), s && T.extend(h, s, !0), this.callEvent("onBeforeFileAdd", [h])) { this.P.multiple || this.files.clearAll(); var o = this.files.add(h); this.callEvent("onAfterFileAdd", [h]), o && this.P.autosend && this.send(o) } return h }, Ef: function(t) { var i = this.P.upload, e = T.extend(t.urlData || {}, this.P.urlData || {}); if (i && e) { var s = []; for (var n in e) s.push(encodeURIComponent(n) + "=" + encodeURIComponent(e[n])); s.length && (i += (-1 == i.indexOf("?") ? "?" : "&") + s.join("&")) } return i }, addDropZone: function(t, i) {
				var e = C(t), s = ""; i && (s = " " + ut({ content: '"' + i + '"' }, ":before")); var n = "webix_drop_file" + s, r = null; Zt(e, "dragover", wt), Zt(e, "dragover", function() {
					Mt(e, n, !0
					), r && (clearTimeout(r), r = null)
				}), Zt(e, "dragleave", function() { r = setTimeout(function() { St(e, n) }, 150) }), Zt(e, "drop", S(function(t) { return St(e, n), this.$drop(t), wt(t) }, this))
			}, Wg: function(t) { for (var i = 0; 1024 < t;)i++, t /= 1024; return Math.round(100 * t) / 100 + " " + A.fileSize[i] }, Nf: function(t, i) { var e = this.files.getItem(t); T.extend(e, i, !0), e.status = "server", e.progress = 100, this.callEvent("onFileUpload", [e, i]), this.callEvent("onChange", []), this.files.updateItem(t), this.isUploaded() && this.jf(i) }, jf: function(t) { this.callEvent("onUploadComplete", [t]), this.Rf && (this.Rf.call(this, t), this.Rf = 0) }, isUploaded: function() { for (var t = this.files.data.order, i = 0; i < t.length; i++)if ("server" != this.files.getItem(t[i]).status) return !1; return !0 }, $onUploadComplete: function() { }, $updateProgress: function(t, i) { this.files.getItem(t).percent = Math.round(i), this.files.updateItem(t) }, setValue: function(t) { "string" == typeof t && t && (t = { value: t, status: "server" }), this.files.clearAll(), t && this.files.parse(t), this.callEvent("onChange", []) }, getValue: function() { var i = []; return this.files.data.each(function(t) { "server" == t.status && i.push(t.value || t.name) }), i.join(",") }
		}, nh = (T.protoUI(sh, xr.view), { name: "texthighlight", defaults: { template: function(t, i) { var e = t.name || t.id, s = "x" + z(), n = i.fm(t), r = '<div class="webix_text_highlight" style="width:'.concat(n, 'px;"><div class="webix_text_highlight_value"'); return "textarea" == t.type && G.mobile && G.isSafari && (r += ' style="margin-left:'.concat(Oi.dataPadding + 3, "px; margin-right:").concat(Oi.dataPadding + 3, 'px;"')), r += "></div></div>", "textarea" == t.type ? (r += "".concat(i.dm("textarea"), ' style="width:').concat(n, 'px;" id="').concat(s, '" name="').concat(e, '" class="webix_inp_textarea">').concat(i.Yb(t.value), "</textarea>"), i.$renderInput(t, r, s)) : r + i.$renderInput(t) }, highlight: function(t) { return qt.escape(t) }, type: "text" }, $init: function(t) { var i = this, e = t.type || this.defaults.type; this.Vt.className += " webix_el_" + e, "textarea" == e ? (delete t.clear, t.height = t.height || 0, t.minHeight = t.minHeight || 60, this.zi = !0) : (this.scrollEv = Qt(document, "selectionchange", function() { i.$view.contains(document.getSelection().focusNode) && i.Ug() }), this.attachEvent("onDestruct", function() { ti(i.scrollEv) })), this.attachEvent("onChange", function() { return i.Ug() }), this.attachEvent("onAfterRender", function() { i.Yg();["scroll", "focus", "blur", "paste", "cut", "keyup", "input"].forEach(function(t) { return Zt(i.getInputNode(), t, function() { return i.Ug() }) }), i.qg(!0) }) }, $setSize: function() { Cr.api.$setSize.apply(this, arguments), this.Yg() }, $renderIcon: function(t) { return "text" == t.type ? Cr.api.$renderIcon.apply(this, arguments) : "" }, vm: function(t) { return "textarea" == this.P.type ? t ? this.N_ - this.P.inputPadding : "" : Cr.api.vm.apply(this, arguments) }, getInputNode: function() { return this.tt.querySelector("text" == this.P.type ? "input" : "textarea") }, Gg: function() { return this.tt.querySelector(".webix_text_highlight") }, qg: function(t) { var i = this.Gg().firstElementChild, e = this.getValue(); (t || e != (this.Xg || "")) && (this.Xg = e, i.innerHTML = this.P.highlight.apply(this, [e]) + "&nbsp;") }, Kg: function() { var t = this.Gg(); "text" == this.P.type && (t = t.firstElementChild); var i = this.getInputNode(); t.scrollTop = i.scrollTop, t.scrollLeft = i.scrollLeft }, Yg: function() { if (this.zb && this.isVisible()) { var t = this.getInputNode(), i = this.Gg().style; i.left = t.offsetLeft + "px", i.top = t.offsetTop + "px", i.height = t.getBoundingClientRect().height + "px" } }, Ug: function() { k(function() { this.$destructed || (this.qg(), this.Kg()) }, this) } }), rh = (T.protoUI(nh, Cr.view), {
			name: "timeboard", defaults: { width: 260, hours: !0, seconds: !1, twelve: /%([a,A])/.test(A.timeFormat) }, $skin: function() { $n.api.$skin.call(this), this.defaults.margin = Oi.layoutMargin.form, this.defaults.padding = Oi.layoutPadding.space }, $init: function(t) {
				var s = this; this.$view.className += " webix_timeboard"; var i = [], e = V(t.twelve) ? this.defaults.twelve : t.twelve, n = V(t.hours) ? this.defaults.hours : t.hours, r = t.seconds || this.defaults.seconds; if (V(t.height)) { var h = 1 + 1 * n + 1 + 1 * r + 1 * !!t.button; t.height = Oi.inputHeight * h + (t.margin || this.defaults.margin) * (h - 1) + 2 * (t.padding || this.defaults.padding) } i.push(this.Jg(n, r, e)), i.push.apply(i, o(this.Zg(n, r, e))),
					t.button && i.push(this.Qg()), t.rows = [{ view: "form", elements: i, padding: 0, borderless: !0, on: { onChange: function(t, i, e) { return s.tw(e) } } }], this.$ready.push(function() { this.iw = this.queryView("form"); var t = this.P.value; t && this.setValue(t, "auto") })
			}, setValue: function(t, i) { t = this.$prepareValue(t); var e = this.P.value; rn.equal(t, e) || (this.P.value = t, this.$setValue(t), this.callEvent("onChange", [t, e, i])) }, $prepareValue: function(t) { return "string" == typeof t && (t = A.parseTimeFormatDate(t)), t || rn.datePart(new Date) }, $setValue: function(t) { var i = {}; i.minutes = i.sminutes = t.getMinutes(), this.P.hours && (i.shours = i.hours = t.getHours()), this.P.seconds && (i.sseconds = i.seconds = t.getSeconds()), this.P.twelve && (V(i.hours) || (i.day_part = 11 < i.hours ? A.pm[1] : A.am[1], i.hours = i.hours && 12 != i.hours ? i.hours % 12 : 12, i.shours = 12 == i.hours ? 0 : i.hours)), this.iw.setValues(i, !1, "auto") }, tw: function(t) { var i = this.$getValue(), e = this.P.value ? rn.copy(this.P.value) : new Date; e.setHours(i.hours || 0), e.setMinutes(i.minutes), this.P.seconds && e.setSeconds(i.seconds), this.setValue(e, t) }, $getValue: function() { var t = this.iw.getValues(); return this.P.twelve && this.P.hours && (t.day_part == A.pm[1] && t.hours < 12 ? t.hours = (1 * t.hours + 12).toString() : t.day_part == A.am[1] && 12 == t.hours && (t.hours = 0)), t }, getValue: function() { if (this.P.stringResult) { var t = this.$getValue(), i = []; return t.hours && i.push(t.hours), t.minutes && i.push(t.minutes), t.seconds && i.push(t.seconds), i.join(":") } return this.P.value }, Jg: function(t, i, e) { var s = [{}, this.ew("minutes"), {}], n = { css: "webix_colon_template", template: ":", borderless: !0, width: 16 }; if (t && s.splice(1, 0, this.ew("hours", e), _(n)), i && s.splice(-1, 0, _(n), this.ew("seconds")), e && t) { var r = A.am[1], h = A.pm[1], o = { view: "label", name: "day_part", css: "webix_day_part", template: "<div tabindex='0' role='button' class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>", inputWidth: 30, on: { onItemClick: function() { this.setValue(this.getValue() == r ? h : r, "user") }, onKeyPress: function(t, i) { this.Ce(t, i) } } }; s.splice(-1, 1, o) } return { type: "clean", cols: s } }, ew: function(e, s) { var n = this, i = "hours" === e ? s ? 11 : 23 : 59; return { view: "text", width: 46, name: e, format: { parse: function(t) { return 12 == t && "hours" === e && (t = "00"), 1 < t.length ? t.replace(/^0/, "") : t || 0 }, edit: function(t) { return t <= 0 && "hours" === e && s ? t = 12 : t < 0 ? t = 0 : i < t && (t = i), 1 === (t + "").length ? "0" + t : t + "" || "00" } }, on: { onChange: function(t) { var i = 1 * (!s || "hours" !== e || t && 12 != t ? t : 0); n.iw.elements["s" + e].setValue(i, "auto") } } } }, Zg: function(t, i, e) { var s = [this.sw("minutes", A.calendar.minutes, 59)]; return t && s.unshift(this.sw("hours", A.calendar.hours, e ? 11 : 23)), i && s.push(this.sw("seconds", A.timeboard.seconds, 59, e)), s }, sw: function(e, t, i, s) { var n = this, r = "hours" === e && s; return { view: "slider", name: "s" + e, title: t, moveTitle: !1, min: 0, max: i, on: { onChange: function(t) { n.iw.elements[e].setValue((r ? t && 12 != t ? t % 12 : 12 : t) + "", "auto") }, onSliderDrag: function() { var t = this.getValue(), i = this.getFormView(); i.blockEvent(), i.elements[e].setValue((r ? t && 12 != t ? t % 12 : 12 : t) + "", "auto"), i.unblockEvent() } } } }, Qg: function() { var t = this; return { view: "button", value: A.calendar.done, css: "webix_primary", click: function() { t.callEvent("onTimeSelect", [t.P.value]) } } }
		}), hh = (T.protoUI(rh, $n.view), {
			name: "suggest", defaults: { autofocus: !1, type: "list", keyPressTimeout: 1, body: { yCount: 10, autoheight: !0, body: !0, select: !0, borderless: !0, navigation: !0 }, filter: function(t, i) { return 0 === t.value.toString().toLowerCase().indexOf(i.toLowerCase()) } }, template_setter: qt, filter_setter: function(t) { return v(t, this.$scope) }, nw: !0, $init: function(t) {
				var i = {}; T.extend(i, _(this.defaults.body)), i.view = t.type || this.defaults.type; var e = this.rw(i); t.body && T.extend(e, t.body, !0), t.data && (e.data = t.data), t.url && (e.url = t.url), t.datatype && (e.datatype = t.datatype), t.id && (i.id = i.id || t.id + "_" + i.view), t.body = i, this.$ready.push(this.hw), this.attachEvent("onShow", function() { if (this.P.master) { var t = ai(this.P.master); if (t) (t.Km ? t.Km() : t.getInputNode()).setAttribute("aria-expanded", "true"); this.ow() } }), this.attachEvent("onHide", function() { if (this.P.master) { var t = ai(this.P.master); if (t) (t.Km ? t.Km() : t.getInputNode()).setAttribute("aria-expanded", "false") } }),
					this.aw = {}
			}, rw: function(t) { return t }, uw: function(t) { return V(t) ? null : { config: t } }, cw: function(t) { this.ga.value = t }, lw: function(t) { var i, e = t.id ? this.getItemText(t.id) : t.text || t.value; if (this.P.master) { var s = ai(this.P.master); if (i = s.getInputNode()) { var n = s.P.text; s.options_setter ? s.$setValue(t.$empty ? "" : t.id) : s.$setValueHere ? s.$setValueHere(e, t, this.uw()) : s.$setValue(e), s.P.text = n } } else this.ga && this.cw(e); (i = i || this.ga) && i.focus() }, setMasterValue: function(t, i, e) { var s = t.id ? this.getItemText(t.id) : t.text || t.value; if (this.P.master) { var n = ai(this.P.master); i && t.id ? n.refresh() : n.options_setter ? n.setValue(t.$empty ? "" : t.id, e) : n.setValueHere ? n.setValueHere(s, t, this.uw(e)) : n.setValue(s, e) } else this.ga && this.cw(s); i || (this.hide(), this.ga && this.ga.focus()), this.callEvent("onValueSuggest", [t, s]) }, getMasterValue: function() { return this.P.master ? ai(this.P.master).getValue() : null }, getItemId: function(t) { var i = this.getList(); for (var e in i.data.pull) { var s = i.getItem(e); if (this.P.filter.call(this, s, t)) return s.id } }, getItemText: function(t) { var i = this.getList().getItem(t); if (!i) return this.aw[t] || ""; if (this.P.template) return this.P.template.call(this, i, this.type); if (this.P.textValue) return "" + i[this.P.textValue]; var e = this.getList().type, s = e.template.call(e, i, e); return this.aw[t] = s }, getSuggestion: function(t) { var i, e = this.getList(), s = e.data.order; return e.getSelectedId && (i = e.getSelectedId()), t && s.length && (!i || s.find(i) < 0) && (i = s[0], !e.config.dataFeed && !this.config.filter.call(this, e.data.pull[i], t)) ? null : i && ("object" == M(i) && (i += ""), e.getItem(i).$empty) ? null : i }, getList: function() { return this.$t }, hw: function() { var i = this.getList(), t = this.P.type; i.count ? (i.attachEvent("onItemClick", S(function(t) { this.setMasterValue(i.getItem(t), !1, "user") }, this)), i.data.attachEvent("onStoreUpdated", S(function(t, i, e) { "delete" == e && t == this.getMasterValue() ? this.setMasterValue({ id: "", text: "" }, !0, "auto") : "update" == e && t == this.getMasterValue() && this.setMasterValue(i, !0, "auto") }, this)), i.data.attachEvent("onAfterFilter", S(this.Gm, this)), i.data.attachEvent("onStoreLoad", S(this.Gm, this)), V(this.P.fitMaster) && (this.P.fitMaster = !0)) : "calendar" == t ? (i.attachEvent("onAfterDateSelect", function() { this.getParentView().setMasterValue({ value: i.getSelectedDate() }, i.config.multiselect, "user") }), i.attachEvent("onTodaySet", function(t) { this.getParentView().setMasterValue({ value: t }, !1, "user") }), i.attachEvent("onDateClear", function(t) { this.getParentView().setMasterValue({ value: t }, !1, "user") })) : "colorboard" == t ? i.attachEvent("onItemClick", function(t) { this.getParentView().setMasterValue({ value: t }, !1, "user") }) : "timeboard" == t ? i.attachEvent("onTimeSelect", function(t) { this.getParentView().setMasterValue({ value: t }, !1, "user") }) : "colorselect" == t && i.attachEvent("onColorSelect", function(t) { this.getParentView().setMasterValue({ value: t }, !1, "user") }) }, input_setter: function(t) { return this.linkInput(t), 0 }, linkInput: function(i) { var e; i.getInputNode ? (e = i.getInputNode()).webix_master_id = i.P.id : e = C(i), Zt(e, "keydown", function(t) { e == document.body && !this.isVisible() || (i.config ? i.config.readonly : e.getAttribute("readonly")) || this.dw(t) }, { bind: this }), i.Km && (e = i.Km()), e.setAttribute("aria-autocomplete", "list"), e.setAttribute("aria-expanded", "false"), "DIV" === e.tagName && (e.setAttribute("aria-live", "assertive"), e.setAttribute("aria-atomic", "true")), this.vw = !0 }, dw: function(t) { this._w && (this._w = clearTimeout(this._w)), t = t || event; var e = this.getList(), s = t.target; if ((s != document.body || this.isVisible()) && "webix_clipbuffer" != s.className) { this.ga = s, this.P.master = s.webix_master_id; var i = t.keyCode; if (16 != i && 17 != i) { if (9 == i) return this.pw(t, e); if (27 == i) return this.bw(t, e); if (13 == i) return this.$enterKey(t, e); if (this.mw(t) && this.isVisible()) return wt(t), !1; var n = "true" == s.getAttribute("contentEditable"); V(s.value) && !n || (this._w = k(function() { if (this.vw || Si.getFocus() == ai(this.P.master)) { this.Xm = !0; var i = n ? s.innerText : s.value; this.gw && this.gw(), e.config.dataFeed ? e.filter("value", i) : e.filter && e.filter(S(function(t) { return this.P.filter.call(this, t, i) }, this)) } }, this, [], this.P.keyPressTimeout)) } } }, Gm: function() {
				if (!this.Xm) return !0; this.Xm = !1,
					0 < this.getList().count() ? (this.adjust(), this.isVisible() || (this.qm = !0), this.show(this.ga, null, !0), this.qm = !1) : (this.hide(), this.ga = null)
			}, show: function(t) { var i = !t || "INPUT" != t.tagName && "TEXTAREA" != t.tagName ? null : t; if (!this.isVisible() || i && i != this.ga) { var e = this.getList(); e.filter && !this.qm && e.filter(""), this.$customWidth ? this.$customWidth(t) : t && t.tagName && this.P.fitMaster && (this.P.width = t.offsetWidth - 2), e.gd && e.render(), this.adjust(), i && (this.ga = i) } er.api.show.apply(this, arguments) }, ow: function() { var t = this.getList(), i = this.getMasterValue(); t.select && t.showItem ? i && t.exists && t.exists(i) ? (t.select(i), t.showItem(i)) : (t.unselect(), t.showItem(t.getFirstId())) : t.setValue && (this.P.master && (i = ai(this.P.master).$prepareValue(i)), t.setValue(i, "auto")) }, $enterKey: function(t, i) { var e, s, n = this.isVisible(); this.P.master && (s = ai(this.P.master)), s && s._m && s.P.editable ? s.gi() : n && (i.count ? (e = i.getSelectedId(!1, !0), 1 == i.count() && i.getFirstId() != e && (e = i.getFirstId()), e && (e = i.getItem(e))) : (i.getSelectedDate ? e = i.getSelectedDate() : i.getValue && (e = i.getValue()), e && (e = { value: e })), e && this.setMasterValue(e, !1, "user")), n ? this.hide() : this.nw && this.show(this.ga) }, bw: function() { return this.hide() }, pw: function() { return this.hide() }, mw: function(t) { var i, e = this.getList(), s = t.keyCode; if (!(e.moveSelection && s < 41 && 32 < s) || t.ctrlKey || t.metaKey || t.shiftKey || t.altKey) return !1; if (40 === s || 38 === s) { this.nw && !this.isVisible() && this.show(this.ga); var n = 38 === s ? "up" : "down"; e.moveSelection(n, !1, !1) } else { if (e.count || !e.count && !e.isVisible()) return !1; var r; 33 == s && (r = "pgup"), 34 == s && (r = "pgdown"), 35 == s && (r = "bottom"), 36 == s && (r = "top"), 37 == s && (r = "left"), 39 == s && (r = "right"), e.moveSelection(r, !1, !1) } return e.count ? i = e.getSelectedItem(!1) : (e.getSelectedDate ? i = e.getSelectedDate() : e.getValue && (i = e.getValue()), i && (i = { value: i })), i && this.isVisible() && this.lw(i), !0 }, getValue: function() { var t = this.getList(), i = (t.getValue ? t.getValue() : t.getSelectedId()) || ""; if (i = i.id || i, t.getItem) { var e = t.getItem(i); if (e && e.$empty) return "" } return i }, setValue: function(t) { var i = this.getList(); t ? i.exists(t) && (i.select(t), i.showItem(t)) : (i.unselect(), i.showItem(i.getFirstId())) }
		}), oh = { api: hh, view: T.protoUI(hh, er.view) }, ah = {
			name: "multisuggest", defaults: { separator: ",", type: "layout", button: !0, width: 0, filter: function(t, i) { return -1 < this.getItemText(t.id).toString().toLowerCase().indexOf(i.toLowerCase()) }, body: { rows: [{ view: "list", type: "multilist", borderless: !0, autoheight: !0, yCount: 5, multiselect: "touch", select: !0, on: { onItemClick: function(t) { var i = this.getParentView().getParentView(); k(function() { i.ww(t) }) } } }, { view: "button", click: function() { this.getParentView().getParentView().hide(), k(function() { y("onEditEnd", []) }) } }] } }, ww: function(t, i, e) { var s = this.getValue(), n = e || D(s ? this.getValue().split(this.P.separator) : []), r = ai(this.P.master); e || (n.find(t) < 0 ? n.push(t) : n.remove(t)); var h = n.join(this.P.separator), o = this.setValue(n).join(this.P.separator); if (r ? r.setValue(h, "user") : this.ga && (this.ga.value = o), this.callEvent("onValueSuggest", [{ id: h, text: o }]), i) { var a = this.getList().getItemNode(t).getElementsByTagName("SPAN"); a && a.length && a[0].focus() } }, rw: function(t) { return t.rows[0] }, hw: function() { var t = this.getButton(), i = this.P.button ? this.P.buttonText || A.combo.select : 0; if (t && (i ? (t.P.value = i, t.refresh()) : t.hide()), this.P.selectAll) return this.getBody().getChildViews()[0].show(); var e = this.getList(); e.data.attachEvent("onAfterFilter", S(function() { return this.Gm() }, this)), e.data.attachEvent("onStoreLoad", S(function() { return this.Gm() }, this)) }, ow: function() { var t = this.getList(), i = this.getMasterValue(); if (i && (i = i.toString().split(this.config.separator))[0]) for (var e = 0; e < i.length; e++)t.exists(i[e]) && t.select(i[e], !0) }, getButton: function() { return this.getBody().getChildViews()[1] }, getList: function() { return this.getBody().getChildViews()[0] }, setValue: function(t) { var i = [], e = this.getList(); if (e.unselect(), t && ($(t) || (t = t.toString().split(this.config.separator)), t[0])) for (var s = 0; s < t.length; s++)e.exists(t[s]) && (e.select(t[s], !0), i.push(this.getItemText(t[s]))); return this.P.value = t ? t.join(this.config.separator) : "", i }, getValue: function() {
				return this.P.value
			}
		}, uh = { api: ah, view: T.protoUI(ah, oh.view) }, ch = { name: "checksuggest", defaults: { button: !1, selectAll: !1, body: { rows: [{ view: "checkbox", hidden: !0, customCheckbox: !1, borderless: !1, css: "webix_checksuggest_select_all", labelRight: A.combo.selectAll, labelWidth: 0, height: 28, inputHeight: 20, on: { onItemClick: function(t) { for (var i = this.getParentView().getParentView(), e = i.getList(), s = e.data.order, n = 0; n < s.length; n++) { e.getItem(s[n]).$checked = this.getValue() } var r = this.getValue() ? [].concat(s) : []; i.ww(s[0], t, r), e.refresh() }, onChange: function() { var t = this.$view.querySelector("label"), i = A.combo; t.textContent = this.getValue() ? i.unselectAll : i.selectAll }, onAfterRender: function() { var t = this.getParentView().getParentView(); this.setValue(1 * t.xw()) } } }, { view: "list", css: "webix_multilist", borderless: !0, autoheight: !0, yCount: 5, type: "checklist", on: { onItemClick: function(t, i) { var e = this.getItem(t); e.$checked = e.$checked ? 0 : 1, this.refresh(t); var s = this.getParentView().getParentView(); s.Om = new Date, s.ww(t, i), s.config.selectAll && (e.$checked ? s.xw() && s.getBody().hi[0].setValue(1, "auto") : s.getBody().hi[0].setValue(0, "auto")) } } }, { view: "button", click: function() { this.getParentView().getParentView().hide(), k(function() { y("onEditEnd", []) }) } }] } }, xw: function() { var t = this.getValue(); return (t ? t.split(this.config.separator) : []).length === this.getList().count() }, rw: function(t) { return t.rows[1] }, getButton: function() { return this.getBody().getChildViews()[2] }, getList: function() { return this.getBody().getChildViews()[1] }, $init: function() { this.ng = {}, this.la = !0, this.$ready.push(this.yw) }, yw: function() { var t = this.getList(); if (t.config.dataFeed) { var i = this; t.attachEvent("onAfterLoad", function() { i.setValue(i.P.value, "auto") }), t.getItem = function(t) { return this.data.pull[t] || i.ng[t] } } this.config.master && !this.config.selectAll && this.getBody().getChildViews()[0].hide() }, $enterKey: function(t, i) { if (i.count && i.count()) if (this.isVisible()) { var e = i.getSelectedId(!1, !0); e && this.ww(e), this.hide() } else this.show(this.ga); else this.isVisible() && this.hide() }, ow: function() { var t = this.getList(); t.select && t.unselect() }, setValue: function(t) { var i, e = this.getList(), s = [], n = {}, r = []; for ($(t = t || []) ? e.config.dataFeed && (t = this.Qm(t)) : t = t.toString().split(this.config.separator), i = 0; i < t.length; i++)n[t[i]] = 1, e.getItem(t[i]) && (this.ng && (this.ng[t[i]] = _(e.getItem(t[i]))), s.push(this.getItemText(t[i]))); for (e.data.each(function(t) { t.$checked ? n[t.id] || (t.$checked = 0, r.push(t.id)) : n[t.id] && (t.$checked = 1, r.push(t.id)) }, this, !0), i = 0; i < r.length; i++)e.refresh(r[i]); return this.P.value = t.length ? t.join(this.config.separator) : "", s }, getValue: function() { return this.P.value }, lw: function() { var t; this.P.master && (t = ai(this.P.master).getInputNode()), (t = t || this.ga) && t.focus() }, Qm: function(t) { if (t && $(t)) { for (var i = [], e = 0; e < t.length; e++)t[e].id ? (this.ng[t[e].id] = _(t[e]), i.push(t[e].id)) : i.push(t[e]); t = i } return t } }, fh = (T.protoUI(ch, uh.view), T.protoUI({ name: "datasuggest", defaults: { type: "dataview", fitMaster: !1, width: 0, body: { xCount: 3, autoheight: !0, select: !0 } } }, oh.view), { name: "gridsuggest", defaults: { type: "datatable", fitMaster: !1, width: 0, body: { navigation: !0, autoheight: !0, autowidth: !0, select: !0 }, filter: function(t, i) { return 0 === this.config.template(t).toString().toLowerCase().indexOf(i.toLowerCase()) } }, $init: function(t) { t.body.columns || (t.body.autoConfig = !0), t.template || (t.template = S(this.ew, this)) }, ew: function(t) { var i = this.getBody(), e = this.config.textValue || i.config.columns[0].id; return i.getText(t.id, e) } }), lh = (T.protoUI(fh, oh.view), {
			name: "mentionsuggest", defaults: { symbol: "@", filter: function(t, i) { var e = this.P.symbol; return -1 !== (i = i.substring(0, this.Mw)).indexOf(e) && (!!(i = i.substring(i.lastIndexOf(e) + e.length)).length && -1 !== (t.id ? this.getItemText(t.id) : t.text || t.value).toString().toLowerCase().indexOf(i.toLowerCase())) } }, $init: function() { this.attachEvent("onValueSuggest", this.gw) }, $enterKey: function(t) { var i; this.isVisible() && (wt(t), this.P.master && (i = ai(this.P.master)), i && i.callEvent && i.callEvent("onEnter")); return oh.api.$enterKey.apply(this, arguments) }, gw: function() { this.ga && (this.Mw = It(this.ga).start) }, uw: function(t) {
				return {
					pos: this.Mw, symbol: this.P.symbol, config: t
				}
			}, lw: function() { }, cw: function(t) { var i = this.P.symbol, e = this.ga.value, s = e.substring(this.Mw); e = (e = e.substring(0, this.Mw)).substring(0, e.lastIndexOf(i) + i.length) + t, this.ga.value = e + s, Dt(this.ga, e.length) }, nw: !1
		}), dh = (T.protoUI(lh, oh.view), { name: "daterangesuggest", defaults: { type: "daterange", body: { view: "daterange", icons: !0, button: !0, borderless: !0 } }, getValue: function() { return this.getRange().getValue() }, setValue: function(t, i) { this.getRange().setValue(_(t), i) }, getRange: function() { return this.getBody() }, getButton: function() { return this.getBody().getChildViews()[1].getChildViews()[1] }, Sw: function(t) { var i = ai(this.P.master); i && i.setValue(t, "user") }, hw: function() { var t = this.getRange(); t.attachEvent("onAfterDateSelect", S(function(t) { this.Sw(t) }, this)), t.attachEvent("onDateClear", S(function(t) { this.Sw(t) }, this)), t.attachEvent("onTodaySet", S(function(t) { this.Sw(t) }, this)) } }), vh = (T.protoUI(dh, oh.view), { $cssName: "datepicker", name: "daterangepicker", $init: function(t) { delete t.type, delete t.multiselect, delete this.P.multiselect }, defaults: { value: {}, separator: " - " }, bm: function() { var t = this.P; t.suggest ? t.popup = t.suggest : t.popup || (t.popup = t.suggest = this.suggest_setter({ view: "daterangesuggest", body: { timepicker: t.timepicker, calendarCount: t.calendarCount, height: 250 + (t.button || t.icons ? 30 : 0) } })), this.dr = function() { } }, $prepareValue: function() { return In.api.$prepareValue.apply(this, arguments) }, Id: function(t) { return "string" == typeof t && (t = A.parseFormatDate(t)), isNaN(1 * t) ? null : t }, $compareValue: function(t, i) { var e = Vr.api.$compareValue, s = e.call(this, t.start, i.start), n = e.call(this, t.end, i.end); return s && n }, $setValue: function(t) { t = t || {}, this.P.text = (t.start ? this.wm(t.start) : "") + (t.end ? this.P.separator + this.wm(t.end) : ""), this.Mm(), this.om(this.P.text) }, getValue: function() { var t = this.P.value; if (this.zb) { if (this.P.editable) { var i = this.gm || A.dateFormatDate, e = (this.getInputNode().value || "").split(this.P.separator); t = this.kw(i, { start: e[0], end: e[1] }) } } else t = this.$prepareValue(t) || null; if (this.P.stringResult) { var s = A.parseFormatStr; return this.kw(s, t) } return t || null }, kw: function(t, i) { return i.start && (i.start = t(i.start)), i.end && (i.end = t(i.end)), i } }), _h = (T.protoUI(vh, Vr.view), T.protoUI({ name: "excelbar", defaults: { padding: 0, type: "line" }, $init: function(t) { t.cols = [{ view: "tabbar", options: [""], optionWidth: 200, borderless: !0, on: { onaftertabclick: function() { this.getParentView().callEvent("onExcelSheetSelect", [this.getValue()]) } } }] }, getValue: function() { return this.getInput().getValue() }, setValue: function(t, i) { return this.getInput().setValue(t, i) }, getInput: function() { return this.getChildViews()[0] }, setSheets: function(t) { var i = this.getInput(); i.config.options = t, i.refresh() } }, nr.view), {
			name: "vscroll", $apiOnly: !0, defaults: { scroll: "x", scrollPos: 0, scrollSize: 18, scrollVisible: 1, zoom: 1 }, $init: function(t) { var i = t.scroll || "x", e = this.Vt = C(t.container); e.className += " webix_vscroll_" + i, e.innerHTML = "<div class='webix_vscroll_body'></div>", Zt(e, "scroll", this.Cw, { bind: this }), this.Xr = 0 }, $skin: function() { this.defaults.scrollStep = Oi.rowHeight }, reset: function() { this.config.scrollPos = 0, this.Vt["x" == this.config.scroll ? "scrollLeft" : "scrollTop"] = 0 }, $w: function(t) { return 15e5 < t ? (this.P.zoom = t / 1e6, t = 1e6) : this.P.zoom = 1, t }, scrollWidth_setter: function(t) { return t = this.$w(t), this.Vt.firstChild.style.width = t + "px", t }, scrollHeight_setter: function(t) { return t = this.$w(t), this.Vt.firstChild.style.height = t + "px", t }, sizeTo: function(t, i, e) { t = t - (i || 0) - (e || 0); var s = this.P.scrollSize; G.isIE && s && (s += 1), s || !this.P.scrollVisible || G.$customScroll || (this.Vt.style.pointerEvents = "none", s = 14), s ? (this.Vt.style.display = "block", i && (this.Vt.style.marginTop = i + "px"), this.Vt.style["x" == this.P.scroll ? "width" : "height"] = Math.max(0, t) + "px", this.Vt.style["x" == this.P.scroll ? "height" : "width"] = s + "px") : this.Vt.style.display = "none", this.Xr = t }, getScroll: function() { return Math.round(this.P.scrollPos * this.P.zoom) }, getSize: function() { return Math.round((this.P.scrollWidth || this.P.scrollHeight) * this.P.zoom) }, Dw: function() { var t = this.getScroll(), i = Math.max(this.getSize() - this.Xr, 0); i < t && this.scrollTo(i) },
			scrollTo: function(t) { t < 0 && (t = 0); var i = this.P; if ((t /= i.zoom) < 0 && (t = 0), t != this.P.scrollPos) return this.Vt["x" == i.scroll ? "scrollLeft" : "scrollTop"] = t, this.Iw(t, !0), !0 }, Cw: function() { var t = this.Vt["x" == this.P.scroll ? "scrollLeft" : "scrollTop"]; Math.floor(t) != Math.floor(this.P.scrollPos) && this.Iw(t, !1) }, Iw: function(t, i) { var e = this.P.scrollWidth || this.P.scrollHeight; t >= e - this.Xr / (i ? this.P.zoom : 1) && (t = Math.max(0, e - this.Xr / this.P.zoom)), this.P.scrollPos = t || 0, this.callEvent("onScroll", [this.getScroll()]) }, activeArea: function(t, i) { this.Aw = i, Zt(t, "wheel", this.Fw, { bind: this, passive: !1 }), this.Tw(t) }, Tw: function(t) { !G.touch && window.navigator.pointerEnabled && (Mt(t, "webix_scroll_touch_ie", !0), Zt(t, "pointerdown", function(t) { "touch" != t.pointerType && "pen" != t.pointerType || (this.Xe = qi.Ns(t), this.Vw = this.getScroll()) }, { bind: this }), Qt(document.body, "pointermove", function(t) { var i; this.Xe && (this.Ke = qi.Ns(t), "x" == this.P.scroll ? i = this.Ke.x - this.Xe.x : "y" == this.P.scroll && (i = this.Ke.y - this.Xe.y), i && 5 < Math.abs(i) && this.scrollTo(this.Vw - i)) }, { bind: this }), Qt(window, "pointerup", function() { this.Xe && (this.Xe = this.Ke = null) }, { bind: this })) }, Fw: function(t) { var i = 0, e = 0 === t.deltaMode ? 30 : 1; return !t.ctrlKey && (t.deltaX && Math.abs(t.deltaX) > Math.abs(t.deltaY) ? this.Aw && this.P.scrollVisible && (i = t.deltaX / e) : !this.Aw && this.P.scrollVisible && (i = V(t.deltaY) ? t.detail : t.deltaY / e), G.isSafari && (this.zw = t.target), i && this.scrollTo(this.getScroll() + i * this.P.scrollStep) ? wt(t) : void 0) }
		}), ph = (T.protoUI(_h, g, ki), {
			Bw: function() { this.Hw = !0, this.Rw = {}, this.define("select", "area"), this.attachEvent("onAfterScroll", function() { this.refreshSelectArea() }), this.attachEvent("onAfterRender", function() { this.refreshSelectArea(), this.Ew() }), this.attachEvent("onColumnResize", function() { this.refreshSelectArea() }), this.attachEvent("onBeforeColumnHide", function(t) { this.Pw = this.getColumnIndex(t) }), this.attachEvent("onAfterColumnHide", function() { this.jw(this.Pw) }), this.attachEvent("onSyncScroll", this.Nw), this.Lw = function(t, i, e, s) { if (t.row && i.row) { if (e) return this.addSelectArea(t, i, !0), !(this.Hw = !0); if (!this.callEvent("onAreaDrag", [t, i, s])) return !1; this.Ow || !this.Hw || this.P.multiselect && s && s.ctrlKey || (this.removeSelectArea(), this.Hw = !1) } }, this.attachEvent("onBeforeAreaAdd", this.Ww), Zt(this.st, G.mouse.down, this.Uw, { bind: this }) }, Nw: function(t, i, e) { qi.gs(this.Yw, t, i, e), qi.gs(this.qw, t, i, e), qi.gs(this.Gw, t, i, e) }, Xw: !0, jw: function(t) { var i = this.Rw; for (var e in i) { var s = i[e]; if (this.getColumnIndex(s.start.column) < 0) if (s.start.column == s.end.column) this.removeSelectArea(s.name); else { var n = this.columnId(t); n && this.Kw(s.name, { row: s.start.row, column: n }, null) } else if (this.getColumnIndex(s.end.column) < 0) { var r = this.columnId(t - 1); r && this.Kw(s.name, null, { row: s.end.row, column: r }) } } }, Jw: function(t, i, e, s) { var n, r, h, o, a, u, c, f; if (i) { n = this.getColumnIndex(i.start.column), r = this.getColumnIndex(i.end.column), h = this.getIndexById(i.start.row), o = this.getIndexById(i.end.row), a = this.getColumnIndex(t.column), u = this.getIndexById(t.row), c = this.getIndexById(i.init.row), f = this.getColumnIndex(i.init.column), a < n || "left" == e ? "left" === e && s.ctrl ? (n = this.Zw(c, n, e), r = f) : "left" === e && f < r ? r-- : n = a : (r <= a || "right" == e) && ("right" == e && s.ctrl ? (r = this.Zw(c, r, e), n = f) : "right" == e && n < f ? n++ : r = a), u < h || "up" == e ? "up" == e && s.ctrl ? (h = this.Zw(h, f, e), o = c) : "up" == e && c < o ? o-- : h = u : (o < u || "down" == e) && ("down" == e && s.ctrl ? (o = this.Zw(o, f, e), h = c) : "down" == e && h < c ? h++ : o = u); var l = { row: this.getIdByIndex(h), column: this.columnId(n) }, d = { row: this.getIdByIndex(o), column: this.columnId(r) }; this.callEvent("onBeforeBlockSelect", [l, d, !0]) && (this.Kw(i.name, l, d), this.callEvent("onSelectChange", []), this.callEvent("onAfterBlockSelect", [l, d])) } }, Zw: function(t, i, e) { var s = this.config.columns, n = this.data.order, r = this.data.pull[n[t]], h = s[i].id, o = 0; if ("right" == e) for (var a = i + 1; a < s.length; a++) { if (r[s[a].id]) { o = a; break } o = a } else if ("left" == e) { for (var u = i - 1; 0 <= u; u--)if (r[s[u].id]) { o = u; break } } else if ("down" == e) for (var c = t + 1; c < n.length; c++) { if (this.getItem(n[c])[h]) { o = c; break } o = c } else if ("up" == e) for (var f = t - 1; 0 <= f; f--)if (this.getItem(n[f])[h]) { o = f; break } return o }, Kw: function(t, i, e, s) {
				var n = this.Rw[t]; if (!n) return !1
					; var r = _(n), h = { start: i || n.start, end: e || n.end }; this.Ww(h), T.extend(n, h, !0), this.refreshSelectArea(), this.Ew(r), s && this.callEvent("onSelectChange", [])
			}, areaselect_setter: function(t) { return t && (this.Bw(), this.Bw = function() { }), this.define("blockselect", t), t }, addSelectArea: function(t, i, e, s, n, r) { var h, o, a, u, c; h = this.getIndexById(t.row), o = this.getIndexById(i.row), a = this.getColumnIndex(t.column), o < h && (c = h, h = o, o = c), (u = this.getColumnIndex(i.column)) < a && (c = a, a = u, u = c), s = s || this.Ow || z(), this.Ow = null; var f = { start: { row: this.getIdByIndex(h), column: this.columnId(a) }, end: { row: this.getIdByIndex(o), column: this.columnId(u) } }; if (n && (f.css = n), (r || !1 === r) && (f.handle = r), this.Rw[s]) return this.Kw(s, f.start, f.end, !0); f.handle = !0, f.name = s, f.init = f.start, this.callEvent("onBeforeAreaAdd", [f]) && (this.Qw = s, e || this.removeSelectArea(), this.Rw[f.name] = f, this.tx.push(f), this.refreshSelectArea(), this.Ew(), this.callEvent("onAfterAreaAdd", [f]), this.callEvent("onSelectChange", [])) }, ix: function() { var t = lt("DIV"); return t.className = "webix_area_selection_layer", t.style.top = this.nx + "px", t }, refreshSelectArea: function() { var t, i, e, s, n = null, r = null, h = null, o = this.P.prerender; if (this.hx) { t = this.ox(o), i = this.ax(!0 === o), this.Yw || (this.Yw = this.ix(), this.st.childNodes[1].appendChild(this.Yw), this.qw = this.ix(), this.st.childNodes[0].appendChild(this.qw), this.Gw = this.ix(), this.st.childNodes[2].appendChild(this.Gw)), this.Yw.innerHTML = "", this.qw.innerHTML = "", this.Gw.innerHTML = ""; var a = this.P.leftSplit, u = this.P.rightSplit; for (e in this.Rw) { s = this.Rw[e]; var c = this.ux(s, t, i); if (null !== c) { var f = this.getColumnIndex(s.start.column), l = this.getColumnIndex(s.end.column); if (c.r0 <= c.r1) { if (this.P.topSplit && this.P.topSplit <= void 0 && void 0 < this.cx) return !1; f < a && (r = this.vx(c.r0, f, c.r1, Math.min(l, a - 1))), c.c0 <= c.c1 && (n = this.vx(c.r0, c.c0, c.r1, c.c1)), u && l >= this._x && (h = this.vx(c.r0, Math.max(f, this._x), c.r1, l)), (r || n || h) && this.bx(r, n, h, e, s.css, s.handle) } } else this.removeSelectArea(e) } } }, ux: function(t, i, e) { var s, n, r = this.getIndexById(t.start.row), h = this.getIndexById(t.end.row), o = this.getColumnIndex(t.start.column), a = this.getColumnIndex(t.end.column); if (-1 === o || -1 === a) return null; if (-1 === r || -1 === h) return null; if (n = Math.min(e[1], h), this.P.topSplit) { if ((s = r) >= this.P.topSplit && (s = Math.max(e[0] - this.P.topSplit, r)), n >= this.P.topSplit) { var u = this.at(this.getIdByIndex(h), t.end.column), c = this.at(this.getIdByIndex(this.P.topSplit - 1), t.end.column); c.top + c.height > u.top + u.height && (n = this.P.topSplit - 1) } } else s = Math.max(e[0], this.getIndexById(t.start.row)); return { r0: s, r1: n, c0: Math.max(i[0], o), c1: Math.min(this._x ? i[1] - 1 : i[1], a) } }, vx: function(t, i, e, s) { return [this.at(this.getIdByIndex(t), this.columnId(i)), this.at(this.getIdByIndex(e), this.columnId(s))] }, bx: function(t, i, e, d, v, s) { var n, r, h = this.Rw[d], _ = 0; this.P.topSplit && (_ = this.gx(h.start, !0)); var o = function(t, i, e, s, n) { var r, h, o, a, u, c, f = { top: 1, right: 1, bottom: 1, left: 1 }; for (r in s && delete f.left, n && delete f.right, h = e.top - i.top + e.height - 1, o = e.left - i.left + e.width, f) { a = i.top + _, "bottom" == r && (a = e.top + e.height), u = i.left, "right" == r && (u = e.left + e.width), c = "top" == r || "bottom" == r, t.appendChild(lt("DIV", { "class": "webix_area_selection webix_area_selection_" + r + (v ? " " + v : ""), style: "left:" + u + "px;top:" + a + "px;" + (c ? "width:" + o + "px;" : "height:" + (h - _) + "px;"), webix_area_name: d }, "")); var l = t.lastChild; "right" == r && (l.style.left = u - l.offsetWidth + "px"), "bottom" == r && (l.style.top = a - l.offsetHeight + "px"), _ && ("top" == r && (l.style.display = "none"), e.height == _ && "bottom" == r && (l.style.display = "none")) } }; e && o(this.Gw, e[0], e[1], !!i, !1), i && o(this.Yw, i[0], i[1], !!t, !!e), t && o(this.qw, t[0], t[1], !1, !!i), s && (r = e ? e[1] : i ? i[1] : t[1], (n = e ? this.Gw : i ? this.Yw : this.qw).appendChild(lt("DIV", { "class": "webix_area_selection_handle" + (v ? " " + v : ""), style: "left:" + (r.left + r.width) + "px;top:" + (r.top + r.height) + "px;", webix_area_name: d }, "")), _ && r.height == _ && (n.lastChild.style.display = "none")) }, wx: function(s) { if (s) { var t = function(t) { for (var i = t.childNodes, e = i.length - 1; 0 <= e; e--)i[e].getAttribute("webix_area_name") == s && t.removeChild(i[e]) }; t(this.Yw), t(this.qw), t(this.Gw) } }, removeSelectArea: function(t) {
				if (t && this.Rw[t]) {
					if (this.callEvent(
						"onBeforeAreaRemove", [t])) { for (var i in this.Ew(_(this.Rw[t]), !0), delete this.Rw[t], this.wx(t), this.tx = [], this.Rw) this.tx.push(this.Rw[i]); this.callEvent("onAfterAreaRemove", [t]) }
				} else for (var e in this.Rw) this.removeSelectArea(e)
			}, Uw: function(t) { var i = t.target, e = $t(i); if (e && -1 != e.indexOf("webix_area_selection_handle")) { var s = i.getAttribute("webix_area_name"); this.Ow = s; var n = this.Rw[s], r = this.at(n.start.row, n.start.column), h = this.at(n.end.row, n.end.column), o = this.P.prerender, a = this.getColumnIndex(n.start.column) < this.P.leftSplit ? 0 : this.xx, u = this.getColumnIndex(n.end.column) < this.P.leftSplit ? 0 : this.xx; this.yx = [r.left + 1 + a - this.Mr, r.top + 1 - (o ? this.xr : 0), { row: n.start.row, column: n.start.column }], this.Mx = bt(this.st), this.Sx(t), this.kx = [h.left + 1 + u - this.Mr, h.top + 1 - (o ? this.xr : 0)], this.Cx(!1, !1, t), wt(t), this.$x() } }, getSelectArea: function(t) { return this.Rw[t || this.Qw] }, getAllSelectAreas: function() { return this.Rw }, Ww: function(t, i) { var e, s, n, r, h, o, a, u, c, f, l, d, v, _ = !1, p = t.start, b = t.end; for (f = h = this.getIndexById(p.row), l = n = this.getColumnIndex(p.column), d = o = this.getIndexById(b.row), v = r = this.getColumnIndex(b.column), e = h; e <= o; e++) { if (this.getItem(this.getIdByIndex(e)).$row && !i) _ = !0, v = this.hl.length - 1; else if (this.config.spans) for (s = n; s <= r; s++)(a = this.getSpan(this.getIdByIndex(e), this.columnId(s))) && ((u = this.getIndexById(a[0])) < f && (f = u, _ = !0), (c = this.getColumnIndex(a[1])) < l && (_ = !0, l = c), u + a[3] - 1 > d && (_ = !0, d = u + a[3] - 1), c + a[2] - 1 > v && (_ = !0, v = c + a[2] - 1)) } _ && (t.start = { row: this.getIdByIndex(f), column: this.columnId(l) }, t.end = { row: this.getIdByIndex(d), column: this.columnId(v) }, this.Ww(t, !0)) }, Ew: function(t, i) { var e; if (t && (e = this.getItemNode({ row: t.start.row, column: t.start.column })) && e.removeAttribute("tabindex"), !i && this.tx.length) { var s = this.getSelectedId(!0)[0]; (e = this.getItemNode(s)) && e.setAttribute("tabindex", "1") } }
		}), bh = { filterByAll: function() { var h = !1; this.data.silent(function() { this.filter(); var t = !1; for (var e in this.$o) if (this.isColumnVisible(e)) { var i = this.$o[e], s = i[2].getValue(i[0]), n = s; i[1].prepare && (n = i[1].prepare.call(i[2], n, i[1], this)), i[1].value = s; var r = i[1].compare; if (this.callEvent("onBeforeFilter", [e, n, i[1]])) if (i[2].$server || h) h = !0; else { if ("" === n) continue; r ? (r = this.Dx(e, r), this.filter(S(function(t, i) { return !!t && r(t[e], i, t) }, this), n, t)) : this.filter(e, n, t), t = !0 } } h && this.Ix() }, this), h || (this.refresh(), this.callEvent("onAfterFilter", [])) }, Dx: function(t, r) { var i = this.getColumnConfig(t), h = i ? i.optionslist : null; return h ? ("string" != typeof h && (h = ","), function(t, i, e) { if (!t) return !1; for (var s = t.toString().split(h), n = 0; n < s.length; n++)if (r(s[n], i, e)) return !0 }) : r }, filterMode_setter: function(t) { return T.extend(this.data.ho, t, !0) }, getFilter: function(t) { var i = this.$o[t]; return i && i[2].Wd ? i[2].Wd(i[0]) : i && i[2].getInputNode ? i[2].getInputNode(i[0]) : null }, registerFilter: function(t, i, e) { this.$o[i.columnId] = [t, i, e] }, collectValues: function(t, i) { var e = this.getColumnConfig(t), s = i && i.visible ? null : e.collection, n = { values: s ? this.Vl.call(s, "id", "value") : this.Vl(e.id, e.id) }; return this.callEvent("onCollectValues", [t, n]), n.values }, Vl: function(e, s) { var n = { "": !0 }, r = []; if (this.data.each(function(t) { var i = t ? t[e] : ""; 0 === i && (i = "0"), "object" == M(i) && (i = String(i)), i === undefined || n[i] || (n[i] = !0, r.push({ id: i, value: t[s] })) }, this, !0), r.length) { var t = "string" == typeof r[0].value ? "string" : "raw"; r.sort(this.data.sorting.create({ as: t, by: "value", dir: "asc" })) } return r }, Ix: function() { var i = this; this.loadNext(0, 0, 0, 0, 1).then(function(t) { i.editStop && i.editStop(), i.clearAll(!0), i.parse(t), i.callEvent("onAfterFilter", []) }) } }, mh = {
			hover_setter: function(t) { var s = this; return t && !this.Ax && (this.Yu(), this.config.experimental = !0, this.attachEvent("onMouseMoving", function(t) { var i = s.locate(t); !i && G.isEdge && t.relatedTarget && (i = s.locate(t.relatedTarget)); var e = i ? i.row : null; s.Fx != e && (s.Fx && s.removeRowCss(s.Fx, s.P.hover), s.Fx = e, s.Fx && s.addRowCss(s.Fx, s.P.hover)) }), Zt(this.$view, "mouseout", function(t) { var i = t.target; s.Fx && document.body.contains(i) && ((t.relatedTarget ? s.locate(t.relatedTarget) : null) || (s.removeRowCss(s.Fx, s.P.hover), s.Fx = null)) }), this.Ax = 1), t }, select_setter: function(t) {
				return !this.select && t && (
					T.extend(this, this.Vx.Tx, !0), !0 === t ? t = "row" : "multiselect" == t && (t = "row", this.P.multiselect = !0), this.Vx[t], T.extend(this, this.Vx[t], !0)), t
			}, getSelectedId: function(t) { return t ? [] : "" }, getSelectedItem: function(t) { return Oe.getSelectedItem.call(this, t) }, Vx: {
				Tx: { zx: " webix_cell_select", $init: function() { this.Bx(), this.on_click.webix_cell = S(this.Hx, this), this.Rx = this.Ic = function() { this.unselect() }, this.data.attachEvent("onStoreUpdated", S(this.Cc, this)), this.data.attachEvent("onSyncApply", S(this.Ex, this)), this.data.attachEvent("onClearAll", S(this.Rx, this)), this.data.attachEvent("onAfterFilter", S(this.Ic, this)), this.data.attachEvent("onIdChange", S(this.Fc, this)), this.$ready.push(Oe.Tc) }, Fc: function(t, i) { for (var e = 0; e < this.Px.length; e++)this.Px[e] == t && (this.Px[e] = i); for (var s = 0; s < this.tx.length; s++) { var n = this.tx[s]; n.row == t && (t = this.jx(n), n.row = i, i = this.jx(n), n.id = i, delete this.Nx[t], this.Nx[i] = !0) } }, Cc: function(t, i, e) { "delete" == e && this.unselect(t) }, Ex: function() { for (var t = this.tx.length - 1; 0 <= t; t--) { var i = this.tx[t].row; this.exists(i) || (this.tx.splice(t, 1), delete this.Nx[i]) } }, Bx: function() { this.tx = [], this.Nx = {}, this.Px = [] }, isSelected: function(t, i) { var e; return e = V(i) ? "object" === M(t) ? this.jx(t) : t : this.jx({ row: t, column: i }), this.Nx[e] }, getSelectedId: function(t, i) { var e; if (1 < this.tx.length || t) { if (e = [].concat(this.tx), i) for (var s = 0; s < e.length; s++)e[s] = e[s].id } else if (e = this.tx[0], i && e) return e.id; return e }, Lx: function() { return this.row }, Bo: function(t, i) { var e = this.jx(t); if (null !== e) { if (-1 === i) return this.Ox(t); if (t.id = e, t.toString = this.Lx, !this.callEvent("onBeforeSelect", [t, i])) return !1; if (!this.Nx[e] || !i && 1 != this.tx.length) return i || this.Wx(), this.tx.push(t), this.Nx[e] = !0, this.callEvent("onAfterSelect", [t, i]), this.Ux(this.Yx(t)), !0 } }, Wx: function() { if (!this.tx.length) return !1; for (var t = 0; t < this.tx.length; t++)if (!this.callEvent("onBeforeUnSelect", [this.tx[t]])) return !1; for (var i = 0; i < this.Px.length; i++)this.data.removeMark(this.Px[i], "webix_selected", 0, !0); var e = this.P.columns; if (e) for (var s = 0; s < e.length; s++)e[s].$selected = null; var n = this.tx; this.Bx(); for (var r = 0; r < n.length; r++)this.callEvent("onAfterUnSelect", [n[r]]); return !0 }, unselectAll: function() { this.clearSelection() }, selectAll: function() { this.selectRange() }, clearSelection: function() { this.Wx() && (this.callEvent("onSelectChange", []), this.render()) }, Ox: function(t) { var i = this.jx(t); if (!i && this.tx.length && (this.clearSelection(), this.callEvent("onSelectChange", [])), this.Nx[i]) { if (!this.callEvent("onBeforeUnSelect", [t])) return !1; for (var e = 0; e < this.tx.length; e++)if (this.tx[e].id == i) { this.tx.splice(e, 1); break } delete this.Nx[i], this.callEvent("onAfterUnSelect", [t]), this.Ux(0, this.qx(t)) } }, Gx: function(t) { var i = this.getItem(t); return this.data.addMark(i.id, "webix_selected", 0, { $count: 0 }, !0) }, Ux: function(t) { t && this.Px.push(t), this.zc || (this.render(), this.callEvent("onSelectChange", [])) }, Hx: function(t, i) { var e = t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, s = t.shiftKey; if (this.P.multiselect || "multiselect" == this.P.select || "area" == this.P.select || (e = s = !1), s && this.tx.length) { var n = this.tx[this.tx.length - 1]; this.Xx(i, n) } else e && this.Nx[this.jx(i)] ? this.Ox(i) : this.Bo({ row: i.row, column: i.column }, e) }, Kx: function(t, i, e) { var s = this.P.columns; if (i) { for (var n = [], r = 0; r < s.length; r++)s[r].$selected && n.push(s[r]); s = n } for (var h = this.data.order, o = 0, a = 0; a < h.length; a++) { var u = this.getItem(h[a]); if (u) { var c = this.data.getMark(u.id, "webix_selected"); if (c || i) { for (var f = 0, l = 0; l < s.length; l++) { var d = s[l].id; if (e || i || c[d]) { if (!t) return { row: h[a], column: d }; u[d] = t(u[d], h[a], d, o, f), f++ } } o++ } } } } }, row: {
					zx: " webix_row_select", jx: function(t) { return t.row }, select: function(t, i) { t && (t = t.toString()), this.data.exists(t), this.Bo({ row: t }, i) }, Yx: function(t) { return this.Gx(t.row).$row = !0, t.row }, unselect: function(t) { this.Ox({ row: t }) }, qx: function(t) { return this.data.removeMark(t.row, "webix_selected", 0, !0), t.row }, mapSelection: function(t) { return this.Kx(t, !1, !0) }, Xx: function(t, i) { return this.selectRange(t.row, i.row) }, selectRange: function(t, i, e) {
						V(e) && (e = !0); var s = t ? this.getIndexById(t) : 0, n = i ? this.getIndexById(i) : this.data.order.length - 1; if (
							n < s) { var r = s; s = n, n = r } this.zc = !0; for (var h = s; h <= n; h++) { var o = this.getIdByIndex(h); if (!o) { t && this.select(t); break } this.select(o, e) } this.zc = !1, this.Ux()
					}
				}, cell: { jx: function(t) { return t.column ? t.row + "_" + t.column : null }, select: function(t, i, e) { this.data.exists(t), this.Bo({ row: t, column: i }, e) }, Yx: function(t) { var i = this.Gx(t.row); return i.$count++, i[t.column] = !0, t.row }, unselect: function(t, i) { this.Ox({ row: t, column: i }) }, qx: function(t) { var i = this.Gx(t.row); return i.$count--, i[t.column] = !1, i.$count <= 0 && this.data.removeMark(t.row, "webix_selected", 0, !0), t.row }, mapSelection: function(t) { return this.Kx(t, !1, !1) }, Xx: function(t, i) { return this.selectRange(t.row, t.column, i.row, i.column) }, selectRange: function(t, i, e, s, n) { V(n) && (n = !0); var r = t ? this.getIndexById(t) : 0, h = e ? this.getIndexById(e) : this.data.order.length - 1, o = i ? this.getColumnIndex(i) : 0, a = s ? this.getColumnIndex(s) : this.hl.length - 1; if (h < r) { var u = r; r = h, h = u } if (a < o) { var c = o; o = a, a = c } this.zc = !0; for (var f = r; f <= h; f++)for (var l = o; l <= a; l++)this.select(this.getIdByIndex(f), this.columnId(l), n); this.zc = !1, this.Ux() } }, column: { zx: " webix_column_select", jx: function(t) { return t.column }, Lx: function() { return this.column }, select: function(t, i) { this.Bo({ column: t }, i) }, Yx: function(t) { this.P.columns[this.getColumnIndex(t.column)].$selected = !0, this.zc || this.Jx() }, unselect: function(t) { this.Ox({ column: t }) }, qx: function(t) { this.P.columns[this.getColumnIndex(t.column)].$selected = null, this.Jx() }, mapSelection: function(t) { return this.Kx(t, !0, !1) }, Xx: function(t, i) { return this.selectRange(t.column, i.column) }, selectRange: function(t, i, e) { V(e) && (e = !0); var s = t ? this.getColumnIndex(t) : 0, n = i ? this.getColumnIndex(i) : this.hl.length - 1; if (n < s) { var r = s; s = n, n = r } this.zc = !0; for (var h = s; h <= n; h++)this.select(this.columnId(h), e); this.zc = !1, this.Jx(), this.Ux() }, Ex: function() { } }, area: { jx: function(t) { return t.row + "_" + t.column }, getSelectedId: function(t) { var i = this.getSelectArea(), e = []; if (i) if (!t || i.start.row == i.end.row && i.start.column == i.end.column) e.push(i.end); else { var s = this.getIndexById(i.start.row), n = this.getIndexById(i.end.row); if (-1 == s || -1 == n) return e; for (var r = this.getColumnIndex(i.start.column), h = this.getColumnIndex(i.end.column), o = s; o <= n; o++)for (var a = r; a <= h; a++)e.push({ row: this.getIdByIndex(o), column: this.columnId(a) }) } return t ? e : e[0] }, unselect: function() { this.Ox() }, Ox: function() { this.removeSelectArea(), this.callEvent("onSelectChange", []) }, mapSelection: function(t) { var i = this.getSelectArea(); if (i) for (var e = this.getColumnIndex(i.start.column), s = this.getColumnIndex(i.end.column), n = this.getIndexById(i.start.row), r = this.getIndexById(i.end.row), h = n; h <= r; h++)for (var o = this.data.order[h], a = this.getItem(o), u = e; u <= s; u++) { var c = this.hl[u].id; if (!t) return { row: o, column: c }; a[c] = t(a[c], o, c, h - n, u - e) } }, select: function(t, i, e) { this.data.exists(t), this.Bo({ row: t, column: i }, e) }, Xx: function(t, i) { this.Jw(t, i) }, Bo: function(t) { return this.addSelectArea(t, t, !1), !0 }, Ex: function() { this.tx.length && this.refreshSelectArea() } }
			}
		}, gh = {
			blockselect_setter: function(t) { return t && this.Xw && (G.touch ? this.attachEvent("onLongTouch", this.Zx) : Zt(this.Vt, G.mouse.down, this.Zx, { bind: this }), Zt(this.Vt, G.mouse.move, this.Qx, { bind: this }), this.Xw = this.yx = this.kx = !1, this.attachEvent("onAfterScroll", this.ty), T.extend(this, Xt, !0), this.attachEvent("onBeforeAutoScroll", function() { return this.kx })), t }, Xw: !0, iy: function(t, i) { for (var e = t.target; e;) { if (e.getAttribute && e.getAttribute("webixignore")) return !1; if (e == i) return !0; e = e.parentNode } return !1 }, Zx: function(t) { if ((!this.P.subview || this == ai(t.target)) && this.iy(t, this.st)) { if (t.target && "INPUT" == t.target.tagName || this.Dv) return; this.Mx = bt(this.st); var i = G.touch ? t : gt(t); this.yx = [i.x - this.Mx.x, i.y - this.Mx.y], wt(t), this.$x() } }, $x: function() { var i = this, e = Qt(document.body, G.mouse.up, function(t) { return ti(e), i.ey(t) }) }, ey: function(t) { this.ny && (this.Cx("select", !0, t), this.ny = vt(this.ny)), St(document.body, "webix_noselect"), this.yx = this.kx = !1, this.ht && (this.ht = window.clearTimeout(this.ht)) }, ty: function() { this.kx && k(this.Cx, this, [!1, !1]) }, Cx: function(t, i, e) {
				var s; this.yx[2] || (this.yx[2] = this.hy.apply(this, this.yx)), s = this.yx[2]; var n = this.hy.apply(this, this.kx)
					; if (this.callEvent("onBeforeBlockSelect", [s, n, i, e])) { if ((!this.Lw || !1 !== this.Lw(s, n, i, e)) && s.row && n.row) if ("select" === t) this.Wx(), this.Xx(s, n); else { var r, h, o, a; if ("box" === t) r = Math.min(this.yx[0], this.kx[0]), o = Math.max(this.yx[0], this.kx[0]), h = Math.min(this.yx[1], this.kx[1]), a = Math.max(this.yx[1], this.kx[1]); else { var u = this.at(s.row, s.column), c = this.at(n.row, n.column), f = this.getScrollState(), l = u.width, d = c.width; this.oy && this.yx[0] > this.xx + this.ay ? u.left += this.xx + this.ay : this.xx ? this.yx[0] > this.xx && (u.left < f.x ? (l -= f.x - u.left, u.left = this.xx) : u.left += this.xx - f.x) : u.left -= f.x, this.oy && this.kx[0] > this.xx + this.ay ? c.left += this.xx + this.ay : this.xx ? this.kx[0] > this.xx && (c.left < f.x ? (d -= f.x - c.left, c.left = this.xx) : c.left += this.xx - f.x) : c.left -= f.x, this.P.prerender && (u.top -= this.xr, c.top -= this.xr), r = Math.min(u.left, c.left), o = Math.max(u.left + l, c.left + d), h = Math.min(u.top, c.top), a = Math.max(u.top + u.height, c.top + c.height), this.P.topSplit && (h += this.gx(s)), this.ht && (this.ht = window.clearTimeout(this.ht)), !e || G.touch && !this.P.prerender || (this.ht = k(this.et, this, [gt(e)], 250)) } var v = this.ny.style; v.left = r + "px", v.top = h + "px", v.width = o - r + "px", v.height = a - h + "px" } i && this.callEvent("onAfterBlockSelect", [s, n]) }
			}, Sx: function() { this.ny = lt("div", { "class": "webix_block_selection" }, ""), this.st.appendChild(this.ny) }, Qx: function(t) { if (!this.Tv && !1 !== this.yx) { this.kx || Mt(document.body, "webix_noselect"); var i = G.touch ? G.mouse.context(t) : gt(t), e = [i.x - this.Mx.x, i.y - this.Mx.y]; if (Math.abs(this.yx[0] - e[0]) < 5 && Math.abs(this.yx[1] - e[1]) < 5) return; !1 === this.kx && this.Sx(t), this.kx = e, this.Cx(this.config.blockselect, !1, t), G.touch && wt(t) } }, hy: function(t, i) { var e = !1, s = null, n = null; if (this.oy && t > this.xx + this.ay ? t += this.yr.getSize() - this.ay - this.xx - this.oy : (!this.xx || t > this.xx) && (t += this.yr.getScroll()), this.P.topSplit && this.cx > this.P.topSplit) { var r = this.at(this.getIdByIndex(this.P.topSplit - 1), this.columnId(0)); r.top + r.height > i && (e = !0) } e || (i += this.getScrollState().y), t < 0 && (t = 0), i < 0 && (i = 0); for (var h = this.P.columns, o = this.data.order, a = 0, u = 0; u < h.length; u++)if (t <= (a += h[u].width)) { n = h[u].id; break } n || (n = h[h.length - 1].id), a = 0; var c = this.data.$min || 0; if (this.P.fixedRowHeight) s = o[c + Math.floor(i / this.P.rowHeight)]; else for (var f = c; f < o.length; f++)if (i <= (a += this.uy(f))) { s = o[f]; break } return s || (s = o[o.length - 1]), { row: s, column: n } }, gx: function(t, i) { var e = 0, s = this.getIndexById(t.row); if (s >= this.P.topSplit) { var n = this.at(this.getIdByIndex(s), t.column), r = this.at(this.getIdByIndex(this.P.topSplit - 1), t.column); r.top + r.height > n.top && (e = r.top + r.height - (0 < n.top || !i ? n.top : 0)) } return e }
		}, wh = {
			resizeRow_setter: function(t) { return this.P.scrollAlignY = !1, this.P.fixedRowHeight = !1, this.resizeColumn_setter(t) }, resizeColumn_setter: function(t) { var i = this; return t && this.cy && (Zt(this.Vt, "mousemove", function(t) { return i.fy(t) }), Zt(this.Vt, "mousedown", function(t) { return i.ly(t) }), Zt(this.Vt, "mouseup", function() { return i.vy() }), this.cy = !1), t }, cy: !0, ly: function(t) { !this._y || this.P.subview && this != ai(t.target) || (this.Dv = [gt(t), this._y], Mt(document.body, "webix_noselect"), ht()) }, vy: function() { this.Dv = !1, St(document.body, "webix_noselect"), ot() }, gy: function() { var i = this; if (!this.Tv) { var t, e = a(this.Dv[1], 4), s = e[0], n = e[1], r = e[2], h = e[3], o = this.Dv[0]; o = "x" == s ? (t = bt(r).x + n - bt(this.st).x, o.x) : (t = bt(r).y + n - bt(this.st).y + this.ia, o.y), this.Tv = [s, h, t], new ni.resizearea({ container: this.Vt, eventPos: o, start: t, dir: s, cursor: ("x" == s ? "col" : "row") + "-resize" }).attachEvent("onResizeEnd", function(t) { return i.wy(t) }), this._y = !1 } }, wy: function(t) { if (this.Tv) { var i = this.Tv[1], e = t - this.Tv[2]; if ("x" == this.Tv[0]) { this.P.rightSplit && i.cind >= this._x && (e *= -1); var s = this.hl[i.cind], n = s.width; delete s.fillspace, delete s.adjust, this.Fo(i.cind, n + e, !0, !0), this.To() } else { var r = this.getIdByIndex(i.rind), h = this.xy(this.getItem(r)); this.setRowHeight(r, h + e) } this.vy() } this.Tv = null }, fy: function(t) {
				if (this._y && this.Dv) return this.gy(); var i = this._y = !1, e = t.target, s = this.P, n = e.getAttribute("class") || "", r = -1 != n.indexOf("webix_cell"); if (r && s.drag) return this.yy(i); var h = -1 != n.indexOf("webix_hcell"); if (r || h) {
					var o = mt(t), a = this.zs(e); i = this.My(a, o, e, s.resizeColumn, r
					) || r && this.Sy(a, o, e, s.resizeRow)
				} this.yy(i)
			}, My: function(t, i, e, s, n) { if (!s || n && s.headerOnly) return !1; var r, h, o = e.offsetWidth; return s = s.size ? s.size : 3, i.x < s ? (t.cind < this._x && (t.cind -= t.span || 1), r = this.hl[t.cind], h = ["x", 0, e, t]) : o - i.x < s + 1 && (this.P.rightSplit && t.cind + 1 >= this._x && t.cind++, (!this.P.rightSplit || t.cind < this.hl.length) && (r = this.hl[t.cind], h = ["x", o, e, t])), !(!r || !1 === r.resize) && (this._y = h, "col-resize") }, Sy: function(t, i, e, s) { if (!s || s.headerOnly && 0 < t.cind) return !1; if (this.kx) return !1; var n = e.offsetHeight; return s = s.size ? s.size : 3, i.y < s ? 0 < t.rind && (t.rind--, this._y = ["y", 0, e, t]) : n - i.y < s + 1 && (this._y = ["y", n, e, t]), !!this._y && "row-resize" }, yy: function(t) { this.ky && window.clearTimeout(this.ky), this.ky = k(this.Cy, this, [t], t ? 100 : 0) }, Cy: function(t) { this.$y != t && (this.$y = t, this.Vt.style.cursor = t || "") }
		}; F("onDataTable", function(t, i) { G.touch && (qi.$init(), i.scrollSize = 0, qi.Ie && qi.limit(), t.$ready.push(t.$touch)) }); var xh = { $touch: function() { var t = this.P; t.scrollAlignY = !1, T.extend(this, !0 === t.prerender ? this.Dy : this.Iy); var i = ""; t.autowidth || !1 === t.scrollX || (i += "x"), t.autoheight || !1 === t.scrollY || (i += "y"), this.st.setAttribute("touch_scroll", i), qi.Fs(this.st.childNodes[1].firstChild), qi.gs(this.st.childNodes[1].firstChild, 0, 0, "0ms"), this.xs(0, 0, "0ms") }, $hasYScroll: function() { return 2 < this.Ay - this.Fy }, Dy: { Ty: function(t, i) { qi.gs(this.st.childNodes[1].firstChild, -t, -i, "0ms"), this.xs(-t, -i, "0ms"), this.callEvent("onAfterScroll", [{ e: -t, f: -i }]) }, Vy: function() { var t = qi.ps(this.st.childNodes[1].firstChild); return { x: -t.e, y: -t.f } }, $init: function() { this.attachEvent("onBeforeScroll", function() { qi.ts = this.st.childNodes[1].firstChild, qi.Ps(qi.ts), qi.ws = this }), this.attachEvent("onTouchEnd", function() { qi.ws = null }), this.attachEvent("onAfterScroll", function(t) { t && (this.Mr = -t.e, this.xr = -t.f, this.yr && (this.yr.P.scrollPos = this.Mr), this.wr && (this.wr.P.scrollPos = this.xr)) }) }, xs: function(t, i, e) { qi.gs(this.st.childNodes[1].firstChild, t, i, e), this.P.leftSplit && qi.gs(this.st.childNodes[0].firstChild, 0, i, e), this.P.rightSplit && qi.gs(this.st.childNodes[2].firstChild, 0, i, e), this.P.header && qi.gs(this.k.childNodes[1].firstChild, t, 0, e), this.P.footer && qi.gs(this.nl.childNodes[1].firstChild, t, 0, e), this.callEvent("onSyncScroll", [t, i, e]) }, As: function() { } }, Iy: { Ty: function(t, i) { k(function() { this.callEvent("onAfterScroll", [{ e: -t, f: -i }]) }, this) }, $scroll: { gravity: 0, elastic: !1 }, $init: function() { this.attachEvent("onAfterColumnHide", function() { this.Ty(0, 0) }), this.attachEvent("onBeforeScroll", function() { var t = qi; t.ts = this.st.childNodes[1].firstChild, t.Ps(t.ts), t.es.left = this.Mr, t.es.hidden = this.yr.P.scrollVisible || this.wr.P.scrollVisible, t.es.dy = this.Ay, t.ws = this }), this.attachEvent("onAfterRender", function() { this.yr && this.P.scrollX && this.yr.Dw(), this.wr && this.P.scrollY && this.wr.Dw() }), this.attachEvent("onAfterScroll", function(t) { if (t) { var i = this.Mr != -t.e, e = this.xr != -t.f; qi.ws = null, qi.zy = null, this.xr = 0, this.Mr = 0; var s = qi.config.translate; return qi.config.translate = "translate", this.xs(this.yr ? 0 : t.e, 0, 0), qi.config.translate = s, this.Mr = -t.e, this.xr = -t.f, this.By(), this.render(), i && (this.yr && this.yr.scrollTo(this.Mr), this.callEvent("onScrollX", [])), e && (this.wr && this.wr.scrollTo(this.xr), this.callEvent("onScrollY", [])), !1 } }) }, xs: function(t, i, e) { i += this.xr, t += this.Mr, qi.gs(this.st.childNodes[1].firstChild, t, i, e), this.P.leftSplit && qi.gs(this.st.childNodes[0].firstChild, 0, i, e), this.P.rightSplit && qi.gs(this.st.childNodes[2].firstChild, 0, i, e), this.P.header && qi.gs(this.k.childNodes[1].firstChild, t, 0, e), this.P.footer && qi.gs(this.nl.childNodes[1].firstChild, t, 0, e), this.callEvent("onSyncScroll", [t, i, e]) }, As: function(t) { t.f -= this.xr, t.e -= this.Mr } } }, yh = {
			$init: function() { this.data.attachEvent("onStoreUpdated", S(function(t) { t || this.Hy() }, this)), this.attachEvent("onStructureLoad", this.Hy), this.attachEvent("onStructureUpdate", this.Ry), this.attachEvent("onColumnResize", function(t, i, e, s) { s && this.Ry() }), this.attachEvent("onResize", this.Ry) }, Hy: function() { for (var t = !1, i = this.hl, e = 0; e < i.length; e++)i[e].adjust && ("header" == i[e].adjust || this.count()) && (t = this.Ey(e, i[e].adjust, !0) || t); t && (this.To(!0), this.Ry()) },
			Ry: function() { var t = this.P.columns, i = [], e = 0; if (t && !this.P.autowidth) for (var s = 0; s < t.length; s++) { var n = t[s].fillspace; n && (e += 1 * (i[s] = n) || 1) } e && this.Py(i, e) }, Py: function(t, i) { var e = this.P.columns; if (e) { var s = this.ge - this.jy, n = !1; if (0 < s) { for (var r = 0; r < e.length; r++)t[r] || (s -= e[r].width || this.P.columnWidth); for (var h = 0; h < t.length; h++)if (t[h]) { var o = Math.min(s, Math.round(s * t[h] / i)); n = this.Fo(h, o, !0) || n, s -= e[h].width, i -= t[h] } n && this.To(!0) } } }, Ny: function(t, i) { var e = this.P.columns[t], s = e.minWidth || this.P.minColumnWidth; if ("header" != i) { var n = this.data.order.length; e.adjustBatch && e.adjustBatch < n && (n = e.adjustBatch); for (var r = this.data.order.slice(0, n), h = 0; h < n; h++)r[h] = r[h] ? this.Ly(this.getItem(r[h]), e, 0) : ""; s = Math.max(s, kt(r, "webix_table_cell webix_cell").width) } if ("data" != i) { for (var o = 0; o < e.header.length; o++) { var a = e.header[o]; if (a) { var u = 0; if (a.rotate) for (var c = 0; c < (a.rowspan || 1); c++)u += this.ol[c]; var f = "webix_table_cell webix_cell " + (a.css || "") + (a.rotate ? "webix_measure_rotate" : ""), l = kt([a.text], f, u); s = Math.max(s, a.rotate ? l.height : l.width) } } e.sort && (s += 10) } return s += G.isIE ? Oi.layoutPadding.space : 0, Math.min(s, e.maxWidth || this.P.maxColumnWidth || 1e5) }, Ey: function(t, i, e) { if (0 <= t) { var s = this.Ny(t, i); return this.Fo(t, s, e) } }, adjustColumn: function(t, i) { this.Ey(this.getColumnIndex(t), i) }, adjustRowHeight: function(t, i) { if (t) this.Oy(t); else { for (var e = {}, s = this.P.columns, n = 0; n < s.length; n++)this.Oy(s[n].id, e); this.data.each(function(t) { t.$height = e[t.id] }) } i || this.refresh() }, Oy: function(t, e) { var i, s = this.getColumnConfig(t), n = lt("DIV", { "class": "webix_table_cell webix_measure_size webix_cell" }, ""); n.style.cssText = "width:" + s.width + "px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;", this.$view.appendChild(n), n.offsetHeight < 1 && (i = this.$view.cloneNode(!0), document.body.appendChild(i), i.appendChild(n)), this.data.each(function(t) { var i; n.innerHTML = this.Ly(t, s, 0), i = Math.max(n.scrollHeight, this.P.rowHeight, this.P.minRowHeight || 0), i = Math.min(i, this.P.maxRowHeight || 1e5), e ? e[t.id] = Math.max(i, e[t.id] || 0) : t.$height = i }, this), n = vt(n), i && vt(i) }
		}, Mh = {
			math_setter: function(t) { return t && this.Wy(), t }, Uy: "$", Wy: function() { G.strict || (this.data.attachEvent("onStoreUpdated", S(this.Yy, this)), this.data.attachEvent("onStoreLoad", S(this.qy, this)), this.attachEvent("onStructureLoad", this.qy)) }, Yy: function(t, i, e) { if (t && "paint" != e) if ("delete" == e) for (var s = 0; s < this.hl.length; s++)this.Gy(i, this.hl[s].id); else { "add" == e && this.Xy(i); for (var n = 0; n < this.hl.length; n++)this.Ky = {}, this.Jy(t, this.hl[n].id); this.Ky = {} } }, Jy: function(t, i) { var e, s = this.getItem(t); if ((e = s[this.Uy + i] || s[i]) && 0 < e.length && "=" === e.toString().substr(0, 1) ? (s[this.Uy + i] = e, s[i] = this.Zy(e, t, i)) : ("undefined" != typeof s[this.Uy + i] && delete s[this.Uy + i], this.Gy(s, i)), "undefined" != typeof s.depends && "undefined" != typeof s.depends[i]) for (var n in s.depends[i]) { var r = s.depends[i][n][0] + "__" + s.depends[i][n][1]; "undefined" == typeof this.Ky[r] && (this.Ky[r] = !0, this.Jy(s.depends[i][n][0], s.depends[i][n][1])) } }, Qy: function(t, i) { var e = this.getItem(t); "undefined" != typeof e[this.Uy + i] && (e[i] = e[this.Uy + i]) }, qy: function() { if (this.hl && this.count()) { this.Xy(); for (var t = 0; t < this.hl.length; t++) { var i = this.columnId(t); this.data.each(function(t) { this.Ky = {}, this.Jy(t.id, i) }, this) } this.Ky = {} } }, Xy: function(t) { for (var i = 0; i < this.hl.length; i++)if (this.hl[i].math) { var e = this.columnId(i), s = "=" + this.hl[i].math; s = s.replace(/\$c/g, "#$c#"), t ? (t[e] = this.tM(s, t.id, e), delete t[this.Uy + e], this.Gy(t, e)) : this.data.each(function(t) { t[e] = this.tM(s, t.id, e), delete t[this.Uy + e], this.Gy(t, e) }, this) } }, tM: function(t, i, e) { return qt(t)({ $r: i, $c: e }) }, iM: function(t, i) { var e; if (!this.exists(t)) return "#out_of_range"; var s = (e = this.getItem(t))[this.Uy + i] || e[i] || 0; return "=" !== (s = s.toString()).substring(0, 1) ? s : ("undefined" == typeof e[this.Uy + i] && (e[this.Uy + i] = e[i]), e[i] = this.Zy(s, t, i, !0), e[i]) }, Zy: function(t, i, e, s) {
				if (!0 === s) { if (this.eM(i, e)) return "#selfreference" } else this.sM(); this.nM(i, e); var n = this.getItem(i); t = t.substring(1); var r = this.rM(t), h = this.hM(t, i); t = r ? (t = this.oM(t, h), this.aM(t, r)) : this.oM(t, h, !0); var o = this.uM(t); if (!1 !== o
				) return o; this.cM(i, e), this.Gy(n, e); for (var a = 0; a < h.length; a++)this.fM([i, e], h[a]); return !1 !== (o = this.uM(t)) ? o : t ? (t = this.lM(t.replace(/\$r/g, n.id)), !1 !== (o = this.uM(t)) ? o : t) : t
			}, rM: function(t) { return t.replace(/\[[^)]*?\]/g, "").match(/(\+|-|\*|\/)/g) }, hM: function(t, i) { var e = t.match(/\[([^\]]+),([^\]]+)\]/g); null === e && (e = []); for (var s = 0; s < e.length; s++) { var n = e[s], r = n; (n = (n = n.substr(1, n.length - 2)).split(","))[0] = this.dM(n[0]), n[1] = this.dM(n[1]), ":" === n[0].substr(0, 1) && (n[0] = this.getIdByIndex(n[0].substr(1))), "$r" === n[0] && (n[0] = i), ":" === n[1].substr(0, 1) && (n[1] = this.columnId(n[1].substr(1))), n[2] = r, e[s] = n } return e }, oM: function(t, i, e) { var s = "(", n = ")"; e && (s = n = ""); for (var r = 0; r < i.length; r++) { var h = i[r], o = this.iM(h[0], h[1]); isNaN(o) && (o = '"' + o + '"'), t = t.replace(h[2], s + o + n) } return t }, aM: function(t, i) { for (var e = [], s = 0; s < i.length; s++) { var n = i[s], r = this.vM(t, n); e.push(r[0]), t = r[1] } e.push(t); for (var h = 0; h < e.length; h++) { var o = this.dM(e[h]); e[h] = o } for (var a = "", u = 0; u < e.length - 1; u++)a += e[u] + i[u]; return a += e[e.length - 1] }, lM: function(t) { var i; try { i = window.eval(t) } catch (e) { i = "" } return i.toString() }, vM: function(t, i) { var e = t.indexOf(i); return [t.substr(0, e), t.substr(e + 1)] }, dM: function(t) { return t = (t = t.replace(/^ */g, "")).replace(/ *$/g, "") }, sM: function() { this._M = [] }, nM: function(t, i) { this._M[t + "__" + i] = !0 }, cM: function(t, i) { "undefined" != typeof this._M[t + "__" + i] && delete this._M[t + "__" + i] }, eM: function(t, i) { return "undefined" != typeof this._M[t + "__" + i] }, fM: function(t, i) { var e = this.getItem(i[0]); "undefined" == typeof e.depends && (e.depends = {}), "undefined" == typeof e.depends[i[1]] && (e.depends[i[1]] = {}), e.depends[i[1]][t[0] + "__" + t[1]] = t, "undefined" == typeof (e = this.getItem(t[0])).triggers && (e.triggers = {}), "undefined" == typeof e.triggers[t[1]] && (e.triggers[t[1]] = {}), e.triggers[t[1]][i[0] + "__" + i[1]] = i }, Gy: function(t, i) { if (t && "undefined" != typeof t.triggers) for (var e in t.triggers[i]) { var s = t.triggers[i][e], n = this.getItem(s[0]); n && delete n.depends[s[1]][t.id + "__" + i] } }, uM: function(t) { var i = t.match(/#\w+/); return null !== i && 0 < i.length && i[0] }
		}, Sh = { headermenu_setter: function(t) { return t && (t.data && (this.pM = !0), t = this.bM(t)), t }, bM: function(n) { var t = { view: "contextmenu", template: "<span class='webix_icon webix_list_icon {common.hidden()}'></span> &nbsp; #value#", type: { hidden: function(t) { return t.hidden ? "wxi-eye-slash" : "wxi-eye" } }, on: { onMenuItemClick: S(function(t) { var i = ai(this.P.headermenu), e = i.getItem(t).hidden; i.getItem(t).hidden = !e, i.refresh(t), i.$blockRender = !0; var s = { spans: "object" == M(n) && n.spans }; return e ? this.showColumn(t, s) : this.hideColumn(t, s), i.$blockRender = !1 }, this) }, data: [] }; "object" == M(n) && T.extend(t, n, !0); var i = ni(t); return i.attachTo(this.k), this.Bt.push(i), this.attachEvent("onStructureLoad", this.mM), this.attachEvent("onStructureUpdate", this.mM), this.bM = function(t) { return t }, i.P.id }, mM: function() { var t = ai(this.P.headermenu), i = this.Io; if (!t.$blockRender) { if (this.pM) return t.data.each(function(t) { t.hidden = !!i[t.id] }), void t.refresh(); var e = [], s = this.So; s.length || (s = this.hl); for (var n = 0; n < s.length; n++) { var r = this.getColumnConfig(s[n].id || s[n]), h = r.header[0], o = !!i[r.id]; !1 !== r.headermenu && h && e.push({ id: r.id, value: o ? h.text : h.groupText || h.text, hidden: o }) } e.length && t.data.importData(e) } } }; yn.headerMenu = { getValue: function() { }, setValue: function() { }, refresh: function(t, i) { t.P.headermenu || (t.define("headermenu", !0), t.mM()), i.onclick = function() { ai(t.config.headermenu).show(i) } }, render: function() { return "<span class='webix_icon wxi-columns' role='button' tabindex='0' aria-label='" + A.aria.headermenu + "'>" } }; var kh = {
			Fa: function(t) { return this.getColumnConfig(t.column).editor }, getEditor: function(t, i) { return t ? (1 == arguments.length && (i = t.column, t = t.row), (this.wa[t] || {})[i]) : this.Pi }, La: function(t) { for (var i in this.wa) { var e = this.wa[i]; for (var s in e) "$count" != s && t.call(this, e[s]) } }, Ta: function(t, i, e) {
				var s = t.row, n = t.column, r = i.config = this.getColumnConfig(n); !1 !== e && this.showCell(s, n); var h = i.render(); i.$inline && (h = this.Sa(t)), i.node = h; var o, a = this.getItem(s), u = r.editFormat; return this.P.editMath && (o = a["$" + n]), V(o = o || a[n]) && (o = ""), i.setValue(u ? u(o) : o, a), i.value = a[n], this.Ha(t, i),
					i.$inline || (i.gM = this.Ra(t, h, !0)), i.afterRender && i.afterRender(), this.P.liveValidation && (Zt(i.node, "keyup", this.wM(t, this)), this.validateEditor(t)), h
			}, wM: function(t, i) { return function() { i.validateEditor(t) } }, Oa: function(t) { var i = this.getColumnConfig(t.column).editParse, e = t.getValue(); return i ? i(e) : e }, Ia: function(t, i, e) { var s = e ? {} : this.getItem(t.row); return s[t.column] = i, this.P.editMath && (s["$" + t.column] = null), s }, Ha: function(t, i) { var e = this.wa[t.row] = this.wa[t.row] || {}; e.$count = (e.$count || 0) + 1, i.row = t.row, i.column = t.column, this.Pi = e[t.column] = i, this.Ai++, this.xM = this.getScrollState() }, Pa: function(t) { this.Pi == t && (this.Pi = 0), t.destroy && t.destroy(); var i = this.wa[t.row]; delete i[t.column], i.$count--, i.$count || delete this.wa[t.row], this.Ai-- }, ka: function(t, i) { var e = this.wa[t]; if (e) for (var s in this.wa[i] = e, delete this.wa[t], e) "$count" != s && (e[s].row = i) }, Ea: function(t) { var i, e, s, n, r, h = this.getColumnConfig(t.column), o = 0; if (h && h.node && h.attached) { if (s = this.getIndexById(t.row), this.al && this.getSpan(t.row, t.column)) for (e = 0; e < 3; e++)for (i = this.yM[e], n = 0; !o && n < i.childNodes.length; n++)(r = i.childNodes[n]).getAttribute("row") == s && r.getAttribute("column") == this.getColumnIndex(t.column) && (o = r); !o && s >= h.MM - this.P.topSplit && s < h.SM && (o = h.node.childNodes[s - h.MM + this.P.topSplit]) } return o }, editCell: function(t, i, e, s) { return i = i || this.P.columns[0].id, Ce.edit.call(this, { row: t, column: i }, e, s) }, editRow: function(i) { i && i.row && (i = i.row); var e = !1; this.eachColumn(function(t) { this.edit({ row: i, column: t }, e, !e), e = !0 }) }, editColumn: function(i) { i && i.column && (i = i.column); var e = !1; this.eachRow(function(t) { this.edit({ row: t, column: i }, e, !e), e = !0 }) }, eachRow: function(t, i) { var e = this.data.order; i && (e = this.data.Th || e); for (var s = 0; s < e.length; s++)t.call(this, e[s]) }, eachColumn: function(t, i) { var e = this.So; if (i && e.length) for (var s = 0; s < e.length; s++) { var n = this.getColumnConfig(e[s]); t.call(this, n.id, n) } else for (var r = this.hl, h = 0; h < r.length; h++) { var o = r[h]; t.call(this, o.id, o) } }, Ua: function(t) { if (this.getSelectedId && 1 == this.getSelectedId(!0).length) return this.Bo(t), !1 }, Ii: function(t, i) { if (this.P.editable && !this.Ai) { if (i.target && "INPUT" == i.target.tagName) return !0; var e = this.getSelectedId(!0); if (1 == e.length) { var s = e[0]; return "row" == this.P.select && (s.column = this.P.columns[i.shiftKey ? 0 : this.P.columns.length - 1].id), this.editNext(t, s), !1 } } return !0 }, Wa: function(t, i, e) { var s = this.getIndexById(t.row), n = this.getColumnIndex(t.column), r = this.data.order, h = this.hl; if (e) for (var o = s; o < r.length; o++) { for (var a = n + 1; a < h.length; a++) { var u = { row: r[o], column: h[a].id }; if (i.call(this, u) && (!this.kM || !this.kM(t, u))) return u } n = -1 } else for (var c = s; 0 <= c; c--) { for (var f = n - 1; 0 <= f; f--) { var l = { row: r[c], column: h[f].id }; if (i.call(this, l)) return l } n = h.length } return null }, CM: function() { this.Ai && (this.$M ? this.$M = !1 : (this.wr.scrollTo(this.getScrollState().y + this.st.childNodes[1].firstChild.scrollTop), this.st.childNodes[1].firstChild.scrollTop = 0, this.$M = !0)) }, DM: function() { this.Ai && this.yr.scrollTo(this.st.childNodes[1].scrollLeft) }, $a: function() { this.attachEvent("onScrollY", this.IM), this.attachEvent("onScrollX", this.IM), this.attachEvent("onScrollY", this.xa), this.attachEvent("onColumnResize", function() { this.editStop() }), this.attachEvent("onAfterFilter", function() { this.editStop() }), this.attachEvent("onRowResize", function() { this.editStop() }), this.attachEvent("onAfterScroll", function() { this.P.topSplit && this.editStop() }), this.st.childNodes[1].firstChild.onscroll = S(this.CM, this), this.st.childNodes[1].onscroll = S(this.DM, this) }, IM: function() { if (this.Ai) { var t = this.xM; this.xM = this.getScrollState(); var h = this.xM.y - t.y; this.La(function(t) { if (t.getPopup) { var i = this.getItemNode(t), e = !1; if (this.P.prerender) { var s = t.gM, n = s.top - this.xr, r = s.left - this.Mr; e = n < 0 || n + s.height > this.Fy || r < 0 || r + s.width > this.$width - this.AM } !i || e ? t.getPopup().show({ x: -1e4, y: -1e4 }) : t.getPopup().show(i) } this.P.prerender || t.linkInput || t.$inline || (t.node.top -= h, t.node.style.top = t.node.top + "px") }) } }
		}, Ch = {
			$init: function() { this.FM(), this.attachEvent("onStructureLoad", this.TM) }, FM: function() { this.Io = {}, this.So = D(), this.Ao = [0, 0, 0] }, TM: function() {
				for (var t = this.hl,
					i = 0; i < t.length; i++)t[i].header && this.VM(t, t[i].header), t[i].footer && this.VM(t, t[i].footer); for (var e = t.length - 1; 0 <= e; e--)t[e].hidden ? this.hideColumn(t[e].id, {}, !0, !0) : t[e].batch && this.config.visibleBatch && t[e].batch != this.config.visibleBatch && this.hideColumn(t[e].id, {}, !0, !0)
			}, VM: function(t, i) { for (var e = 0; e < i.length; e++) { var s = i[e]; s && s.colspan && !s.$colspan && (s.$colspan = s.colspan) } }, moveColumn: function(t, i) { var e = this.getColumnIndex(t); if (e == i || -1 == e) return !1; var s, n = this.So, r = this.P.columns, h = r.splice(e, 1)[0]; n.length && (s = n.find(t), n.removeAt(s)), this.zM(e, s, -1); var o, a = i - (e < i ? 1 : 0); if (x.insertAt.call(r, h, a), n.length) { var u = r[a - 1]; o = u && u.id ? n.find(u.id) + 1 : 0, n.insertAt(h.id, o) } this.zM(a, o, 1), this.BM() }, HM: function(t, i) { if (!t.length) { for (var e = 0; e < i.length; e++)t[e] = i[e].id; this.Ao = [this.P.leftSplit, this._x, this.P.rightSplit] } }, isColumnVisible: function(t) { return !this.Io[t] }, hideColumn: function(t, i, e, s) { var n, r = this.P.columns, h = this.So, o = this.Io, a = 1; if (i = i || {}, !1 !== s) { var u = this.getColumnIndex(t); if (-1 == u || !this.callEvent("onBeforeColumnHide", [t])) return; if (this.HM(h, r), i.spans) for (var c = r[u].header, f = 0; f < c.length; f++)c[f] && (c[f].$groupSpan = c[f].colspan || 1, a = Math.max(a, c[f].$groupSpan)); this.RM(u, a, -1); for (var l = u + a - 1; u <= l; l--)this.EM(u), (o[(n = r.splice(u, 1)[0]).id] = n).MM = -1, n.hidden = !0, delete this.PM[n.id]; this.callEvent("onAfterColumnHide", [t]) } else { if (!(n = o[t]) || !this.callEvent("onBeforeColumnShow", [t])) return; for (var d = null, v = 0, _ = 0; _ < h.length; _++) { if (h[_] == t) { v = _; break } o[h[_]] || (d = h[_]) } if (i.spans) for (var p = n.header, b = 0; b < p.length; b++)p[b] && (p[b].colspan = p[b].$groupSpan || p[b].colspan, delete p[b].$groupSpan, a = Math.max(a, p[b].colspan || 1)); for (var m = d ? this.getColumnIndex(d) + 1 : 0, g = v + a - 1; v <= g; g--) { var w = o[h[g]]; w ? (x.insertAt.call(r, w, m), delete w.hidden, delete o[w.id], this.PM[w.id] = w) : a-- } this.RM(v, a, 1, !0), h.length === r.length && this.FM(), this.callEvent("onAfterColumnShow", [t]) } n.header && this.jM(n, !1 !== s ? 0 : 1, "header"), n.footer && this.jM(n, !1 !== s ? 0 : 1, "footer"), e || this.BM() }, showColumn: function(t, i, e) { return this.hideColumn(t, i, e, !1) }, RM: function(t, i, e, s) { var n = a(s ? this.Ao : [this.P.leftSplit, this._x], 2), r = n[0], h = n[1]; t < r && (this.P.leftSplit += e * i), h <= t ? this.P.rightSplit += e * i : this._x += e * i }, zM: function(t, i, e) { 0 <= t && (t < this.P.leftSplit && (this.P.leftSplit += e), this.P.rightSplit && t >= this._x ? this.P.rightSplit += e : this._x += e), this.So.length && 0 <= i && (i < this.Ao[0] && (this.Ao[0] += e), this.Ao[2] && i >= this.Ao[1] ? this.Ao[2] += e : this.Ao[1] += e) }, jM: function(t, i, e) { for (var s = t[e].length - 1; 0 <= s; s--)for (var n, r = this.So, h = !1, o = 0, a = 0; a < r.length; a++) { var u = this.getColumnConfig(r[a]), c = u[e][s]; this.isColumnVisible(r[a]) ? (h && 0 < o && n && 0 < n.colspan ? n = c = u[e][s] = n : c && c.$colspan && o <= 0 && (o = c.colspan = c.$colspan, n = c), h = null) : (c && c.$colspan && o <= 0 && (o = c.colspan = c.$colspan, h = n = c), n && 0 < o && n.colspan--), o-- } }, refreshColumns: function(t) { this.NM = !0, t && (this.FM(), this.$o = {}), this.PM = {}; for (var i = 0; i < this.hl.length; i++) { var e = this.hl[i]; (this.PM[e.id] = e).attached = e.node = null } for (var s = 0; s < 3; s++)this.k.childNodes[s].innerHTML = "", this.st.childNodes[s].firstChild.innerHTML = ""; this.hl = this.config.columns = t || this.config.columns, this._x = this.hl.length - (this.config.rightSplit || 0), this.Do = 0, this.LM(), this.Yr(), this.callEvent("onStructureUpdate"), this.render(), this.NM = !1 }, BM: function() { this.Do = 0, this.callEvent("onStructureUpdate"), this.OM(), this.render() }, showColumnBatch: function(s, n) { var r = void 0 !== n; n = !1 !== n, this.eachColumn(function(t, i) { if (i.batch) { var e = this.Io[i.id]; n || (e = !e), i.batch == s && e ? this.hideColumn(i.id, { spans: !0 }, !0, !n) : r || i.batch == s || e || this.hideColumn(i.id, { spans: !0 }, !0, n) } }, !0), this.BM() }
		}, $h = {
			$init: function(t) {
				this.attachEvent("onAfterScroll", this.xu), this.attachEvent("onFocus", function() { Mt(this.$view, "webix_dtable_focused") }), this.attachEvent("onBlur", function() { St(this.$view, "webix_dtable_focused") }), "column" != t.select && (this.open || this.WM) && this.attachEvent("onEnter", function() {
					var t = this.getSelectedId(!0); if (!(1 != t.length || this.getEditor && this.getEditor())) {
						var i = this.getItemNode(t[0]); t = t[0].row, ("row" == this.config.select || i.querySelector(".webix_tree_open"
						) || i.querySelector(".webix_tree_close")) && (this.isBranchOpen(t) ? this.close(t) : this.open(t))
					}
				})
			}, xu: function() { if (!this.UM()) { var t = this.tt.querySelector(".webix_cell"); t && t.setAttribute("tabindex", "0") } }, UM: function() { for (var t = this.getSelectedId(!0), i = 0; i < t.length; i++)if (t[i].column && this.isColumnVisible(t[i].column)) return this.getItemNode(t[i]); return null }, moveSelection: function(t, i, e) { if (this.YM(), !this.P.disabled) { i = i || {}; var s = this.getSelectedId(!0), n = s.length - 1, r = !(!this.P.multiselect && !this.P.areaselect) && i.shift; if (1 < s.length && "cell" !== this.P.select && (s = s.sort(S(function(t, i) { return this.getIndexById(t.row) > this.getIndexById(i.row) || this.getColumnIndex(t.column) > this.getColumnIndex(i.column) ? 1 : -1 }, this)), "up" != t && "left" != t && "top" != t && "pgup" != t || (n = 0)), n < 0 && this.count()) { if ("down" == t || "right" == t) t = "top"; else { if ("up" != t && "left" != t) return; t = "bottom" } n = 0, s = [{ row: 1, column: 1 }] } if (0 <= n) { var h = s[n].row, o = s[n].column; if ("top" == t || "bottom" == t) h && ("top" == t ? h = this.data.getFirstId() : "bottom" == t && (h = this.data.getLastId())), o && (n = 0, "bottom" == t && (n = this.config.columns.length - 1), o = this.columnId(n)); else if ("up" == t || "down" == t || "pgup" == t || "pgdown" == t) { if (h) { var a = this.getIndexById(h), u = 1; "pgup" != t && "pgdown" != t || (u = this._c ? this._c.config.size : Math.round(this.Fy / this.P.rowHeight)), "up" == t || "pgup" == t ? a -= u : "down" != t && "pgdown" != t || (a += u), a < 0 && (a = 0), a >= this.data.order.length && (a = this.data.order.length - 1), !(h = this.getIdByIndex(a)) && this.P.pager && this.showItemByIndex(a) } } else { if ("right" != t && "left" != t) return; if (o && "row" != this.config.select) { var c = this.getColumnIndex(o); "right" == t ? c++ : "left" == t && c--, c < 0 && (c = 0), c >= this.config.columns.length && (c = this.config.columns.length - 1), o = this.columnId(c) } else { if ((this.open || this.WM) && "right" == t) return this.open ? this.open(h) : this.openSub(h); if ((this.close || this.WM) && "left" == t) return this.close ? this.close(h) : this.closeSub(h) } } if (h) { this.showCell(h, o), this.select || (T.extend(this, this.Vx.Tx, !0), this.P.select = this.open || this.WM ? "row" : "cell", T.extend(this, this.Vx[this.P.select], !0)); var f = { row: h, column: o }; if (r && "area" == this.P.select) { var l = this.tx[this.tx.length - 1]; this.Jw(f, l, t, i) } else this.Bo(f, r); if (!this.P.clipboard && !1 !== e) { var d = this.getItemNode(f); d && d.focus() } } } return !1 } }
		}, Dh = { Go: function(t) { for (var i = 0; i < this.hl.length; i++) { var e = this.hl[i], s = this.getItemNode({ row: t, cind: i }); s ? s.parentNode.insertBefore(Ki.dn[i], s) : e.node.appendChild(Ki.dn[i]) } }, Zo: function() { var t = [], i = this.hl.length, e = document.createElement("div"); e.className = "webix_drop_area", e.style.height = this.P.rowHeight + "px", e.innerHTML = this.$dropHTML(); for (var s = 0; s < i; s++)t.push(e.cloneNode(!0)); return t } }, Ih = {
			drag_setter: function(t) { return this.attachEvent("onBeforeDrag", function(t) { return this.qM(t.source) }), this.attachEvent("onBeforeDragIn", function(t) { var i = this.qM(t.target); return !i && Ki.dn && (vt(Ki.dn), this.ta = Ki.dn = null), i }), ge.drag_setter.call(this, t), "order" != t && "move" != t || T.extend(this, Dh, !0), t }, qo: function(t, i, e) { var s = Ki.Gs; this.P.prerender || e || (t = [s.start]); for (var n = 0; n < t.length; n++) { for (var r = 0; r < this.hl.length; r++) { var h = this.getItemNode({ row: t[n], cind: r }); h && Mt(h, i) } this.data.addMark(t[n], i, 1, 1, !0) } }, Yo: function(t, i, e) { var s = Ki.Gs; this.P.prerender || e || (t = [s.start]); for (var n = 0; n < t.length; n++) { for (var r = 0; r < this.hl.length; r++) { var h = this.getItemNode({ row: t[n], cind: r }); h && St(h, i) } this.data.removeMark(t[n], i, 1, !0) } }, qM: function(t) { var i, e, s = !1; if (this.P.topSplit && t) for ($(t) || (t = [t]), i = 0; !s && i < t.length; i++)s = 0 <= (e = this.getIndexById(t[i])) && e < this.P.topSplit; return !s }, Q: function(t) { for (var i = "<div class='webix_dd_drag' style='width:" + (this.ge - this.jy) + "px;'>", e = this.P.columns, s = 0; s < e.length; s++) { var n = this.Ly(t, e[s]); i += "<div style='width:" + e[s].width + "px;'>" + n + "</div>" } return i + "</div>" }, getHeaderNode: function(t, i) { return this.GM(t, i, this.k) }, getFooterNode: function(t, i) { return this.GM(t, i, this.nl) }, GM: function(t, i, e) {
				if (this.isColumnVisible(t)) {
					var s = this.getColumnIndex(t), n = this.P.leftSplit > s ? 0 : this._x <= s ? 2 : 1; i = i || 0; return e.childNodes[n].querySelector("div[".concat("column", '="').concat(s, '"][').concat("row", '="').concat(i, '"]'))
				} return null
			}, getItemNode: function(t) { if (t && !t.header) { var i = t.row || t, e = "number" == typeof t.rind ? t.rind : this.getIndexById(i), s = this.ax(), n = s[0] - this.P.topSplit; if (e < n && e > s[1]) return; var r = this.ox(), h = this.P.leftSplit ? 0 : r[0], o = "number" == typeof t.cind; if ((t.column || o) && (h = o ? t.cind : this.getColumnIndex(t.column)) < this._x && h >= this.P.leftSplit && (h < r[0] || h > r[1])) return; var a = this.P.columns[h]; if (a.attached && a.node) { if ("$webix-drop" === i) return Ki.dn[h]; for (var u = e < this.P.topSplit || this.P.prerender ? e : e - n, c = a.node.childNodes, f = Math.min(c.length, u + 1), l = 0; l < f; l++)"webix_drop_area" === c[l].className && u++; return c[u] } } }, XM: function(t) { var i = t.target.nodeName; return "INPUT" != i && "TEXTAREA" != i }, dragColumn_setter: function(t) { var h; return "order" == t ? h = { $drag: S(function(t, i) { if (!this.XM(i) || this.Dv) return !1; var e = this.locate(i); if (!e || !this.callEvent("onBeforeColumnDrag", [e.column, i])) return !1; Ki.Gs = { from: h, start: e, custom: "column_dnd" }; var s = this.getColumnConfig(e.column); return this.KM = mt(i), this.JM = s.width, this.Ro = !0, "<div class='webix_dd_drag_column' style='width:" + s.width + "px'>" + (s.header[0].text || "&nbsp;") + "</div>" }, this), $dragPos: S(function(t, i, e) { var s = this, n = Ki.getContext(), r = bt(this.$view); e.style.display = "none"; var h = document.elementFromPoint(t.x, r.y + this.P.headerRowHeight / 2), o = h ? this.locate(h) : null, a = Ki.getContext().start.column; if (o && o.column != a && (!this.ZM || o.column != this.QM) && "column_dnd" == n.custom && ai(h) == this) { if (!this.callEvent("onBeforeColumnDropOrder", [a, o.column, i])) return; var u = this.getColumnIndex(a), c = this.getColumnIndex(o.column); i.touches && (this.tS = i.target, this.tS.style.display = "none", this.$view.parentNode.appendChild(this.tS)), this.moveColumn(a, c + (u < c ? 1 : 0)), this.QM = o.column, this.ZM = !0 } if (o && o.column == a && (this.ZM = !1), e.style.display = "block", t.x = t.x - this.KM.x, t.y = r.y, t.x < r.x) t.x = r.x; else { var f = r.x + this.$view.offsetWidth - this.jy - this.JM; t.x > f && (t.x = f) } Ki.rn = !0, this.ht && (this.ht = window.clearTimeout(this.ht)), !1 !== this.P.dragscroll && (this.ht = k(function(t) { return s.ot(t) }, this, [gt(i)], 250)) }, this), $dragDestroy: S(function(t, i) { this.Ro = null, this.ht && (this.ht = window.clearTimeout(this.ht)), vt(i), this.tS && vt(this.tS); var e = Ki.getContext().start; this.callEvent("onAfterColumnDropOrder", [e.column, this.QM, t]) }, this), $drop: function() { } } : t && (h = { Eo: !0, $drag: S(function(t, i) { if (!this.XM(i) || this.Dv) return !1; var e = this.locate(i); if (!e || !this.callEvent("onBeforeColumnDrag", [e.column, i])) return !1; Ki.Gs = { from: h, start: e, custom: "column_dnd" }; for (var s = this.getColumnConfig(e.column).header, n = "&nbsp;", r = 0; r < s.length; r++)if (s[r]) { n = s[r].text; break } return this.Ro = !0, "<div class='webix_dd_drag_column'>" + n + "</div>" }, this), $drop: S(function(t, i, e) { var s = e; e.touches && this.iS && (s = this.iS); var n = this.locate(s); if (!n) return !1; var r = Ki.getContext().start.column; if (r != n.column) { if (!this.callEvent("onBeforeColumnDrop", [r, n.column, e])) return; var h = this.getColumnIndex(r), o = this.getColumnIndex(n.column); this.moveColumn(r, o + (h < o ? 1 : 0)), this.callEvent("onAfterColumnDrop", [r, n.column, e]) } }, this), $dragIn: S(function(t, i, e) { var s = this, n = Ki.getContext(); if ("column_dnd" != n.custom || n.from != h) return !1; for (var r = e.target; -1 == (r.className || "").indexOf("webix_hcell");)if (!(r = r.parentNode)) return; return this.ht && (this.ht = window.clearTimeout(this.ht)), !1 !== this.P.dragscroll && (this.ht = k(function(t) { return s.ot(t) }, this, [gt(e)], 250)), r != this.iS && (this.iS && St(this.iS, "webix_dd_over_column"), Mt(r, "webix_dd_over_column")), this.iS = r }, this), $dragDestroy: S(function(t, i) { this.Ro = null, this.ht && (this.ht = window.clearTimeout(this.ht)), this.iS && St(this.iS, "webix_dd_over_column"), vt(i) }, this) }), t && (Ki.addDrag(this.k, h), Ki.addDrop(this.k, h, !0), this.attachEvent("onDestruct", function() { return Ki.unlink(h) }), this.et || T.extend(this, Xt, !0)), t }
		}, Ah = {
			hr: function(t, i) { if (t.scroll && !i) return !0; t.header = V(t.header) ? !!this.config.header : t.header, t.footer = V(t.footer) ? !!this.config.footer : t.footer, t.xCorrection = t.xCorrection || 0 }, Np: function(t, i) { for (var e = -1, s = 0; e < 0 && s < t.length; s++)i(t[s]) && (e = s); return e }, eS: function(e, c, f) {
				var l = {}, d = 0; return e.forEach(S(function(t, o) {
					var i = t[0], a = [], u = i.length; i.forEach(
						S(function(t, i) { for (var e = c[i + d], s = 0; s < e[f].length; s++) { var n = e[f][s]; if (n || l[o] && l[o][s]) { if (n = _(n || { text: "" }), l[o] && l[o][s] && 0 === i && (n.colspan = l[o][s], l[o][s] = 0), n.colspan) { var r = Math.min(n.colspan, u - i); l[o + 1] = l[o + 1] || {}, l[o + 1][s] = n.colspan - r, n.colspan = r } n.rowspan && 1 === u && (n.height = (n.height || this.config.headerRowHeight) * n.rowspan, n.rowspan = null); var h = { txt: n.rotate ? this.getHeaderNode(e.id, s).innerHTML : n.text || (n.contentId ? this.getHeaderContent(n.contentId).getValue() : ""), className: "webix_hcell webix_" + f + "_cell " + (n.css || ""), style: { height: (n.height || this.config.headerRowHeight) + "px", width: n.colspan ? "auto" : e.width + "px" }, span: n.colspan || n.rowspan ? { colspan: n.colspan || 1, rowspan: n.rowspan || 1 } : null }; a[s] = a[s] || [], a[s][i] = h } } }, this)), e[o] = "header" == f ? a.concat(t) : t.concat(a), d += u
				}, this)), e
			}, or: function(v, t, _) { var p = this.config.columns, b = this.getSelectedId(!0), m = "page" == v.fit ? Infinity : this.ur(v), g = 0, w = 0, x = [], y = 0, M = []; return _ = _ || 0 + v.xCorrection, t = t || [], this.eachRow(S(function(i) { for (var t = 0, e = this.getItem(i), s = this.getIndexById(i), n = [], r = !1, h = _; h < p.length; h++) { var o = p[h].id, a = this.getColumnIndex(o) - _; if (p[h]) { if (t += p[h].width, 0 === s && M.push(p[h].width), m < t && _ < h) { y = h; break } if ("selection" !== v.data || "selection" == v.data && -1 !== this.Np(b, function(t) { return t.column == o && t.row == i })) { var u; if (this.getSpan && (u = this.getSpan(i, o)), u && this.getColumnIndex(o) === _) { var c = this.getColumnIndex(u[1]); c < _ && (u[2] = u[2] - (_ - c), u[4] = u[4] ? u[4] : e[u[1]] ? this.getText(i, u[1]) : null, u[1] = o) } if (!u || u && u[0] == i && u[1] == o) { var f = u && u[4] ? u[4] : this.PM[o] ? this.getText(i, o) : "", l = this.getCss(i, o) + " " + (p[h].css || "") + (u ? " webix_dtable_span " + (u[5] || "") : ""), d = { height: u && 1 < u[3] ? "auto" : (e.$height || this.config.rowHeight) + "px", width: u && 1 < u[2] ? "auto" : p[h].width + "px" }; n.push({ txt: f, className: l, style: d, span: u ? { colspan: u[2], spanStart: this.getColumnIndex(u[1]), rowspan: u[3] } : null }), (f || 0 === f) && (g = Math.max(a + 1, g), w = Math.max(s + 1, w)), r = r || !!f } else u && (n.push({ $inspan: !0 }), g = Math.max(a + 1, g), w = Math.max(s + 1, w)) } } } v.skiprows && !r || x.push(n) }, this)), w && g && (v.trim && (x.length = w, x = x.map(function(t) { for (var i = t.length - 1; 0 <= i; i--)if (t[i].span && t[i].span.colspan) { t[i].span.colspan = Math.min(t[i].span.colspan, t.length - i); break } return t.length = g, t })), t.push(x)), y ? this.or(v, t, y) : (v.footer && (t = this.eS(t, p, "footer")), v.header && (t = this.eS(t, p, "header")), "page" == v.fit && this.sS(t, M, g, v)), t }, sS: function(t, i, e, s) { e && s.trim && (i.length = e); for (var n = 0, r = 0; r < i.length; r++)n += i[r]; n > this.ur(s) && t[0].forEach(function(t) { for (var i = 0; i < t.length; i++)t[i] && t[i].style && t[i].style.width && (t[i].style.width = "auto") }) }, ar: function(n, r) { var h = lt("div"); return n.forEach(S(function(t, i) { var e = lt("table", { "class": "webix_table_print " + this.$view.className + (r.borderless ? " borderless" : ""), style: "border-collapse:collapse", id: this.$view.getAttribute("id") }); if (t.forEach(function(t) { var s = lt("tr"); t.forEach(function(t) { if (!t.$inspan) { var i = lt("td"); for (var e in i.innerHTML = t.txt, i.className = t.className, t.style) i.style[e] = t.style[e]; t.span && (i.colSpan = t.span.colspan, i.rowSpan = t.span.rowspan), s.appendChild(i) } }), e.appendChild(s) }), h.appendChild(e), i + 1 < n.length) { var s = lt("DIV", { "class": "webix_print_pagebreak" }); h.appendChild(s) } }, this)), h }
		}, Fh = {
			$exportView: function(t) { this.isBranchOpen && T.extend(t, { filterHTML: !0 }); var i = t.export_mode; if ("pdf" != i && "excel" != i || t.dataOnly || !t.styles) return this; t.dataOnly = !0, t.heights = V(t.heights) ? "all" : t.heights; var e = "pdf" == i ? Is(this, t) : Rs(this, t); return e[0].styles = this.nS(t), delete t.dataOnly, e }, nS: function(t) {
				var u = t.export_mode, c = this.config.columns, f = []; return this.rS = this.rS || {}, t.docHeader && "excel" == u && (f = [{ 0: this.hS(t.docHeader.css) }, { 0: {} }]), !1 !== t.header && (f = this.oS(t, "header", f, u)), this.data.each(function(t) {
					for (var i = {}, e = 0; e < c.length; e++) {
						var s = this.getCss(t.id, c[e].id), n = c[e].node.className, r = "", h = null, o = null; if (this.al && (h = this.getSpan(t.id, c[e].id)) ? (o = this.getSpanNode({ row: h[0], column: h[1] }), r = "webix_dtable_span " + (h[5] || "")) : o = this.getItemNode({ row: t.id, column: c[e].id }), !o) {
							o = lt("div", { "class": s, style: "visibility:hidden" }); var a = c[e].node; c[e].attached || (a = lt("div", {
								"class": n,
								style: "visibility:hidden"
							}), this.st.appendChild(a)), a.appendChild(o)
						} i[e] = this.aS(o, [s, n, r].join(":"), u)
					} f[f.length] = i
				}, this), !1 !== t.footer && this.config.footer && (f = this.oS(t, "footer", f, u)), t.docFooter && "excel" == u && (f = f.concat([{ 0: {} }, { 0: this.hS(t.docFooter.css) }])), f
			}, oS: function(t, i, e, s) { for (var n = this.config.columns, r = [], h = 0; h < n[0][i].length; h++) { for (var o = {}, a = 0; a < n.length; a++) { var u = n[a][i][h]; if (u) { var c = u.colspan ? n[a + u.colspan - 1].id : n[a].id, f = "header" == i ? this.getHeaderNode(c, h) : this.getFooterNode(c, h); if (f) { var l = [f.className, u.css || "", i]; o[a] = this.aS(f, l.join(":"), s), (u.colspan || u.rowspan) && r.push([h, a, { colspan: u.colspan - 1 || 0, rowspan: u.rowspan - 1 || 0 }, o[a]]) } } else for (var d = 0; d < r.length; d++) { var v = r[d][2], _ = r[d][1], p = r[d][0]; _ + v.colspan >= a && p + v.rowspan >= h && (o[a] = r[d][3]) } } e[e.length] = o } return e }, uS: function(t, i, e) { return "0px" == t["border-".concat(e, "-width")] ? null : We.rgbToHex(t["border-".concat(e, "-color")]) || i }, aS: function(t, i, e) { if (this.rS[i]) return this.rS[i]; var s = this.cS(t), n = We.rgbToHex(s["background-color"]) || "FFFFFF", r = { backgroundColor: n, fontSize: .75 * s["font-size"].replace("px", ""), color: We.rgbToHex(s.color), textAlign: s["text-align"], borderRightColor: this.uS(s, n, "right"), borderLeftColor: this.uS(s, n, "left"), borderBottomColor: this.uS(s, n, "bottom"), borderTopColor: this.uS(s, n, "top") }, h = "pdf" == e ? r : this.fS(s, t, r); return this.rS[i] = h }, hS: function(t) { t = T.extend(t || {}, { visibility: "hidden", "white-space": "nowrap", "text-align": "left" }); var i = ""; for (var e in t) i += e + ":" + t[e] + ";"; var s = lt("div", { style: i }); this.st.appendChild(s); var n = this.aS(s, i); return vt(s), n }, fS: function(t, i, e) { var s = { font: {}, alignment: {}, border: {} }; return s.font.name = t["font-family"].replace(/,.*$/, ""), s.font.sz = e.fontSize, s.font.color = { rgb: e.color }, "normal" !== t["font-weight"] && 400 != t["font-weight"] && (s.font.bold = !0), "underline" === t["text-decoration-line"] && (s.font.underline = !0), "italic" === t["font-style"] && (s.font.italic = !0), "line-through" === t["text-decoration-line"] && (s.font.strike = !0), s.alignment.horizontal = e.textAlign, s.alignment.vertical = t.height == t["line-height"] ? "center" : "top", "normal" == t["white-space"] && (s.alignment.wrapText = !0), i.firstChild && i.firstChild.className && -1 !== i.firstChild.className.indexOf("webix_rotate") && (s.alignment.textRotation = 90), s.fill = { fgColor: { rgb: e.backgroundColor } }, e.borderRightColor && (s.border.right = { style: "thin", color: { rgb: e.borderRightColor } }), e.borderBottomColor && (s.border.bottom = { style: "thin", color: { rgb: e.borderBottomColor } }), e.borderLeftColor && (s.border.left = { style: "thin", color: { rgb: e.borderLeftColor } }), e.borderTopColor && (s.border.top = { style: "thin", color: { rgb: e.borderTopColor } }), s }, cS: function(t) { return window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle }
		}, Th = {
			subrow_setter: function(t) { return !!t && (this.lS(), this.P.fixedRowHeight = !1, qt(t)) }, subview_setter: function(t) { return t && (this.P.subrow = this.subrow_setter("<div></div>")), t }, defaults: { subRowHeight: 35 }, dS: function() { this.data.each(function(t) { t && (t.$sub = this.P.subrow(t, this.type)) }, this), this.vS() }, vS: function(t) { if ("auto" === this.P.subRowHeight && this.ge && this._S(), t && this.P.subview) for (var i in this.WM) { var e = ai(this.WM[i]); e.P.hidden || e.adjust() } }, pS: function(t) { var i = this.getItem(t); i.$sub = this.P.subrow(i, this.type), "auto" === this.P.subRowHeight && this._S(i.id, i.$sub) }, $init: function() {
				this.lS = u(function() { var t = "#" + this.bS + " .webix_cell.webix_dtable_subview { line-height:normal;}"; this.P.fixedRowHeight && (t += "#" + this.bS + " .webix_column .webix_cell { white-space: nowrap;}"), ct(t), this.WM = {}, this.attachEvent("onSubViewRender", this.mS), this.data.attachEvent("onStoreUpdated", S(function(t, i, e) { t ? "update" == e || "add" == e ? this.pS(t) : "delete" == e && i.$subContent && (ai(i.$subContent).destructor(), delete this.WM[i.$subContent]) : this.dS() }, this)), this.attachEvent("onResize", function(t, i, e) { e != t && this.vS(!0) }) }), this.type.subrow = function(t) { return t.$sub ? t.$subopen ? "<div class='webix_tree_open webix_sub_open'></div>" : "<div class='webix_tree_close webix_sub_close'></div>" : "<div class='webix_tree_none'></div>" }, this.on_click.webix_sub_open = function(t, i) {
					return this.closeSub(i), !1
				}, this.on_click.webix_sub_close = function(t, i) { return this.openSub(i), !1 }
			}, openSub: function(t) { var i = this.getItem(t); if (!i.$subopen) { i.$row = this.P.subrow, i.$subHeight = i.$subHeight || this.P.subRowHeight, i.$subopen = !0; var e = this.WM[i.$subContent]; e && (e.repaintMe = !0), this.refresh(t), this.callEvent("onSubViewOpen", [t]) } }, getSubView: function(t) { var i = this.getItem(t); if (i) { var e = this.WM[i.$subContent]; if (e) return ai(e) } return null }, resizeSubView: function(t) { var i = this.getSubView(t); i && this.gS(this.getItem(t), i) }, gS: function(t, i) { var e = i.$getSize(0, 0)[2], s = t.$subHeight || this.P.subRowHeight; 2 < Math.abs(e - (s || 0)) && (t.$subHeight = e, this.refresh(t.id)) }, wS: function(t) { var i = t.$width; if (t.Pl) { var e = t.hi.length - t.Ul; t.Nl ? i -= t.Xa.left + t.Xa.right + 2 : i -= t.Ja * (e - 1) + t.Xa.left + t.Xa.right + 2 * e } return 0 < i }, mS: function(n, t) { var i, e = this.WM[n.$subContent]; if (e) t.firstChild.appendChild(e), i = ai(n.$subContent), this.wS(i) || i.adjust(), e.repaintMe && (delete e.repaintMe, i.config.hidden = !1, i.Se()); else { var s, r = this.P.subview; (i = "function" == typeof r ? r.call(this, n, t.firstChild) : ((s = _(r)).$scope = this.$scope, ni(s, t.firstChild))).getMasterView = S(function() { return this }, this), n.$subContent = i.config.id, this.WM[n.$subContent] = i.$view, this.Bt.push(i), i.attachEvent("onResize", S(function(t, i, e, s) { i && i != s && this.refresh(n.id) }, this)), this.callEvent("onSubViewCreate", [i, n]) } this.gS(n, i || ai(e)) }, _S: function(i, e) { var t, s = lt("DIV", { "class": "webix_measure_size webix_cell webix_dtable_subrow" }, ""); s.style.cssText = "width:" + this.ge + "px; height:auto; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;", this.$view.appendChild(s), s.offsetHeight < 1 && (t = this.$view.cloneNode(!0), document.body.appendChild(t), t.appendChild(s)), this.data.each(function(t) { (t && !i || t.id == i && t.$sub) && (s.innerHTML = e || this.P.subrow(t, this.type), t.$subHeight = s.offsetHeight) }, this), s = vt(s), t && vt(t) }, closeSub: function(t) { var i = this.getItem(t); if (i.$subopen) { i.$row = !1, i.$subopen = !1; var e = this.WM[i.$subContent]; e && (ai(e).config.hidden = !0), this.refresh(t), this.callEvent("onSubViewClose", [t]) } }
		}, Vh = {
			spans_setter: function(t) { return t && !this.al && this.xS(), t }, xS: function() { this.al = {}, this.yM = [], this.data.attachEvent("onStoreLoad", S(function(t, i) { i && i.spans && this.addSpan(i.spans) }, this)), this.data.attachEvent("onClearAll", S(function() { this.al = {} }, this)), this.attachEvent("onSyncScroll", function(t, i, e) { for (var s = 0; s < 3; s++)qi.gs(this.yM[s], 1 == s ? t : 0, i, e) }), this.attachEvent("onScrollY", this.yS), this.attachEvent("onScrollX", this.yS), this.attachEvent("onAfterRender", this.MS), this.attachEvent("onColumnResize", this.MS), this.attachEvent("onSelectChange", this.SS) }, addSpan: function(t, i, e, s, n, r) { if ("object" != M(t)) s = s || 1, e = e || 1, this.al[t] || (this.al[t] = {}), this.al[t][i] = [e, s, n, r]; else for (var h = 0; h < t.length; h++)this.addSpan.apply(this, t[h]) }, removeSpan: function(t, i) { arguments.length || (this.al = {}); var e = this.al[t]; e && delete e[i] }, getSpan: function(t, i) { if (!t) return this.al; var e, s, n, r, h, o = this.al; for (t in e = this.getIndexById(t), n = this.getColumnIndex(i), o) for (i in o[t]) if (h = o[t][i], s = this.getIndexById(t), 0 <= (r = this.getColumnIndex(i)) && 0 <= s && !(e > s + h[1] - 1 || e < s || n > r + h[0] - 1 || n < r)) return [t, i].concat(h); return null }, MS: function() { var t, i, e = this.hl.length - this.P.rightSplit; for (vt(this.yM), i = 0; i < 3; i++)t = this.yM[i] = lt("DIV", { "class": "webix_span_layer" }), this.st.childNodes[i].appendChild(t); this.yS(), this.P.leftSplit && this.kS(this.yM[0], 0, this.P.leftSplit), this.P.rightSplit && this.kS(this.yM[2], e, this.hl.length), this.kS(this.yM[1], this.P.leftSplit, e), this.P.topSplit && !G.touch && this.CS() }, $S: function() { for (var t, i = 0, e = 0, s = 0, n = 0; i < this.P.leftSplit;)e += this.hl[i].width, i++; for (t = (i = this.hl.length - 1) - this.P.rightSplit; t <= i;)n += this.hl[i].width, i--; for (i = this.P.leftSplit; i < this.hl.length - this.P.rightSplit; i++)s += this.hl[i].width; return [e, s, n] }, CS: function() {
				var t, i, e, s = this.hl.length - this.P.rightSplit; for (i = 3; i < 6; i++)t = this.yM[i] = lt("DIV", { "class": "webix_span_layer_top" }), this.st.childNodes[i - 3].appendChild(t); e = this.$S(), this.P.leftSplit && (this.yM[3].style.width = e[0] + "px", this.kS(this.yM[3], 0,
					this.P.leftSplit, !0)), this.P.rightSplit && (this.yM[5].style.width = e[2] + "px", this.kS(this.yM[5], s, this.hl.length, !0)), this.yM[4].style.width = e[1] + "px", this.kS(this.yM[4], this.P.leftSplit, s, !0)
			}, kS: function(t, i, e, s) { for (var n = 0, r = this.data.$min || 0, h = this.data.$max || this.data.order.length, o = r; o < h; o++) { var a = this.data.order[o]; if (a) { var u = this.al[a]; if (u && (!s || o < this.P.topSplit)) for (var c = i; c < e; c++) { var f = this.hl[c].id; u[f] && this.DS(t, o, c, u, n, i, a, f) } n += this.xy(this.getItem(a)) } } }, SS: function() { for (var t = this.config.select, i = "cell" == t || "column" == t, e = this.getSelectedId(!0), s = [], n = this.IS || [], r = z() + "", h = !1, o = 0; o < e.length; o++) { var a = this.al[e[o]]; !a || i && !a[e[o].column] || (a.$selected && a.$selected.id == e[o].id || (h = !0), a.$selected = e[o], a.$time = r, s.push(e[o].id)) } for (var u = 0; u < n.length; u++) { var c = this.al[n[u]]; c && c.$time !== r && (delete c.$selected, h = !0) } this.IS = [].concat(e), h && this.MS() }, AS: function(t, i) { for (var e = 0, s = t; s < i; s++) { var n = this.hl[s]; e += n ? n.width : 0 } return e }, FS: function(t, i) { for (var e = 0, s = t; s < i; s++) { var n = this.getItem(this.data.order[s]); e += n ? this.xy(n) : this.P.rowHeight } return e }, DS: function(t, i, e, s, n, r, h, o) { var a = s[o], u = a[2] || this.getText(h, o), c = ""; !s.$selected || "row" !== this.P.select && s.$selected.column !== o || (c = "webix_selected "); var f = { column: e, row: i, "class": c + "webix_cell webix_table_cell webix_dtable_span " + (a[3] || ""), "aria-colindex": e + 1, "aria-rowindex": i + 1 }; 1 < a[0] && (f["aria-colspan"] = a[0]), 1 < a[1] && (f["aria-rowspan"] = a[1]); var l = lt("DIV", f, "" + u); l.style.top = n + "px", l.style.left = this.AS(r, e) + "px", l.style.width = this.AS(e, e + a[0]) + "px", l.style.height = this.FS(i, i + a[1]) + "px", t.appendChild(l) }, yS: function() { if (!this.P.prerender) for (var t = this.getScrollState(), i = 0; i < 3; i++)this.yM[i].style.top = "-" + (t.y || 0) + "px" }, kM: function(t, i) { var e, s, n = !1; return this.al && (e = this.getSpan(t.row, t.column), s = this.getSpan(i.row, i.column), e && s && e[0] == s[0] && e[1] == s[1] && (n = !0)), n }, getSpanNode: function(t) { for (var i = this.yM, e = this.getIndexById(t.row), s = this.getColumnIndex(t.column), n = 0; n < i.length; n++)for (var r = i[n].childNodes, h = 0; h < r.length; h++)if (r[h].getAttribute("row") == e && r[h].getAttribute("column") == s) return r[h]; return null }
		}, zh = {
			name: "datatable", defaults: { leftSplit: 0, rightSplit: 0, topSplit: 0, columnWidth: 100, sort: !0, prerender: !1, autoheight: !1, autowidth: !1, header: !0, fixedRowHeight: !0, scrollAlignY: !0, scrollX: !0, scrollY: !0, datafetch: 50, navigation: !0 }, $skin: function() { this.defaults.rowHeight = Oi.rowHeight, this.defaults.minRowHeight = Oi.rowHeight - 6, this.defaults.headerRowHeight = Oi.barHeight - 2 * Oi.borderWidth, this.defaults.minColumnWidth = 2 * Oi.dataPadding + Oi.borderWidth }, on_click: { webix_excel_filter: function() { return !1 }, webix_richfilter: function() { return !1 }, webix_table_checkbox: function(t, i) { i = this.locate(t); var e = this.getItem(i.row), s = this.getColumnConfig(i.column), n = t.target, r = ("checkbox" == n.type ? n.checked : e[i.column] != s.checkValue) ? s.checkValue : s.uncheckValue, h = {}; return h[i.column] = r, this.updateItem(i.row, h, this.P.checkboxRefresh ? "update" : "save"), this.callEvent("onCheck", [i.row, i.column, r]), !1 }, webix_table_radio: function(t) { var e = this.locate(t), i = this.getItem(e.row), s = this.getColumnConfig(e.column); return this.eachRow(function(t) { var i = this.data.pull[t]; i && i[e.column] == s.checkValue && (i[e.column] = s.uncheckValue) }), i[e.column] = s.checkValue, this.callEvent("onCheck", [e.row, e.column, !0]), this.refresh(), !1 } }, on_dblclick: { webix_table_checkbox: function() { return this.on_click.webix_table_checkbox.apply(this, arguments) } }, on_context: {}, $init: function(t) {
				this.on_click = T.extend({}, this.on_click)
				; this.Wi.innerHTML = "<div class='webix_ss_header' section='header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div><div class='webix_ss_center'><div class='webix_ss_center_scroll' role='rowgroup'></div></div><div class='webix_ss_right'><div class='webix_ss_center_scroll'></div></div></div><div class='webix_ss_hscroll' role='scrollbar' aria-orientation='horizontal'></div><div class='webix_ss_footer' section='footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll' role='scrollbar' aria-orientation='vertical'></div><div class='webix_ss_vscroll_footer'></div>", this.bS = this.Wi.id = this.name + z(), this.Wi.className += " webix_dtable", this.tt = this.Wi, this.k = this.Wi.firstChild, this.st = this.k.nextSibling, this.nl = this.st.nextSibling.nextSibling, this.Vt.setAttribute("role", "grid"), t.editable || this.Vt.setAttribute("aria-readonly", "true"), this.data.provideApi(this, !0), this.data.attachEvent("onParse", S(this.TS, this)), this.$ready.push(this.VS), this.hl = [], this.ol = [], this.ul = [], this.zS = [], this.zo = {}, this.$o = {}, this.BS = {}, this.HS = [], this.ia = this.RS = 0, this.Bt = [], this.data.attachEvent("onServerConfig", S(this.ES, this)), this.data.attachEvent("onServerOptions", S(this.PS, this)), this.attachEvent("onViewShow", function() { this.n_(), this.jS() }), this.data.attachEvent("onClearAll", S(function(t) { t || (this.Mr = this.xr = 0, this.yr && this.yr.reset(), this.wr && this.wr.reset(), this.NS(0)) }, this)), this.attachEvent("onDestruct", this.LS), this.attachEvent("onKeyPress", this.Ce), this.attachEvent("onScrollY", this.OS), y("onDataTable", [this, t])
			}, WS: function() { this.AM = this.jy = G.scrollSize; var t = this.P.headerRowHeight + 1; ct("#" + this.bS + " .webix_cell { height:" + this.P.rowHeight + "px; line-height:" + (this.P.rowLineHeight || this.P.rowHeight) + "px;" + (this.P.fixedRowHeight ? "" : "white-space:normal;") + " }"), ct("#" + this.bS + " .webix_hcell { height:" + t + "px; line-height:" + t + "px;}"), this.WS = function() { } }, VS: function() { this.data.attachEvent("onStoreLoad", S(this.jS, this)), this.data.attachEvent("onSyncApply", S(this.jS, this)), this.data.attachEvent("onStoreUpdated", S(function() { return this.render.apply(this, arguments) }, this)), this.data.attachEvent("onStoreUpdated", S(this.US, this)), this.render() }, refresh: function() { this.render() }, YM: function() { var t = this; clearTimeout(this.YS), this.YS = k(function() { t.YS = 0, V(t.qS) || (t.NS(t.qS), delete t.qS), t.render() }) }, render: function(t, i, e) { if ("save" != e && !this.YS) { if (!this.hl.length) { var s = this.P.columns; if (!s || !s.length) { if (!this.P.autoConfig || !this.data.order.length || this.So.length) return; this.Do = 0, this.GS() } this.LM() } if (!this.isVisible(this.P.id) || this.$blockRender) return this.WS(); var n = this.config.experimental && !this.P.subview; return !t || -1 == i || "paint" != e && "update" != e || n ? (this.XS && (clearTimeout(this.XS), this.XS = 0), this.callEvent("onBeforeRender", [this.data]) ? (this.WS(), this.Do || this.OM(), t && "update" == e || (this.Ay = this.KS(), this.JS()), this.ge && (n && ("paint" == e || "update" == e) && t ? this.ZS(t) : this.QS(!0, !0)), this.Vt.setAttribute("aria-colcount", Math.max(this.So.length, this.hl.length)), this.Vt.setAttribute("aria-rowcount", this.data.count()), this.callEvent("onAfterRender", [this.data]), !0) : void 0) : (this.XS && clearTimeout(this.XS), void (this.XS && this.tk != t ? (this.tk = null, this.XS = k(function() { this.render() }, this)) : (this.tk = t, this.XS = k(function() { this.render(t, -1, e) }, this)))) } }, getColumns: function(t) { var i = this.So; if (t && i.length) { for (var e = [], s = 0; s < i.length; s++)e.push(this.getColumnConfig(i[s])); return e } return o(this.hl) }, getColumnConfig: function(t) { return this.PM[t] || this.Io[t] }, PS: function(t) { for (var i in t) { var e = this.getColumnConfig(i), s = new $r({ data: t[i] }); this.Bt.push(s), this.Hu(s, e) } }, ES: function(t) { this.Iu(), t.columns && this.Do && this.refreshColumns(t.columns) }, LM: function() {
				if (this.P.columns) {
					this.PM = {}, this.hl = this.P.columns, this._x = this.hl.length - (this.config.rightSplit || 0); for (
						var t = 0; t < this.hl.length; t++)this.ik(this.hl[t]); this.ek("header", this.ol), this.ek("footer", this.ul), this.callEvent("onStructureLoad", [])
				}
			}, ik: function(t) { t.id ? V(t.header) && (t.header = t.id) : t.id = "i" + z(); var i = (this.PM[t.id] = t).cssFormat; if (i && (t.cssFormat = v(i, this.$scope)), t.width = this.sk(t.width || this.P.columnWidth, t), "string" == typeof t.format && (t.format = A[t.format] || window[t.format]), t.numberFormat) { var e = t.numberFormat; "string" == typeof e && (t.numberFormat = e = hn.getConfig(e)), t.format = hn.numToStr(e), t.editFormat = t.editFormat || function(t) { return hn.format(t, e) }, t.editParse = t.editParse || function(t) { return hn.parse(t, e) } } V(t.checkValue) && (t.checkValue = 1), V(t.uncheckValue) && (t.uncheckValue = 0), t.css && "object" == M(t.css) && (t.css = ut(t.css)); var s = t.template; s && ("string" == typeof s && (s = s.replace(/#\$value#/g, "#" + t.id + "#")), t.template = qt(s)) }, nk: function() { this.OM() }, LS: function() { for (var t = 0; t < this.hl.length; t++)delete this.hl[t].attached, delete this.hl[t].node }, OM: function() { this._x = this.hl.length - (this.config.rightSplit || 0); for (var t = this.rk = 0; t < this.hl.length; t++) { if (!this.hl[t].node) { var i = lt("DIV"); i.style.width = this.hl[t].width + "px", this.hl[t].node = i } t >= this.P.leftSplit && t < this._x && (this.rk += this.hl[t].width) } var e = []; if (this.P.rightSplit) { var s = this.hl.length - this.P.rightSplit; e[s] = " webix_first", e[s - 1] = " webix_last" } if (this.P.leftSplit) { var n = this.P.leftSplit; e[n] = " webix_first", e[n - 1] = " webix_last" } e[0] = (e[0] || "") + " webix_first webix_select_mark"; var r = this.hl.length - 1; e[r] = (e[r] || "") + " webix_last"; for (var h = 0; h < this.hl.length; h++) { var o = this.hl[h].node; o.setAttribute("column", h), o.className = "webix_column " + (this.hl[h].css || "") + (e[h] || "") } this.hk(), this.ak(), this.uk(), this.Jx(), this.Do = !0 }, ak: function() { for (var t = 0, i = 0; i < this.hl.length; i++) { var e = this.hl[i]; i != this.P.leftSplit && i != this._x || (t = 0), e.node && (e.node.style.left = t + "px", (this.P.leftSplit || this.P.rightSplit) && (vt(e.node), e.attached = !1)), t += e.width } }, Jx: function() { this.ck || (this.ck = 0), this.ia = this.RS = 0, this.P.header && (this.fk(this.k, 0, 1), this.ek("header", this.ol), this.ia = this.ol.lk, this.dk(this.k, "header", this.ol)), this.P.footer && (this.fk(this.nl, 0, 1), this.ek("footer", this.ul), this.RS = this.ul.lk, this.dk(this.nl, "footer", this.ul)), this.refreshHeaderContent(!1, !1), this.vk(); for (var t = 0; t < this.HS.length; t++) { var i = this.HS[t]; this._k(i, this.BS[i]) } }, pk: function(t, i, e) { var s = 0, n = t.colspan || 1, r = "webix_hcell " + (t.css || ""); if (t.rotate) r += " webix_measure_rotate"; else for (var h = 0; h < n; h++)s += this.hl[e + h] ? this.hl[e + h].width : this.config.columnWidth; var o = kt([t.text], r, s); return (t.rotate ? o.width : o.height) + 1 }, ek: function(t, i) { for (var e = 0, s = i.length = 0; s < this.hl.length; s++) { var n = this.hl[s][t] || ""; $(n) || (n = [n]); for (var r = 0; r < n.length; r++)"object" != M(n[r]) && (n[r] = { text: n[r] }), n[r] && n[r].height && (i[r] = Math.max(i[r] || 0, n[r].height)), n[r] && n[r].autoheight && (i[r] = Math.max(i[r] || 0, this.pk(n[r], this.hl[s], s))), n[r] && n[r].css && "object" === M(n[r].css) && (n[r].css = ut(n[r].css)); e = Math.max(e, n.length), this.hl[s][t] = n } for (var h = (i.lk = e) - 1; 0 <= h; h--)i[h] = i[h] || this.P.headerRowHeight, i.lk += 1 * i[h]; for (var o = 0; o < this.hl.length; o++)for (var a = this.hl[o][t], u = 0; u < a.length; u++) { if (a[u] && a[u].rowspan) for (var c = 1; c < a[u].rowspan; c++)a[u + c] = null; if (a[u] && a[u].colspan) for (var f = 1; f < a[u].colspan; f++)this.hl[o + f][t][u] = null } for (var l = 0; l < this.hl.length; l++) { var d = this.hl[l][t]; if (d.length < e) { var v = d.length - 1; d[v].rowspan = e - d.length + 1; for (var _ = v + 1; _ < e; _++)d[_] = null } } return e }, bk: function(t, i) { return t.querySelector("DIV[".concat("active_id", '="').concat(i, '"]')) }, getHeaderContent: function(t) { var i = this.bk(this.k, t); if (i || (i = this.bk(this.nl, t)), i) { var e = this.zo[t], s = yn[e.content], n = { type: s, getValue: function(t) { return s.getValue(i, t) }, setValue: function(t) { return s.setValue(i, t) } }; return s.getHelper && T.extend(n, s.getHelper(i, e)), n } }, mk: function(t, i, e, s, n) {
				if (t == i) return ""; for (var r = "", h = "", o = this.hl[0][s].length, a = 0, u = t; u < i; u++) {
					var c = this.hl[u].width, f = 0, l = u == t ? "position:static;" : "position:absolute; top:".concat(f, "px; left:").concat(a, "px;"); r += '<div class="webix_hcolumn" style="'.concat(l, "width:").concat(c,
						'px;overflow:hidden;">'); for (var d = 0; d < o; d++) { var v = !1, _ = this.hl[u][s][d], p = n[d]; if (_) { _.content && (_.contentId = _.contentId || z(), _.columnId = this.hl[u].id, _.format = this.hl[u].format, yn[_.content], _.content, _.text = yn[_.content].render(this, _), this.zo[_.contentId] = _, this.gk = !0); var b = "<div row='" + d + "'column='" + (_.colspan ? _.colspan - 1 + u : u) + "'", m = "webix_hcell"; _.css && (m += " " + _.css), this.hl[u].$selected && (m += " webix_sel_hcell"), u == t && (m += " webix_first"), i - 1 <= u + (_.colspan ? _.colspan - 1 : 0) && (m += " webix_last"), (_.rowspan && d + _.rowspan === o || d === o - 1) && (m += " webix_last_row"); var g = ""; _.contentId && (b += " active_id='" + _.contentId + "'"); var w = p; if (_.colspan || _.rowspan) { var x = this.wk(this.hl, u, _.colspan) || c; (w = this.xk(n, d, _.rowspan)) <= 0 && (w = p), m += " webix_span", g = " colspan='".concat(_.colspan || 1, "' style='position:absolute; top:").concat(f, "px; left:").concat(a, "px; line-height:").concat(w + 1, "px; width:").concat(x, "px; height:").concat(w + 1, "px;'"), r += "<div class='webix_hcell' style='border-bottom-color:transparent;border-right-color:transparent;height:".concat(p + 1, "px;'></div>"), v = !0 } else p != this.P.headerRowHeight && (g = " style='line-height:".concat(p + 1, "px; height:").concat(p + 1, "px;'")); m && (b += ' class="' + m + '"'), f += p + 1, b += " " + g + ">"; var y = "" === _.text ? "&nbsp;" : _.text; _.rotate && (y = "<div class='webix_rotate' style='width:" + (w - 10) + "px; transform-origin:center " + (w - 15) / 2 + "px;-webkit-transform-origin:center " + (w - 15) / 2 + "px;'>" + y + "</div>"), b += y + "</div>", v ? h += b : r += b } else r += "<div class='webix_hcell' style='border-bottom-color:transparent;border-right-color:transparent;height:".concat(p + 1, "px;'></div>"), f += p + 1 } a += c, r += "</div>"
				} return r + h
			}, xk: function(t, i, e) { var s = -1; for (e += i; i < e; i++)s += t[i] + 1; return s }, wk: function(t, i, e) { var s = 0; for (e += i; i < e; i++)s += t[i].width; return s }, showItemByIndex: function(t, i) { var e = this.P.pager; if (e && t >= this.P.topSplit) { var s = Math.floor(t / e.size); s != e.page && ai(e.id).select(s) } var n = this.getScrollState(); if (t >= this.P.topSplit || this.P.prerender && -1 != t) { var r = this.ax(); if (t < r[0] + 1 || t >= r[1] - 1) { var h = this.yk(e ? this.data.$min : 0, t), o = this.Fy + 1, a = this.uy(t); if (t < r[0] + 1) h = Math.max(0, h) - (this.Mk || 0); else if (o < h + a) { h += a - o; for (var u = t; 0 < u && 0 < o; u--)o -= this.uy(u); 0 < t && o && (h += this.uy(t + 1)) } else h = n.y; n.y = h } } if (-1 != i) { if (i < this.P.leftSplit || i >= this._x) return this.scrollTo(n.x, n.y); var c = this.ox(); if (i < c[0] + 1 || i >= c[1] - 1) { for (var f = 0, l = this.P.leftSplit; l < i; l++)f += this.hl[l].width; var d = this.hl[i].width; i < c[0] + 1 || (f + d > this.ay ? f += d - this.ay : f = n.x), n.x = f } } this.scrollTo(n.x, n.y) }, showCell: function(t, i) { if (!i || !t) { var e = this.getSelectedId(!0); 1 == e.length && (i = i || e[0].column, t = t || e[0].row) } i = i ? this.getColumnIndex(i) : -1, t = t ? this.getIndexById(t) : -1, this.showItemByIndex(t, i) }, scrollTo: function(t, i) { if (this.yr) { if (this.Ty) return this.Ty(t, i); null !== t && this.yr.scrollTo(t), null !== i && this.wr.scrollTo(i) } }, Oo: "touch", getScrollState: function() { if (this.Vy) return this.Vy(); var t = this.nx ? 0 : this.Sk || 0; return { x: this.Mr || 0, y: this.xr + t } }, showItem: function(t) { this.showItemByIndex(this.getIndexById(t), -1) }, dk: function(t, i, e) { var s = t.childNodes; s[0].innerHTML = this.mk(0, this.P.leftSplit, this.xx, i, e), s[1].innerHTML = this.mk(this.P.leftSplit, this._x, this.rk, i, e), s[2].innerHTML = this.mk(this._x, this.hl.length, this.oy, i, e), this.NM && (s[1].scrollLeft = this.getScrollState().x), s[1].onscroll = S(this.kk, this) }, kk: function() { var t = this.getScrollState().x, i = this.k.childNodes[1].scrollLeft; Math.ceil(i) != Math.ceil(t) && this.scrollTo(i, null) }, US: function() { this.refreshHeaderContent(!0, !0) }, jS: function() { this.refreshHeaderContent(!1, !0) }, refreshHeaderContent: function(t, i, e) { this.P.header && (i && this.fk(this.k, t, 1, e), this.fk(this.k, t, 0, e)), this.P.footer && (i && this.fk(this.nl, t, 1, e), this.fk(this.nl, t, 0, e)) }, refreshFilter: function(t) { this.refreshHeaderContent(!1, !0, t) }, fk: function(t, i, e, s) { if (this.gk && t) for (var n = t.querySelectorAll("".concat("DIV", "[").concat("active_id", "]")), r = 0; r < n.length; r++) { var h = n[r].getAttribute("active_id"); if (h) { var o = this.zo[h]; if (s && s != o.columnId) continue; var a = yn[o.content]; e ? a.getValue && (o.value = a.getValue(n[r])) : i && !a.trackCells || a.refresh(this, n[r], o) } } }, headerContent: [],
			Ck: function(t, i, e) { if (this.jy) { if (t.style.height = Math.max(i, 1) - 1 + "px", t.style.width = (this._x ? 0 : e) + this.jy - 1 + "px", G.isWebKit) t.offsetWidth } else t.style.display = "none" }, vk: function() { this.P.header && this.Ck(this.$k, this.ia, this.ck), this.P.footer && this.Ck(this.Dk, this.RS, this.ck) }, Yr: function() { var t = !(this.P.autowidth || !1 === this.P.scrollX); this.AM = t ? G.scrollSize : 0; var i = !(this.P.autoheight || !1 === this.P.scrollY); this.jy = i ? G.scrollSize : 0, G.touch && (t = i = !1), this.yr && (this.yr.P.scrollSize = this.AM, this.yr.P.scrollVisible = t), this.wr && (this.wr.P.scrollSize = this.jy, this.wr.P.scrollVisible = i) }, hk: function() { var t, i; if (this.xr = 0, this.Mr = 0, t = i = 1, (this.P.autoheight || !1 === this.P.scrollY) && (i = this.jy = 0), (this.P.autowidth || !1 === this.P.scrollX) && (t = this.AM = 0), G.touch && (t = i = 0), this.yr || (this.yr = ni({ view: "vscroll", container: this.nl.previousSibling, scrollWidth: this.rk, scrollSize: this.AM, scrollVisible: t }), !t || this.AM || G.$customScroll || (this.yr.Vt.style.position = "absolute"), this.yr.attachEvent("onScroll", S(this.Ik, this))), !this.wr) { this.$k = this.nl.nextSibling; var e = this.$k.nextSibling; this.Dk = e.nextSibling, this.wr = ni({ view: "vscroll", container: e, scrollHeight: 100, scroll: "y", scrollSize: this.jy, scrollVisible: i }), this.wr.activeArea(this.st), this.yr.activeArea(this.st, !0), this.wr.attachEvent("onScroll", S(this.Ak, this)) } this.ge && this.callEvent("onResize", [this.ge, this.xe]), G.$customScroll && ae.enable(this), this.hk = function() { } }, columnId: function(t) { return this.hl[t].id }, getColumnIndex: function(t) { for (var i = 0; i < this.hl.length; i++)if (this.hl[i].id == t) return i; return -1 }, Fk: function(t, i) { var e, s = 0, n = 0, r = 0, h = 0, o = 0; for (e = 0; e < this.hl.length && (this._x != e && this.P.leftSplit != e || (s = 0, o++), this.hl[e].id != i); e++)s += this.hl[e].width; for (n += this.hl[e].width, e = 0; e < this.data.order.length && this.data.order[e] != t; e++)h += this.uy(e); return r += this.uy(e), [s, n, h - this.xr, r, this.st.childNodes[o]] }, Lx: function() { return this.row }, locate: function(t, i) { if (this != ai(t)) return null; for (t = t.target || t; t && t.getAttribute && t !== this.$view;) { var e = $t(t).toString(), s = null; if (-1 != e.indexOf("webix_cell") && (s = this.zs(t)) && (s.row = this.data.order[s.rind]), -1 != e.indexOf("webix_hcell") && (s = this.zs(t)) && (s.header = !0), -1 != e.indexOf("webix_drop_area") && (s = this.zs(t)) && (s.row = s.rind = "$webix-drop"), s) return i ? s.header ? null : s.row : (s.column = this.hl[s.cind].id, s.toString = this.Lx, s); t = t.parentNode } return null }, zs: function(t) { var i = t.parentNode; if (!i) return null; var e = 1 * (t.getAttribute("column") || i.getAttribute("column")), s = t.getAttribute("aria-rowindex"); return { rind: t.getAttribute("row") || (s ? s - 1 : 0), cind: e, span: 1 * (t.getAttribute("colspan") || i.getAttribute("colspan")) } }, By: function() { for (var t = -this.ay, i = 0; i < this.hl.length; i++)t += this.hl[i].width; this.Mr = Math.min(this.Mr, Math.max(0, t)) }, To: function(t) { this.Do && (this.By(), this.ak(), this.uk(), this.Jx(), this.JS(), t || this.QS(!1, !1)) }, setColumnWidth: function(t, i, e) { return this.Fo(this.getColumnIndex(t), i, e) }, Fo: function(t, i, e, s) { if (!(isNaN(i) || t < 0)) { var n = this.hl[t]; i = this.sk(i, n); var r = n.width; return r != i && (t >= this.P.leftSplit && t < this._x && (this.rk += i - r), n.width = i, !!n.node && (n.node.style.width = i + "px", e || this.To(), this.callEvent("onColumnResize", [n.id, i, r, !!s]), !0)) } }, sk: function(t, i) { return t = Math.max(t, i.minWidth || this.P.minColumnWidth || 0), t = Math.min(t, i.maxWidth || this.P.maxColumnWidth || 1e5) }, xy: function(t) { return (t.$height || this.P.rowHeight) + (t.$subopen ? t.$subHeight : 0) }, uy: function(t) { var i = this.data.order[t]; return i ? this.xy(this.data.pull[i]) : this.P.rowHeight }, yk: function(t, i) { if (this.P.fixedRowHeight) return Math.max(i - t, 0) * this.P.rowHeight; for (var e = 0; t < i; t++)e += this.uy(t); return e }, at: function(t, i, e) {
				t.row && (i = t.column, t = t.row); var s = this.getColumnConfig(i).width, n = this.getItem(t).$height || this.P.rowHeight; if (this.config.spans && e) { var r = this.getSpan(t, i); if (r) { var h = this.getSpanNode({ row: r[0], column: r[1] }); s = h.offsetWidth, n = h.offsetHeight } } for (var o = 0, a = 0, u = 0; u < this.hl.length; u++) { u != this.P.leftSplit && u != this._x || (o = 0); var c = this.hl[u]; if (c.id == i) { var f = u < this.P.leftSplit ? 0 : u >= this._x ? 2 : 1; a = this.st.childNodes[f].firstChild; break } o += c.width } var l,
					d = this.getIndexById(t); if (d < this.P.topSplit) l = this.yk(0, d); else { var v = this.cx || 0; l = this.yk(v, d) + (this.nx || 0) + (v <= d && this.Mk || 0) } return { parent: a, top: l, left: o, width: s, height: n }
			}, KS: function() { var t = this.P.pager, i = 0, e = this.data.order.length; return t && (i = t.size * t.page, e = Math.min(e, i + t.size), t.level && (i = this.data.$min, e = this.data.$max)), this.yk(i, e) }, setRowHeight: function(t, i) { if (!isNaN(i)) { i = Math.max(i, this.P.minRowHeight || 0), i = Math.min(i, this.P.maxRowHeight || 1e5); var e = this.getItem(t), s = e.$height || this.P.rowHeight; s != i && (e.$height = i, this.config.fixedRowHeight = !1, this.render(), this.callEvent("onRowResize", [t, i, s])) } }, Ak: function(t) { var i = this.xr !== t; if (this.xr = t, this.P.prerender) for (var e = this.st.childNodes, s = 0; s < e.length; s++)e[s].scrollTop = t; else this.QS(); G.$customScroll && ae.Yr(this.st), i && (this.callEvent("onScrollY", []), this.callEvent("onAfterScroll", [])) }, NS: function(t) { this.st.childNodes[1].scrollLeft = this.Mr = t, this.P.header && (this.k.childNodes[1].scrollLeft = t), this.P.footer && (this.nl.childNodes[1].scrollLeft = t) }, Ik: function(t) { var i = this.Mr !== t; this.YS ? this.qS = t : this.NS(t), !1 === this.P.prerender && this.QS(!this.Tk), G.$customScroll && ae.Yr(this.st), i && (this.callEvent("onScrollX", []), this.callEvent("onAfterScroll", [])) }, ox: function(t) { if (t) return [0, this.hl.length]; for (var i = this.Mr, e = this.P.leftSplit; 0 < i && this.hl.length - 1 > e;)i -= this.hl[e].width, e++; var s = e; for (i && 0 < e && e--, i += this.ay; 0 < i && s < this._x;)i -= this.hl[s].width, s++; return [e, s] }, getVisibleCount: function() { return Math.floor(this.Fy / this.config.rowHeight) }, ax: function(t) { var i = this.xr, e = 0, s = this.count(), n = this.P.pager; n && (e = n.page * n.size, s = Math.min(s, e + n.size), n.level && (e = this.data.$min, s = this.data.$max)); var r = e + this.P.topSplit; if (t || this.P.autoheight) return [r, s, 0]; var h = this.P.fixedRowHeight ? this.P.rowHeight : 0; if (h) { var o = Math.ceil(i / h); i -= o * h, r += o } else for (; 0 < i;)i -= this.uy(r), r++; var a = 0 < r && i ? -(this.uy(r - 1) + i) : 0, u = r; if (i && r--, i += (this.Fy || this.xe) - (this.Mk || 0), h) { var c = Math.ceil(i / h); i -= c * h, u += c } else for (; 0 < i && u < s;)i -= this.uy(u), u++; return s < u && (u = s), [r, u, a] }, ZS: function(t) { var i = this.getItem(t), e = this.getIndexById(t), s = this.ax(), n = this.P.topSplit, r = ""; if (n <= e) { if (e < s[0] || e >= s[1]) return; e -= s[0] - n } else r = e == n - 1 ? " webix_topcell webix_last_topcell" : " webix_topcell"; for (var h = this.ox(), o = 0; o < this.hl.length; o++) { var a = this.hl[o]; if (o < this._x && o >= this.P.leftSplit && (o < h[0] || o > h[1]) && (a.MM = -999), a.attached && a.node) { var u = a.node.childNodes[e]; if (!u) continue; var c = this.Ly(i, this.hl[o], 0); u.innerHTML = c, u.className = this.Vk(this.hl[o], c, i, t) + r } } }, QS: function(t, i) { if (this.hl.length && !this.YS) { i && this.zk(); var e = this.ox(this.P.prerender), s = this.ax(!0 === this.P.prerender); if (t) { for (var n = this.P.leftSplit; n < e[0]; n++)this.EM(n, i); for (var r = e[1]; r < this._x; r++)this.EM(r, i) } this.hx = []; for (var h = 0; h < this.P.leftSplit; h++)this.Bk(h, s, i); for (var o = e[0]; o < e[1]; o++)this.Bk(o, s, i, o == e[0]); for (var a = this._x; a < this.hl.length; a++)this.Bk(a, s, i); this.Hk(s[0], s[1], i), this.Rk(s) } }, Ek: function(t, i) { this.Pk = t, this.jk = i, vt(this.zS), this.zS = [] }, OS: function() { if (this.P.prerender && this.Nk) { var t = this.getScrollState(); this.Nk.style.top = "-" + (t.y || 0) + "px" } }, Hk: function(t, i, e) {
				if (this.Nk && (this.Nk.style.top = this.nx + "px"), e || t != this.Pk || i != this.jk) {
					if (this.Ek(t, i), this.Lk) {
						this.Lk = !1; for (var s = 0; s < this.hx.length; s++) {
							var n, r = this.hx[s], h = this.getItem(r.id); n = "function" == typeof h.$row ? h.$row.call(this, h, this.type) : this.Ly(h, this.getColumnConfig(h.$row), s); var o = this.zS[s] = lt("DIV", null, n); o.className = "webix_cell " + (h.$sub ? "webix_dtable_sub" + (this.P.subview ? "view" : "row") : "webix_dtable_colrow" + (h.$row ? " webix_topcell" + (this.data.getMark(h.id, "webix_selected") ? " webix_selected" : "") : "")), o.setAttribute("column", 0), o.setAttribute("row", r.index); var a = h.$height || this.P.rowHeight; h.$subopen ? o.style.height = h.$subHeight + "px" : o.style.height = a + "px", o.style.paddingRight = G.scrollSize + "px"; var u = this.hx[s].index < this.config.topSplit ? -this.nx : 0; o.style.top = u + r.top + (h.$subopen ? a - 1 : 0) + "px", this.Nk || (this.Nk = lt("DIV"), this.Nk.style.position = "relative", this.Nk.style.top = this.nx + "px", this.st.appendChild(this.Nk)),
								this.Nk.appendChild(o), this.attachEvent("onSyncScroll", function(t, i, e) { qi.gs(this.Nk, 0, i, e) }), this.P.subview && this.callEvent("onSubViewRender", [h, o])
						}
					}
				} else if (this.config.topSplit) for (var c = 0; c < this.hx.length; c++) { var f = this.zS[c]; this.hx[c].index < this.config.topSplit && (f.style.top = this.hx[c].top - this.nx + "px") }
			}, Rk: function(t) { var i = this.P.pager, e = this.P.datafetch, s = !this.Ok || t[0] >= this.Ok; if (this.Ok = t[0], this.Wk) { if (i && (!e || e >= i.size) && this.Uk([0, i.size * i.page], Math.max(e, i.size), !0)) return this.Wk = null; this.rl(this.Wk, s), this.Wk = null } else this.P.loadahead && this.Uk(t, this.P.loadahead, s) }, Uk: function(t, i, e) { var s = t[1], n = s + i; e || (s = t[0] - i, n = t[0]), s < 0 && (s = 0), n = Math.min(n, this.data.order.length - 1); for (var r = !1, h = s; h < n; h++)this.data.order[h] || (r ? (r.last = h, r.count = h - s) : r = { start: h, count: n - s }); if (r) return this.rl(r, e), !0 }, rl: function(t, i) { var e = Math.max(t.count, this.P.datafetch || this.P.loadahead || 0), s = i ? t.start : t.last - e + 1; this.xo(t.count, t.start) || this.loadNext(e, s) }, Yk: function(t) { if (G.isSafari) { var i, e, s, n, r = [this.yr, this.wr]; for (i = 0; i < 2; i++)(n = r[i]) && n.zw && n.zw.parentNode == t && (e = n.zw); e && (this.qk && vt(this.qk), s = (this.qk = e).cloneNode(!0), e.parentNode.insertBefore(s, e), this.qk.style.display = "none", this.st.appendChild(this.qk)) } }, EM: function(t) { var i = this.hl[t]; this.Yk(i.node), vt(i.node), i.attached = !1 }, zk: function() { for (var t = 0; t < this.hl.length; t++)this.hl[t].MM = -1; this.zS.length && (vt(this.zS), this.zS = []) }, getText: function(t, i) { return this.Ly(this.getItem(t), this.getColumnConfig(i), 0) }, getCss: function(t, i) { var e = this.getItem(t); return this.Vk(this.getColumnConfig(i), e[i], e, t) }, Vk: function(t, i, e, s) { var n = "webix_cell"; if (t.cssFormat) { var r = t.cssFormat(i, e, s, t.id); r && ("object" == M(r) ? n += " " + ut(r) : n += " " + r) } var h = e.$css; h && ("object" == M(h) && (e.$css = h = ut(h)), n += " " + h); var o = this.data.Fh[s]; if (o && (o.$css && (n += " " + o.$css), o.$cellCss)) { var a = o.$cellCss[t.id]; a && (n += " " + a) } if (e.$cellCss) { var u = e.$cellCss[t.id]; u && ("object" == M(u) && (u = ut(u)), n += " " + u) } var c = this.data.getMark(e.id, "webix_selected"); return (c && (c.$row || c[t.id]) || t.$selected) && (n += this.zx), n }, Ly: function(t, i, e) { return t ? ((s = t[i.id]) !== undefined && null !== s || (s = ""), i.format && (s = i.format(s)), i.template && (s = i.template(t, this.type, s, i, e)), s) : ""; var s }, type: { checkbox: function(t, i, e, s) { return "<input class='webix_table_checkbox' type='checkbox' " + (e == s.checkValue ? 'checked="true"' : "") + ">" }, radio: function(t, i, e, s) { return "<input class='webix_table_radio' type='radio' " + (e == s.checkValue ? 'checked="true"' : "") + ">" }, editIcon: function() { return "<span class='webix_icon wxi-pencil'></span>" }, trashIcon: function() { return "<span class='webix_icon wxi-trash'></span>" } }, type_setter: function(t) { return this.types && this.types[t] ? (this.type = l(this.types[t]), this.type.css && (this.Wi.className += " " + this.type.css)) : ii(this, t), this.type.on_click && T.extend(this.on_click, this.type.on_click), t }, Bk: function(t, i, e, s) { var n = this.hl[t]; if (!n.attached) { var r = t < this.P.leftSplit ? 0 : t >= this._x ? 2 : 1; this.st.childNodes[r].firstChild.appendChild(n.node), n.attached = !0, n.split = r } if (this.cx = i[0], this.nx = 0, this.Sk = i[2], this.P.scrollAlignY ? i[1] == this.data.order.length || this.data.$pagesize && i[1] % this.data.$pagesize == 0 ? n.node.style.top = (this.nx = i[2]) + "px" : n.Gk && (n.node.style.top = "0px") : (this.nx = i[2], n.node.style.top = i[2] + "px"), !(e || n.MM != i[0] || n.SM != i[1] || this.P.topSplit && n.nx != this.nx)) return 0; for (var h = "", o = this.P.columns[t], a = { row: this.P.rowHeight, total: 0, single: s }, u = 0; u < this.P.topSplit; u++)h += this.Xk(u, o, i, a, -this.nx, t); this.Wk = null; for (var c = Math.max(i[0], this.P.topSplit); c < i[1]; c++)h += this.Xk(c, o, i, a, -1, t); return this.Yk(n.node), n.node.innerHTML = h, n.MM = i[0], n.SM = i[1], n.Gk = i[2], n.nx = this.nx, 1 }, Xk: function(t, i, e, s, n, r) {
				var h = this.data.order[t], o = this.data.getItem(h), a = ""; if (o) {
					var u = " role='gridcell' aria-rowindex='" + (t + 1) + "' aria-colindex='" + (this.getColumnIndex(i.id) + 1) + "'" + (o.$count || o.$sub ? " aria-expanded='" + (o.open || o.$subopen ? "true" : "false") + "'" : "") + (o.$level ? " aria-level='" + o.$level + "'" : ""); if (s.single && o.$row && (this.Lk = !0, this.hx.push({ top: s.total, id: o.id, index: t }), !o.$sub)) {
						var c = o.$height || s.row; return s.total += c,
							"<div" + u + " class='webix_cell' style='height:" + c + "px;'></div>"
					} var f = this.Ly(o, i, t), l = this.Vk(i, f, o, h), d = " aria-selected='true' tabindex='0'"; if (-1 !== l.indexOf("select")) if (-1 !== l.indexOf("row")) this.ox()[0] === r && (u += d); else -1 !== l.indexOf("col") ? t === e[0] && (u += d) : u += d; var v = !!o.$subopen, _ = v ? "margin-bottom:" + o.$subHeight + "px;" : ""; 0 <= n && (0 < n && (_ += "top:" + n + "px;'"), l = "webix_topcell " + l, t == this.P.topSplit - 1 && (l = "webix_last_topcell " + l)), o.$height ? (a = "<div" + u + " class='" + l + "' style='height:" + o.$height + "px;" + _ + "'>" + f + "</div>", s.total += o.$height - s.row) : a = "<div" + u + " class='" + l + "'" + (_ ? " style='" + _ + "'" : "") + ">" + f + "</div>", v && (s.total += o.$subHeight)
				} else a = "<div role='gridcell' class='webix_cell'></div>", this.Wk ? this.Wk.last = t : this.Wk = { start: t, count: e[1] - t }; return s.total += s.row, a
			}, JS: function() { if (this.hl.length && !isNaN(1 * this.xe)) { var t = this.Ay + (this.AM ? this.AM : 0); if (!this.P.autoheight && !this.P.yCount || !this.resize()) { this.wr.sizeTo(this.xe, this.ia, this.RS), this.wr.define("scrollHeight", t), this.Mk = this.P.topSplit ? this.yk(0, this.P.topSplit) : 0, this.Fy = Math.max(0, this.xe - this.AM - this.ia - this.RS); for (var i = 0; i < 3; i++)this.st.childNodes[i].style.height = this.Fy + "px", this.P.prerender ? this.st.childNodes[i].firstChild.style.height = this.Ay + "px" : this.st.childNodes[i].firstChild.style.height = this.Fy + "px"; this.k.style.height = this.ia + "px" } } }, uk: function() { if (this.hl.length) { var t = 0; for (this.xx = 0, this.oy = 0, this.ay = 0; t < this.P.leftSplit;)this.xx += this.hl[t].width, t++; for (t = this.hl.length - 1; t >= this._x;)this.oy += this.hl[t].width, t--; if (this.ge && (!this.P.autowidth || !this.resize())) { this.ay = this.ge - this.oy - this.xx - this.jy, this.st.childNodes[1].firstChild.style.width = this.rk + "px", this.st.childNodes[0].style.width = this.xx + "px", this.st.childNodes[1].style.width = this.ay + "px", this.st.childNodes[2].style.width = this.oy + "px", this.k.childNodes[0].style.width = this.xx + "px", this.k.childNodes[1].style.width = this.ay + "px", this.k.childNodes[2].style.width = this.oy + "px", this.nl.childNodes[0].style.width = this.xx + "px", this.nl.childNodes[1].style.width = this.ay + "px", this.nl.childNodes[2].style.width = this.oy + "px"; var i = this.ay - this.rk; if (i < 0 && (i = 0), i != this.ck && (this.ck = i, this.vk()), G.isWebKit) { this.st.childNodes[0].offsetWidth; this.st.childNodes[1].offsetWidth, this.st.childNodes[1].firstChild.offsetWidth, this.st.childNodes[2].offsetWidth } this.yr.sizeTo(this.ge - this.jy), this.yr.define("scrollWidth", this.rk + this.xx + this.oy) } } }, $getSize: function(t, i) { if ((this.P.autoheight || this.P.yCount) && this.P.columns) { var e = (this.P.yCount || 0) * this.P.rowHeight; e || (e = this.isVisible() ? this.Ay : this.count() * this.P.rowHeight), this.P.height = Math.max(e + (this.AM ? this.AM : 0) - 1, this.P.minHeight || 0) + this.ia + this.RS } this.P.autowidth && this.P.columns && (this.P.width = Math.max(this.rk + this.xx + this.oy + this.jy, this.P.minWidth || 0)); var s = this.xx + this.oy + this.jy, n = Ri.api.$getSize.call(this, t, i); return n[0] = Math.max(n[0] || s), n }, n_: function() { if (this.yr && !G.touch) { var t = this.getScrollState(); this.yr.config.scrollPos = this.wr.config.scrollPos = 0, this.scrollTo(t.x, t.y) } }, $setSize: function() { var t = this.ge, i = this.xe; Ri.api.$setSize.apply(this, arguments) && (this.Do && (this.callEvent("onResize", [this.ge, this.xe, t, i]), this.uk(), this.JS()), this.render()) }, Kk: function(t, i) { var e = this.getColumnConfig(t); if (this.P.sort && e.sort) { var s = "asc"; this.Co[e.id] ? s = "asc" == this.Co[e.id].dir ? "desc" : "asc" : this.BS[e.id] && (s = "asc" == this.BS[e.id].getAttribute("webix_sort_dir") ? "desc" : "asc"), this.Vo(e.id, s, e.sort, i.ctrlKey || i.metaKey) } }, markSorting: function(t, i, e) {
				if (i = i || "asc", !e) for (var s in this.HS = [], this.BS) if (s !== t) { var n = this.BS[s].parentNode; n && (n.removeAttribute("aria-sort"), n.removeAttribute("tabindex")), vt(this.BS[s]), delete this.BS[s] } else this.HS.push(s), this.BS[s].firstChild.innerHTML = "1"; if (t) {
					if (this.BS[t]) this.BS[t].className = "webix_ss_sort_".concat(i); else { var r = lt("div", { webix_sort_dir: i, "class": "webix_ss_sort_".concat(i) }, '<div class="webix_ss_sort_num">'.concat(this.HS.length + 1, "</div>")); this._k(t, r, i), this.BS[t] = r, this.HS.push(t) } var h = this.BS[this.HS[0]]; switch (this.HS.length) {
						case 1: Mt(h, "webix_ss_sort_single"); break; case 2:
							St(h, "webix_ss_sort_single")
					}
				}
			}, _k: function(t, i, e) { e = e || i.getAttribute("webix_sort_dir"); var s = this.Jk(this.getColumnIndex(t)); s && ("absolute" != s.style.position && (s.style.position = "relative"), s.appendChild(i), s.setAttribute("aria-sort", e + "ending"), s.setAttribute("tabindex", "0")) }, scroll_setter: function(t) { return "string" == typeof t ? (this.P.scrollX = -1 != t.indexOf("x"), this.P.scrollY = -1 != t.indexOf("y"), t) : this.P.scrollX = this.P.scrollY = t }, Jk: function(t) { for (var i = this.k.querySelectorAll("div[".concat("column", '="').concat(t, '"]')), e = null, s = 0; s < i.length; s++) { var n = i[s].getAttribute("active_id"); if (n && !yn[this.zo[n].content].$icon) return null; if (i[s].innerHTML && (e = i[s], (i[s].colSpan || 0) < 2)) return e } return e }, ko: [], Co: {}, Vo: function(t, i, e, s) { var n = this; i = i || "asc", (s = "multi" === this.P.sort && s) || (this.ko = [], this.Co = {}); var r = this.getColumnConfig(t), h = "function" == typeof r.sort ? { as: r.sort, dir: i } : { by: r.id, dir: i, as: r.sort }; if (this.Co[r.id] || this.ko.push(r.id), this.Co[r.id] = h, "server" == e) { var o = [r.id, i, e]; 1 < this.ko.length && (o = [this.ko.map(function(t) { return n.Co[t] })]), this.callEvent("onBeforeSort", o), this.loadNext(0, 0, 0, 0, 1).then(function(t) { n.clearAll(!0), n.parse(t), n.callEvent("onAfterSort", o) }) } else { if ("text" == e) { var a = "$text_" + r.id; this.data.each(function(t) { t[a] = this.getText(t.id, r.id) }, this), h.as = "string", h.by = a } 1 < this.ko.length ? this.data.sort(this.ko.map(function(t) { return n.Co[t] })) : this.data.sort(h) } this.markSorting(r.id, h.dir, s) }, Zk: function(t, i, e, s) { var n; if (t.length) for (n = 0; n < t.length; n++)if (!1 === v(t[n], this.$scope).call(this, i, e, s)) return !1 }, Ku: function(t, i, e, s) { var n = (t = t || event).target; if (!this.P.subview || this == ai(n)) { for (var r = "", h = [], o = !1, a = null; n && n.parentNode && n != this.Vt.parentNode;) { if (r = $t(n)) for (var u = (r = r.toString().split(" ")).length - 1; 0 <= u; u--)i[r[u]] && h.push(i[r[u]]); if (n.parentNode.getAttribute && !a) { var c = n.parentNode.getAttribute("column") || n.getAttribute("column"); if (c) { var f = this.st.contains(n); if (!this.hl[c]) return; if (o = !0, f) { var l = n.parentNode.getAttribute("row") || n.getAttribute("row"); if (!l) { if (n.getAttribute("column")) return; if ((l = at(n)) >= this.P.topSplit) (this.P.pager || !this.P.prerender && !this.P.autoheight) && (l += this.hl[c].MM - this.P.topSplit) } this.Nu = a = { row: this.data.order[l], column: this.hl[c].id }, a.toString = this.Lx } else this.Nu = a = { column: this.hl[c].id }; if (!1 === this.Zk(h, t, a, n)) return; if (f) this.callEvent("on" + e, [a, t, n]) && s && this.callEvent("on" + s, [a, t, n]); else if ("ItemClick" == e) { this.k.contains(n) && this.callEvent("onHeaderClick", [a, t, n]) && this.Kk(a.column, t) } h = [] } } n = n.parentNode } return this.Zk(h, t, a, this.$view), o } }, Te: function(t, i) { var e = this.locate(i); if (!e) return null; var s, n = ui.Nt; if (e.header) { for (var r, h = i.target, o = h, a = e.cind - (e.span ? e.span - 1 : 0), u = -1; o && !r;)r = (o = o.parentNode).getAttribute("section"); for (; h && u < 0;) { var c = h.getAttribute("row"); c && (u = c), h = h.parentNode } var f = this.hl[a][r][u]; if (!f.tooltip) return null; n.type.template = qt(!0 === f.tooltip ? "#text#" : f.tooltip), s = f } else { var l = n.type.column = this.getColumnConfig(e.column); if (!l.tooltip && l.tooltip !== undefined) return null; if (!0 === l.tooltip || !l.tooltip && V(this.P.tooltip.template)) s = this.getText(e.row, e.column).toString(); else if (l.tooltip) { var d = i.target.getAttribute("webix_area"); n.type.template = d ? function(t, i) { var e = t[l.id]; return qt(l.tooltip).call(this, t, i, e[d], d) } : qt(l.tooltip) } else n.type.template = qt(this.P.tooltip.template) } return s !== undefined ? s : this.getItem(e.row) }, $tooltipOut: function() { return ui.Yt(), delete ui.Nt.type.column, null }, showOverlay: function(t) { if (!this.Qk) { var i = lt("DIV", { "class": "webix_overlay" }, ""); this.st.appendChild(i), this.Qk = i } this.Qk.innerHTML = t }, hideOverlay: function() { this.Qk && (vt(this.Qk), this.Qk = null) }, mapCells: function(t, i, e, s, n, r) {
				if (null === t && 0 < this.data.order.length && (t = this.data.order[0]), null === i && (i = this.columnId(0)), null === e && (e = this.data.order.length), null === s && (s = this.P.columns.length), this.exists(t) && (t = this.getIndexById(t), null !== (i = this.getColumnIndex(i)))) for (var h = 0; h < e && t + h < this.data.order.length; h++) {
					var o = t + h, a = this.data.order[o]; if (a) for (var u = this.getItem(a), c = 0; c < s && i + c < this.P.columns.length; c++) {
						var f = i + c, l = this.columnId(f), d = n(u[l], a, l, h, c); r || (u[l] = d)
					}
				}
			}, TS: function(t, i) { !this.P.columns && t.getConfig && this.define("columns", t.getConfig(i)) }, GS: function() { var t = this.getItem(this.getFirstId()), i = this.P.columns = []; for (var e in t) "id" != e && "$" != e[0] && i.push({ id: e, header: e[0].toUpperCase() + e.substr(1), sort: "string", editor: "text" }); i.length && (i[0].fillspace = !0), "undefined" == typeof this.P.select && this.define("select", "row") }
		}, Bh = { api: zh, view: T.protoUI(zh, ph, me, hs, ce, Ce, ze, Pe, oe, Ah, bs, { clearValidation: function() { for (var t in this.data.Fh) this.tC(t); this.data.clearMark("webix_invalid", !0) }, uh: function(t, i) { for (var e in this.tC(t), i) this.addCellCss(t, e, "webix_invalid_cell"); this.addCss(t, "webix_invalid") }, hh: function(t) { this.tC(t), this.removeCss(t, "webix_invalid") }, tC: function(t) { var i = this.data.getMark(t, "$cellCss"); if (i) for (var e in i) i[e] = i[e].replace("webix_invalid_cell", "").replace("  ", " ") }, addRowCss: function(t, i, e) { this.addCss(t, i, e) }, removeRowCss: function(t, i, e) { this.removeCss(t, i, e) }, addCellCss: function(t, i, e, s) { var n = this.data.getMark(t, "$cellCss"), r = n || {}, h = r[i] || ""; r[i] = h.replace(e, "").replace("  ", " ") + " " + e, n || this.data.addMark(t, "$cellCss", !1, r, !0), s || this.refresh(t) }, removeCellCss: function(t, i, e, s) { var n = this.data.getMark(t, "$cellCss"); if (n) { var r = n[i] || ""; r && (n[i] = r.replace(e, "").replace("  ", " ")), s || this.refresh(t) } } }, Fh, ge, Ih, $h, Ch, kh, Mh, Sh, yh, xh, wh, Th, gh, mh, bh, { topSplit_setter: function(t) { return this.data && (this.data.$freeze = t), t }, freezeRow: function(t, i) { var e = this.P.topSplit; if (!this.P.pager && this.Do) { if (t) { var s = this.data.order, n = this.data.Th; t = t.toString(), e = this.iC(t, i, s, e), n && this.iC(t, i, n, e, !0) } else i || (e = 0); this.define("topSplit", e), this.refresh() } }, iC: function(t, i, e, s, n) { var r = this.data.pull[t] ? e.find(t) : -1; if (i && s <= r) { n || s++; for (var h = r; s <= h; h--)e[h] = e[h - 1]; e[s - 1] = t } if (!i && r < s) { n || s--; for (var o = r; o < s; o++)e[o] = e[o + 1]; e[s] = t } return s } }, Vh, ji, Ae, ue, be, He, Be, Ri.view, g, ki) }, Hh = {
			name: "excelviewer", $init: function() { var t = this; this.$ready.push(function() { this.P.toolbar && ai(this.P.toolbar).attachEvent("onExcelSheetSelect", S(this.showSheet, this)) }), this.data.attachEvent("onClearAll", function() { delete t.eC }) }, defaults: { datatype: "excel" }, $onLoad: function(t) { if (t.sheets) { this.sC = t, this.P.toolbar && ai(this.P.toolbar).setSheets(t.names); var i = t.names[0]; return this.showSheet(i.id || i), !0 } return !1 }, $exportView: function(t) { var i = t.export_mode; if ("pdf" != i && "excel" != i || t.dataOnly) return this; !0 === t.sheets ? t.sheets = this.getSheets().map(function(t) { return t.id || t }) : t.sheets && t.sheets.length ? "string" == typeof t.sheets && (t.sheets = [t.sheets]) : t.sheets = [this.eC], t.dataOnly = !0, t.heights = V(t.heights) && t.styles ? "all" : t.heights; for (var e = [], s = this.eC, n = 0; n < t.sheets.length; n++) { var r = t.sheets[n], h = r.id || r, o = r.options ? T.extend(_(r.options), t) : _(t); o.name || (o.name = h), this.showSheet(h), h != s && (o.It = !0), "pdf" == i && V(o.textBefore) && (o.textBefore = o.name); var a = "pdf" == i ? Is(this, o) : Rs(this, o); o.styles && (a[0].styles = this.nS(o)), "pdf" == i && t.autowidth && zs(o, t), e = e.concat(a) } return this.showSheet(s), delete t.dataOnly, e }, showSheet: function(t) { if (t != this.eC) { this.clearAll(); var i = this.data.driver.sheetToArray(this.sC.sheets[t], { spans: this.P.spans }), e = this.P.excelHeader, s = {}, n = {}; if (i.sizes) for (var r = 0; r < i.sizes.length; r++)"column" == i.sizes[r][0] ? s[i.sizes[r][1]] = Math.round(i.sizes[r][2]) : "row" == i.sizes[r][0] && (n[i.sizes[r][1]] = Math.round(i.sizes[r][2])); if (e) if (!0 === e) { e = i.data.splice(0, 1)[0]; for (var h = 0; h < e.length; h++)e[h] = { header: e[h], id: "data" + h, width: s[h], adjust: !s[h], editor: "text", sort: "string" } } else e = _(e); else { e = _(i.data[0]); for (var o = 0; o < e.length; o++)e[o] = { header: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[o], id: "data" + o, width: s[o], adjust: !s[o], editor: "text", sort: "string" } } this.config.columns = e, this.refreshColumns(), this.parse(i, this.P.datatype), this.eC = t; var a = this.nC(i.spans), u = this.rC(n), c = this.hC(i.styles, a); (a || u || c) && this.refresh() } }, getSheets: function() { return this.sC.names }, oC: function(t, i, e, s) {
				for (var n = !1, r = 0; r < t.length; r++)if (t[r][0] === i && t[r][1] === e) {
					t[r][5] = ut(this.aC(s)), this.addSpan(t[r][0], t[r][1], t[r][2], t[r][3], t[r][4], t[r][5]),
					n = !0; break
				} return n
			}, hC: function(t, i) { var e = 0; if (t && t.length) { for (var s = 0; s < t.length; s++) { var n = t[s][0] - (this.config.excelHeader ? 1 : 0); if (0 <= n) { var r = this.getIdByIndex(n); if (this.exists(r)) { var h = this.getItem(r), o = this.columnId(t[s][1]); o && (i.length && this.oC(i, r, o, t[s][2]) || (h.$cellCss = h.$cellCss || {}, h.$cellCss[o] = this.aC(t[s][2])), e++) } } } return e } return !1 }, uC: function(t) { return 8 === (t = t || "000000").length && (t = t.substring(2)), "#" + t }, aC: function(t) { var i = {}; if (t.fill && t.fill.fgColor && (i["background-color"] = this.uC(t.fill.fgColor.rgb)), t.font) { var e = t.font; e.name && (i["font-family"] = e.name), e.sz && (i["font-size"] = e.sz / .75 + "px"), e.color && e.color.rgb && (i.color = this.uC(e.color.rgb)), e.bold && (i["font-weight"] = "bold"), e.underline && (i["text-decoration"] = "underline"), e.italic && (i["font-style"] = "italic"), e.strike && (i["text-decoration"] = "line-through") } if (t.alignment) { var s = t.alignment; s.vertical && "center" == s.vertical && (i.display = "flex", i["justify-content"] = "flex-start", i["align-items"] = "center"), s.vertical && "bottom" == s.vertical && (i.display = "flex", i["justify-content"] = "flex-end", i["align-items"] = "flex-end"), s.horizontal && (!s.vertical || "center" != s.vertical && "bottom" != s.vertical ? i["text-align"] = s.horizontal : i["justify-content"] = "center"), s.wrapText && (i["white-space"] = "normal") } if (t.border) { var n = t.border; n.top && (i["border-top"] = "1px solid " + this.uC(n.top.color.rgb)), n.bottom && (i["border-bottom"] = "1px solid " + this.uC(n.bottom.color.rgb) + " !important"), n.left && (i["border-left"] = "1px solid " + this.uC(n.left.color.rgb)), n.right && (i["border-right"] = "1px solid " + this.uC(n.right.color.rgb) + " !important") } return i }, rC: function(t) { var i = 0; for (var e in t) { var s = this.config.excelHeader ? e - 1 : e; if (0 <= s) { var n = this.getIdByIndex(s); this.exists(n) && (this.getItem(n).$height = t[e], i++) } } return this.config.fixedRowHeight = !i, i }, nC: function(t) { var i = []; if (this.P.spans && t && t.length) { this.al = {}; for (var e = 0; e < t.length; e++)this.config.excelHeader && t[e][0]--, 0 <= t[e][0] && (t[e][0] = this.getIdByIndex(t[e][0]), t[e][1] = "data" + t[e][1], i.push(t[e])); return this.addSpan(i), i } return !1 }
		}, Rh = (T.protoUI(Hh, Bh.view), {
			name: "pdfbar", reset: function() { this.setPage(0), this.setValues(0, "auto") }, $init: function(t) { this.$view.className += " pdf_bar", t.cols = [{ view: "button", type: "icon", css: "webix_transparent", icon: "wxi-angle-left", width: 35, click: function() { this.getParentView().mw("prev") } }, { view: "text", width: 70, value: "0", on: { onBlur: function() { this.getParentView().mw(this.getValue()) }, onKeyPress: function(t) { 13 === t && this.getParentView().mw(this.getValue()) } } }, { template: A.PDFviewer.of + " #limit#", width: 70, data: { limit: 0 }, borderless: !0 }, { view: "button", type: "icon", css: "webix_transparent", icon: "wxi-angle-right", width: 35, click: function() { this.getParentView().mw("next") } }, {}, { view: "button", type: "icon", css: "webix_transparent", icon: "wxi-minus", width: 35, click: function() { this.getParentView().zoom("out") } }, { view: "richselect", options: [], maxWidth: 195, suggest: { padding: 0, css: "pdf_opt_list", borderless: !0, body: { type: { height: 25 }, scroll: !1, yCount: 13 } }, on: { onChange: function() { this.getParentView().setMasterScale(this.getValue()) } } }, { view: "button", type: "icon", css: "webix_transparent", icon: "wxi-plus", width: 35, click: function() { this.getParentView().zoom("in") } }, { view: "button", type: "icon", css: "webix_transparent", icon: "wxi-download", width: 35, click: function() { this.getParentView().download() } }], this.$ready.push(this.cC) }, cC: function() { var t = this.getChildViews()[6].getPopup().getBody(); t.clearAll(), t.parse([{ id: "auto", value: A.PDFviewer.automaticZoom }, { id: "page-actual", value: A.PDFviewer.actualSize }, { id: "page-fit", value: A.PDFviewer.pageFit }, { id: "page-width", value: A.PDFviewer.pageWidth }, { id: "page-height", value: A.PDFviewer.pageHeight }, { id: "0.5", value: "50%" }, { id: "0.75", value: "75%" }, { id: "1", value: "100%" }, { id: "1.25", value: "125%" }, { id: "1.5", value: "150%" }, { id: "2", value: "200%" }, { id: "3", value: "300%" }, { id: "4", value: "400%" }]); var i = 0; t.data.each(function(t) { i = Math.max(kt(t.value, "webixbutton").width, i) }), this.getChildViews()[6].define("width", i + 20), this.getChildViews()[6].resize() }, mw: function(t) {
				this.setMasterPage(t), this.setPage(
					this.$master.$pageNum)
			}, setScale: function(t) { var i = this.getChildViews()[6]; i.blockEvent(), i.getPopup().getList().exists(t) ? i.setValue(t) : (i.setValue(""), i.getInputNode().innerHTML = (100 * t).toFixed(0) + "%"), i.unblockEvent() }, setMasterScale: function(t) { this.$master && this.$master.setScale(t) }, setMasterPage: function(t) { this.$master && ("prev" === t ? this.$master.prevPage() : "next" === t ? this.$master.nextPage() : isNaN(parseInt(t)) || this.$master.renderPage(parseInt(t))) }, zoom: function(t) { this.$master && ("out" === t ? this.$master.zoomOut() : "in" === t && this.$master.zoomIn()) }, setPage: function(t) { this.getChildViews()[1].setValue(t, "auto") }, setValues: function(t, i) { this.getChildViews()[2].data.limit = t, this.getChildViews()[2].refresh(), this.setScale(i) }, download: function() { this.$master && this.$master.download() }
		}), Eh = (T.protoUI(Rh, nr.view), {
			name: "pdfviewer", defaults: { scale: "auto" }, $init: function(t) { this.$view.className += " webix_pdf"; var i = document.createElement("DIV"); i.className = "canvas_wrapper"; var e = document.createElement("canvas"); this.fC = this.$view, this.At = this.$view.appendChild(i), this.Re = this.At.appendChild(e), this.$pdfDoc = null, this.$pageNum = 0, this.$numPages = 0, this.lC = !1, this.dC = null, this.vC = this.Re.getContext("2d"), this._C = .1, this.pC = t.scaleDelta || 1.1, this.bC = t.minScale || .25, this.mC = t.maxScale || 10, this.gC = 1.25, this.wC = 40, this.xC = 10, this.Bt = [], this.$ready.push(this.yC) }, toolbar_setter: function(t) { if ("string" == typeof t) { var i = ai(t); return i && (i.$master = this, i.refresh()), this.attachEvent("onDocumentReady", function() { i ? (i.setPage(this.$pageNum), i.setValues(this.$numPages, this.P.scale)) : this.toolbar_setter(t) }), t } }, yC: function() { if (delete this.P.datatype, this.attachEvent("onScaleChange", function(t) { this.P.toolbar && ai(this.P.toolbar).setScale && ai(this.P.toolbar).setScale(t) }), this.attachEvent("onPageRender", function(t) { this.P.toolbar && ai(this.P.toolbar).setPage && ai(this.P.toolbar).setPage(t) }), G.touch) this.MC = !1, Zt(this.Vt, "touchstart", S(function(t) { var i = t.targetTouches; 2 === i.length && (wt(t), this.MC = Math.abs(i[0].pageY - i[1].pageY)) }, this)), Zt(this.$view, "touchmove", S(function(t) { var i = t.targetTouches; 2 === i.length && !1 !== this.MC && (wt(t), Math.abs(i[0].pageY - i[1].pageY) > this.MC ? this.zoomIn() : this.zoomOut(), this.MC = !1) }, this)), this.attachEvent("onSwipeX", function(t, i) { this.$view.scrollLeft = this.$view.scrollLeft - (i.x - t.x) }), this.attachEvent("onSwipeY", function(t, i) { var e = this.$view.clientHeight, s = this.$view.scrollHeight, n = this.$view.offsetHeight, r = this.$view.scrollTop, h = i.y - t.y; if (e === s || h < 0 && s - n < r || 0 < h && 0 === r) { var o = this.$pageNum + (0 < h ? -1 : 1); 0 < o && o <= this.$numPages && (this.$pageNum = o, this.SC(this.$pageNum), this.$view.scrollTop = 0 < h ? s : 0) } else this.$view.scrollTop = r - h }); else { var t = G.isFF ? "DOMMouseScroll" : "mousewheel"; Zt(this.$view, t, function(t) { var i = ("DOMMouseScroll" === t.type ? -t.detail : t.wheelDelta) < 0 ? "out" : "in"; t.ctrlKey && (wt(t), "in" == i ? this.zoomIn() : this.zoomOut()) }, { bind: this, passive: !1 }) } }, $onLoad: function(t) { return window.PDFJS ? this.kC(t) : Vt([G.cdn + "/extras/pdfjs/compatibility.min.js", G.cdn + "/extras/pdfjs/pdf.min.js"], function() { PDFJS.workerSrc = G.cdn + "/extras/pdfjs/pdf.worker.min.js", this.kC(t) }, this), !0 }, kC: function(t) { if (t.name) { var i = new FileReader; i.onload = S(function(t) { this.kC({ data: t.target.result }) }, this), i.readAsArrayBuffer(t) } else this.CC({ data: t.data }) }, CC: function(i) { var e = this; return PDFJS.getDocument({ data: i.data, password: i.password }).then(function(t) { e.clear(), e.$pdfDoc = t, e.$numPages = e.$pdfDoc.numPages, e.$pageNum = 1, e.$C(e.$pageNum).then(function() { e.callEvent("onDocumentReady") }) }, function(t) { "PasswordException" == t.name && e.DC(i) }) }, getPopup: function() {
				var e = this; return this.IC || (this.IC = ni({
					view: "window", position: "center", modal: !0, head: A.PDFviewer.enterPassword, body: {
						view: "form", elements: [{ view: "text", name: "password", type: "password", invalidMessage: A.PDFviewer.passwordError, required: !0 }, {
							cols: [{ view: "button", value: A.message.cancel, hotkey: "esc", click: function() { e.getPopup().hide() } }, {
								view: "button", css: "webix_primary", value: A.message.ok, hotkey: "enter", click: function() {
									var t = e.getPopup(), i = t.getBody(); i.validate() ? (e.CC({
										data: e.AC,
										password: i.getValues().password
									}), t.hide()) : i.focus()
								}
							}]
						}]
					}, on: { onHide: function() { var t = e.getPopup().getBody(); t.clear("auto"), t.clearValidation(), delete e.AC } }
				}), this.Bt.push(this.IC)), this.IC
			}, DC: function(t) { var i = this.getPopup(), e = i.getBody(); this.AC = t.data, t.password && (e.markInvalid("password"), e.setValues({ password: t.password }, !1, "auto")), i.show(), e.focus() }, FC: function(t, i) { var e = t.getViewport(i); return this.Re.height = e.height, this.Re.width = e.width, this.At.style.width = e.width + "px", this.At.style.height = e.height + "px", e }, $C: function(t) { var n = this; return this.lC = !0, this.$pdfDoc.getPage(t).then(function(t) { var i = isNaN(parseFloat(n.P.scale)) ? n._C : n.P.scale, e = n.FC(t, i); i !== n.P.scale && (i = n.TC(n.P.scale), e = n.FC(t, i), n.P.scale = i); var s = { canvasContext: n.vC, viewport: e }; return t.cleanupAfterRender = !0, t.render(s).promise.then(function() { n.callEvent("onPageRender", [n.$pageNum]), n.lC = !1, null !== n.dC && (n.$C(n.dC), n.dC = null) }) }) }, SC: function(t) { this.lC ? this.dC = t : this.$C(t) }, renderPage: function(t) { !this.$pdfDoc || t <= 0 || t > this.$numPages || (this.$pageNum = t, this.SC(this.$pageNum)) }, prevPage: function() { this.$pageNum <= 1 || (this.$pageNum--, this.SC(this.$pageNum)) }, nextPage: function() { this.$pageNum >= this.$numPages || (this.$pageNum++, this.SC(this.$pageNum)) }, zoomIn: function() { var t = this.P.scale; t = (t * this.pC).toFixed(2), t = Math.ceil(10 * t) / 10, t = Math.min(this.mC, t), this.setScale(t) }, zoomOut: function() { var t = this.P.scale; t = (t / this.pC).toFixed(2), t = Math.floor(10 * t) / 10, t = Math.max(this.bC, t), this.setScale(t) }, TC: function(t) { if (!isNaN(parseFloat(t))) return t; isNaN(parseFloat(this.P.scale)) && (this.P.scale = this._C); var i = 1, e = ((this.fC.clientWidth - this.wC) * this.P.scale / this.Re.clientWidth).toFixed(2), s = ((this.fC.clientHeight - this.xC) * this.P.scale / this.Re.clientHeight).toFixed(2); switch (t) { case "page-actual": i = 1; break; case "page-width": i = e; break; case "page-height": i = s; break; case "page-fit": i = Math.min(e, s); break; case "auto": var n = this.fC.clientWidth > this.fC.clientHeight ? Math.min(s, e) : e; i = Math.min(this.gC, n) }return i }, setScale: function(t) { if (isNaN(parseFloat(t))) { var i = this.TC(t); this.VC(i) } else this.VC(t) }, VC: function(t) { this.P.scale = t, this.renderPage(this.$pageNum), this.callEvent("onScaleChange", [t]) }, download: function() { if (this.$pdfDoc) { var i = (this.P.downloadName || "document") + ".pdf"; this.$pdfDoc.getData().then(function(t) { Ct(PDFJS.createBlob(t, "application/pdf"), i) }) } }, clear: function() { this.$pdfDoc && (this.vC.clearRect(0, 0, this.Re.width, this.Re.height), this.At.style.height = this.At.style.width = this.Re.width = this.Re.height = 0, this.P.scale = "auto", this.$pageNum = this.$numPages = 0, this.$pdfDoc.transport.startCleanup(), this.$pdfDoc.destroy(), this.$pdfDoc = null, this.P.toolbar && ai(this.P.toolbar) && ai(this.P.toolbar).reset()) }
		}), Ph = (T.protoUI(Eh, g, Rt, Ri.view), { name: "video", $init: function(t) { t.id || (t.id = z()), this.$ready.push(this.zC) }, zC: function() { var t = this.P; if (this.Wi = lt("video", { "class": "webix_view_video", style: "width:100%;height:100%;", autobuffer: "autobuffer" }, ""), t.poster && (this.Wi.poster = t.poster), t.src) { "object" != M(t.src) && (t.src = [t.src]); for (var i = 0; i < t.src.length; i++)this.Wi.innerHTML += ' <source src="' + t.src[i] + '">' } t.controls && (this.Wi.controls = !0), t.autoplay && (this.Wi.autoplay = !0), this.Vt.appendChild(this.Wi) }, getVideo: function() { return this.Wi }, defaults: { src: "", controls: !0 } }), jh = (T.protoUI(Ph, Ri.view), {
			name: "gage", defaults: { value: 0, minRange: 0, maxRange: 100, minWidth: 250, minHeight: 200, smoothFlow: !0, scale: 3, stroke: 7 }, $init: function() { this.$ready.push(S(this.BC, this)), this.attachEvent("onDestruct", function() { this.HC = this.RC = this.EC = null }) }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.PC() }, PC: function() {
				this.jC = this.config.value; var t = this.$view.querySelector(".webix_gage_curves"), i = this.$view.querySelector(".webix_gage_info"), e = this.config.scale, s = Math.min(this.$width, this.$height), n = s / 100 * this.config.stroke, r = s / e; t.setAttribute("r", r), t.setAttribute("strokeDasharray", Math.round(Math.PI * r)), t.style.r = r, t.style.strokeDasharray = Math.round(Math.PI * r), t.style["stroke-width"] = n + "px", i.setAttribute("style", "width: " + Math.round(2 * r) + "px;"),
					this.EC.setAttribute("style", "height: " + Math.round(r + n) + "px;"), this.HC.setAttribute("r", r), this.HC.setAttribute("style", "stroke-dasharray: " + Math.round(this.gradientLength * Math.PI * r) + ", 1900; stroke-width:" + n + "px"), this.NC(r), this.LC()
			}, cg: function(t) { return Math.min(Math.max(t, this.P.minRange), this.P.maxRange) }, NC: function(t) { var i = this.$width, e = Math.min(this.$width, this.$height) / 100 * this.config.stroke; this.RC.style.transformOrigin = i / 2 + "px 0 0", this.RC.setAttribute("y1", "0"), this.RC.setAttribute("x1", Math.round(i) / 2 + e), this.RC.setAttribute("y2", "0"), this.RC.setAttribute("x2", Math.round((i + e) / 2 + t)) }, LC: function() { var t = this.config.value, i = this.$view.querySelector(".webix_gage_value"), e = this.cg(t) - this.config.minRange, s = Math.round(180 * e / (this.config.maxRange - this.config.minRange)), n = Math.min(this.$width, this.$height); this.$view.style.fontSize = Math.floor(n / 8) + "px", i.innerHTML = t, this.HC.style.stroke = this.color, this.HC.setAttribute("stroke", this.color), this.RC.setAttribute("transform", "rotate(" + s + " " + n / 2 + " 0)"), this.RC.style.transform = "rotate(" + s + "deg)" }, OC: function() { this.config.minRange, this.config.maxRange, this.gradientLength = (this.cg(this.config.value) - this.config.minRange) / (this.config.maxRange - this.config.minRange); var t = this.config.color; this.color = t ? "function" == typeof t ? t.call(this, this.config.value) : t : "hsl(" + (120 - Math.round(120 * this.gradientLength)) + ", 100%, 50%)", !0 === this.config.animation ? this.defaultColor = "hsl(125, 100%, 50%)" : this.defaultColor = "hsl(" + (120 - Math.round(120 * this.gradientLength)) + ", 100%, 50%)" }, BC: function() { var t = this.config.smoothFlow && G.svganimation && !G.isEdge; this.gradientLength = 0, this.OC(), this.$view.innerHTML = '<div class="webix_gage_box"><div>\n\t\t\t<div class="webix_gage_label"><span>'.concat(this.config.label || "", '</span></div>\n\t\t\t<svg class="webix_gage_body" style="height:300px; position: relative;">\n\t\t\t\t<circle class="webix_gage_curves" r="0" cx="50%" cy="0" stroke="#EEEEEE" fill="none"></circle>\n\t\t\t\t<circle class="webix_gage_gradient').concat(t ? " webix_gage_animated" : "", '" r="0" stroke=').concat(this.defaultColor, ' cx="50%" cy="0" fill="none" style="stroke-dasharray: 0, 1900;"></circle>\n\t\t\t\t<line class="webix_gage_gradient_point').concat(t ? " webix_gage_gradient_point_animated" : "", '" x1="0" x2="0" y1="0" y2="0" style="stroke:#B0B0B0; stroke-width:4;"></line>\n\t\t\t</svg>\n\t\t\t<div class="webix_gage_info">\n\t\t\t\t<div class="webix_gage_min_range">').concat(this.config.minRange, '</div>\n\t\t\t\t<div class="webix_gage_max_range">').concat(this.config.maxRange, '</div>\n\t\t\t\t<div class="webix_gage_placeholder">\n\t\t\t\t\t<div class="webix_gage_value">').concat(this.config.value, '</div>\n\t\t\t\t\t<div class="webix_gage_range_info">').concat(this.config.placeholder || "", "</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div></div>"), this.HC = this.$view.querySelector(".webix_gage_gradient"), this.RC = this.$view.querySelector(".webix_gage_gradient_point"), this.EC = this.$view.querySelector(".webix_gage_body") }, refresh: function() { var t = this.config.value; this.config.smoothFlow && t != this.jC && (this.config.value = this.jC), this.BC(), this.PC(), this.jC != t && this.Vt.parentNode.clientHeight && this.setValue(t) }, setValue: function(t) { this.config.value = t, this.OC(), this.PC() }, getValue: function() { return this.config.value }
		}), Nh = (T.protoUI(jh, g, Ri.view), {
			name: "barcode", defaults: { type: "ean13", height: 160, width: 220, paddingY: 10, paddingX: 20, textHeight: 20, color: "#000", ariaLabel: "bars" }, $init: function() { this.$view.className += " webix_barcode", this.types || (this.types = { "default": this.type }, this.type.name = "default") }, type: {}, render: function() { this.isVisible(this.P.id) && (this.canvas && this.canvas.clearCanvas(!0), this.$view.innerHTML = "", this.WC()) }, WC: function() { this.canvas = new Ni({ container: this.$view, name: this.name, title: this.P.ariaLabel, width: this.$width, height: this.$height }), this.UC() }, UC: function() {
				var t, i, e, s, n = this.P.value, r = this.P.type; if (!r || !this.types[r] || !n) return !1; if (s = (t = this.type.encode(n)).length, i = this.canvas.getCanvas(), s) {
					var h = (this.$width - 2 * this.config.paddingX) / s, o = 0; for (e = 0; e < s; e++) {
						parseInt(
							t.charAt(e), 10) ? (o++, e == s - 1 && this.YC(i, e + 1, h, o, s)) : o && (this.YC(i, e, h, o, s), o = 0)
					} this.qC(n, h)
				}
			}, YC: function(t, i, e, s, n) { var r, h, o, a; h = parseInt(i * e + this.config.paddingX, 10), r = parseInt(h - s * e, 10), o = this.config.paddingY, a = this.$height - this.config.paddingY - this.config.textHeight, this.GC() && (i < 4 || n - 4 < i || i < n / 2 + 2 && n / 2 - 2 < i) && (a += this.config.textHeight / 2), t.fillStyle = this.config.color, t.beginPath(), t.moveTo(r, o), t.lineTo(h, o), t.lineTo(h, a), t.lineTo(r, a), t.lineTo(r, o), t.fill() }, qC: function(t, i) { var e, s, n; if (this.type.template && (t = this.type.template(t)), this.GC()) { if (this.type.firstDigit && (this.canvas.renderTextAt(!0, "left", this.config.paddingX, this.$height - this.config.paddingY, t.charAt(0)), t = t.slice(1)), s = t.length, this.type.lastDigit && s--, s) { var r = (this.$width - 2 * this.config.paddingX - 11 * i) / s; for (e = 0; e < s; e++)n = this.config.paddingX + e * r + (e < s / 2 ? 3 : 8) * i + r / 2, this.canvas.renderTextAt(!0, !0, n, this.$height - this.config.paddingY, t.charAt(e)); this.type.lastDigit && (n = this.config.paddingX + s * r + 11 * i, this.canvas.renderTextAt(!0, !1, n, this.$height - this.config.paddingY, t.charAt(s))) } } else this.canvas.renderTextAt(!0, !0, this.$width / 2, this.$height - this.config.paddingY, t) }, setValue: function(t) { return this.P.value = t, this.render(), t }, getValue: function() { var t = this.P.value; return this.type.template ? this.type.template(t) : t }, type_setter: function(t) { return this.types[t] ? (this.type = l(this.types[t]), this.type.css && (this.Wi.className += " " + this.type.css)) : this.customize(t), t }, GC: function() { var t = this.config.type; return 0 === t.indexOf("ean") || -1 != t.indexOf("upcA") }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && this.render() }
		}), Lh = T.protoUI(Nh, Ri.view); ii(Lh, { name: "upcA", firstDigit: !0, lastDigit: !0, encode: function(t) { return t.length < 12 && (t = "0" + t), Oh.encode(t) }, template: function(t) { return t.replace(/[^0-9]/g, "").substring(0, 11) + this.checksum(t) }, checksum: function(t) { return t.length < 12 && (t = "0" + t), Oh.checksum(t) } }), ii(Lh, { name: "ean8", encodings: [["0001101", "1110010"], ["0011001", "1100110"], ["0010011", "1101100"], ["0111101", "1000010"], ["0100011", "1011100"], ["0110001", "1001110"], ["0101111", "1010000"], ["0111011", "1000100"], ["0110111", "1001000"], ["0001011", "1110100"]], encode: function(t) { var i, e; if (7 != (t = t.replace(/[^0-9]/g, "").substring(0, 7)).length) return ""; for (t += this.checksum(t), i = "101", e = 0; e < 4; e++)i += this.encodings[parseInt(t.charAt(e), 10)][0]; for (i += "01010", e = 4; e < 8; e++)i += this.encodings[parseInt(t.charAt(e), 10)][1]; return i += "101" }, template: function(t) { return t.replace(/[^0-9]/g, "").substring(0, 7) + this.checksum(t) }, checksum: function(t) { t = t.substring(0, 7); var i, e = !0, s = 0; for (i = 0; i < 7; i++)s += (e ? 3 : 1) * parseInt(t.charAt(i), 10), e = !e; return ((10 - s % 10) % 10).toString() } }); var Oh = { name: "ean13", firstDigit: !0, encodings: [["0001101", "0100111", "1110010", "000000"], ["0011001", "0110011", "1100110", "001011"], ["0010011", "0011011", "1101100", "001101"], ["0111101", "0100001", "1000010", "001110"], ["0100011", "0011101", "1011100", "010011"], ["0110001", "0111001", "1001110", "011001"], ["0101111", "0000101", "1010000", "011100"], ["0111011", "0010001", "1000100", "010101"], ["0110111", "0001001", "1001000", "010110"], ["0001011", "0010111", "1110100", "011010"]], encode: function(t) { var i, e, s; if (12 != (t = t.replace(/[^0-9]/g, "").substring(0, 12)).length) return ""; for (t += this.checksum(t), i = "101", e = this.encodings[parseInt(t.charAt(0), 10)][3], s = 1; s < 7; s++)i += this.encodings[parseInt(t.charAt(s), 10)][parseInt(e.charAt(s - 1), 10)]; for (i += "01010", s = 7; s < 13; s++)i += this.encodings[parseInt(t.charAt(s), 10)][2]; return i += "101" }, template: function(t) { return t.replace(/[^0-9]/g, "").substring(0, 12) + this.checksum(t) }, checksum: function(t) { var i, e = !1, s = 0; for (t = t.substring(0, 12), i = 0; i < 12; i++)s += (e ? 3 : 1) * parseInt(t.charAt(i), 10), e = !e; return ((10 - s % 10) % 10).toString() } }; ii(Lh, Oh); var Wh, Uh, Yh, qh, Gh = {
			name: "bullet", defaults: { color: "#394646", marker: !1, layout: "x", barWidth: 40, flowTime: 500, labelWidth: 150, minRange: 0, maxRange: 100, stroke: 8, value: 0, smoothFlow: !0, tickSize: 10, bands: [{ value: 100, color: "#5be5d6" }, { value: 80, color: "#fff07e" }, { value: 60, color: "#fd8b8c" }], scale: { step: 10 } }, label_setter: qt, placeholder_setter: qt, $init: function(t) {
				var i = "undefined" != typeof t.tickSize ? t.tickSize : this.defaults.tickSize; t && (t.layout && "x" !== t.layout || !V(t.height) || (t.height = !1 === t.scale ? 60 : i ? 76 + i : 74), "y" === t.layout && V(t.width) && (t.width = !1 === t.scale ? 60 : i ? 87 + i : 87))
			}, scale_setter: function(t) { return t && (t.step = t.step || 10, t.template = qt(t.template || "#value#")), t }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && (this.BC("y" === this.P.layout ? i : t), (this.P.value || 0 === this.P.value) && this.LC(0, this.P.value)) }, cg: function(t) { return Math.min(Math.max(t, this.P.minRange), this.P.maxRange) - this.P.minRange }, XC: function(t) { var i; this.KC = t - (this.os || t), this.os = t, (1e3 < (i = this.P.flowTime > this.KC ? this.P.flowTime / this.KC : this.P.flowTime) || i < 5) && (i = 30); var e = (this.P.value - this.JC) / i; this.ZC += e, Math.abs(this.ZC - this.P.value) < Math.abs(e) && (this.ZC = this.P.value), this.ZC != this.P.value ? this.QC = requestAnimationFrame(this.XC.bind(this)) : (cancelAnimationFrame(this.QC), this.QC = null), this.t$.setAttribute("width", Math.floor(this.cg(this.ZC) * this.i$)), this.t$.style.fill = this.Xc() }, LC: function(t, i) { this.JC = this.ZC = t, this.P.value = this.jC = i, !0 === this.isVisible() && !0 === this.P.smoothFlow && window.requestAnimationFrame ? this.QC || (this.QC = requestAnimationFrame(this.XC.bind(this))) : (this.t$.setAttribute("width", Math.floor(this.cg(i) * this.i$)), this.t$.style.fill = this.Xc()) }, Xc: function() { var t = this.P.color; return "function" == typeof t ? t(this.jC) : t }, e$: function(t, i, e) { for (var s = 0; s < i.length; s++)t.setAttribute(i[s], e[s]) }, s$: function(t, i, e) { var s = document.createElementNS("http://www.w3.org/2000/svg", t); return i && this.e$(s, i, e), s }, n$: function(t) { var i = this.s$(t[0], t[1], t[2]), e = t[3]; if (e) for (var s = 0; s < e.length; s++)i.appendChild(this.n$(e[s])); return i }, r$: function() {
				var t = "d" + z(), i = this.s$("svg", ["class"], ["webix_bullet_graph_svg"]), e = this.s$("g"), s = this.s$("g"), n = this.s$("rect", ["x", "y", "width", "height", "class", "style"], [this.h$, this.o$, 100, this.P.stroke, "webix_bullet_value", "filter:url(#" + t + ");fill:" + this.Xc()]), r = this.s$("rect", ["x", "y", "width", "height", "fill"], [0, 5, 3, this.P.barWidth - 10, "rgba(0,0,0,0.5)"]), h = this.s$("g", ["stroke", "stroke-width", "fill"], ["#8b94ac", "2", "none"]), o = this.s$("text", ["text-anchor", "stroke", "fill"], ["end", "none", "#8b94ac"]), a = "y" == this.P.layout ? "50%" : this.h$ - 10, u = "y" == this.P.layout ? 11 : 17, c = this.s$("tspan", ["x", "y", "class"], [a, u, "webix_bullet_header"]), f = this.s$("tspan", ["x", "y", "class"], [a, u + 17, "webix_bullet_subheader"]), l = this.s$("text", ["text-anchor", "stroke", "class", "fill"], ["middle", "none", "webix_bullet_scale", "#8b94ac"]), d = this.n$(["filter", ["id", "x", "y", "width", "height"], [t, "0", "-150%", "110%", "400%"], [["feOffset", ["in", "dx", "dy"], ["SourceAlpha", 0, 0]], ["feGaussianBlur", ["stdDeviation"], ["2"]], ["feComponentTransfer", 0, 0, [["feFuncA", ["type", "slope"], ["linear", "0.5"]]]], ["feMerge", 0, 0, [["feMergeNode"], ["feMergeNode", ["in"], ["SourceGraphic"]]]]]]); i.appendChild(d); var v = document.createElement("div"); e.appendChild(s), !1 !== this.P.marker && (r.setAttribute("x", this.h$ + this.cg(this.P.marker) * this.i$ - 2), e.appendChild(r)), e.appendChild(n), o.appendChild(c), o.appendChild(f), i.appendChild(o); var _ = "y" === this.P.layout, p = this.P.tickSize; if (this.P.scale) { for (var b = this.h$, m = this.P.minRange; m <= this.P.maxRange; m += this.P.scale.step) { var g = Math.max(m - this.P.minRange, 0), w = Math.floor(g * this.i$ - (g ? .1 : -1)), x = _ ? (this.$width - this.P.barWidth) / 2 + (p ? 2 - p : 4) : w + b, y = _ ? this.a$ + b - w + 6 : this.P.barWidth + (p ? 16 + p : 14), M = _ ? -4 : this.P.barWidth + 3 + p, S = _ ? "end" : "middle", k = this.s$("tspan", ["x", "y", "text-anchor"], [x, y, S]), C = this.s$("line", ["x1", "y1", "x2", "y2", "stroke-width"], [w + b, M, w + b, M - p, 1]); v.innerHTML = this.P.scale.template({ value: m }), k.appendChild(v.childNodes[0]), l.appendChild(k), h.appendChild(C) } e.appendChild(h), i.appendChild(l) } for (var $ = 0; $ < this.P.bands.length; $++) { var D = this.P.bands[$], I = this.s$("path"), A = this.cg(D.value) * this.i$; I.setAttribute("d", "M " + this.h$ + ",0 l " + A + ",0 l 0," + this.P.barWidth + " l -" + A + ",0 z"), I.setAttribute("fill", D.color), s.appendChild(I) } if (i.appendChild(e), "y" === this.P.layout) {
					var F = this.P.scale ? this.$width / 2 - 10 : 0, T = this.$height + this.h$ - 28; e.setAttribute("transform",
						"translate(" + F + ", " + T + ") rotate(270)"), o.setAttribute("text-anchor", "middle"), o.childNodes[0].setAttribute("x", "55%"), o.childNodes[1].setAttribute("x", "55%"), l.setAttribute("text-anchor", "right")
				} return i.setAttribute("viewBox", "0 0 " + this.$width + " " + this.$height), i
			}, BC: function(t) { this.config.minRange, this.config.maxRange, t = t || ("x" == this.P.layout ? this.$width : this.$height); var i = this.$view; i.innerHTML = ""; var e = this.P, s = e.label && e.label(e) || e.placeholder && e.placeholder(e); this.h$ = s ? e.labelHeight || e.labelWidth : 7, this.o$ = Math.floor((this.P.barWidth - this.P.stroke) / 2), this.a$ = t - this.h$ - 30, this.i$ = this.a$ / (this.P.maxRange - this.P.minRange); var n = this.r$(); n.setAttribute("height", this.$height), n.setAttribute("width", this.$width), i.appendChild(n), this.t$ = i.querySelector(".webix_bullet_value"); var r = this.P.label; r && (this.$view.querySelector(".webix_bullet_header").textContent = r(this.P)); var h = this.P.placeholder; h && (this.$view.querySelector(".webix_bullet_subheader").textContent = h(this.P)) }, refresh: function() { this.BC(), this.LC(this.jC, this.P.value) }, setValue: function(t) { this.P.value != t && this.LC(this.P.value, t) }, getValue: function() { return this.P.value }
		}, Xh = (T.protoUI(Gh, Ri.view), {
			name: "geochart", defaults: { chart: { displayMode: "auto", region: "world", resolution: "countries" } }, $init: function(t) { this.$view.innerHTML = "<div class='webix_map_content' style='width:100%;height:100%'></div>", this.Wi = this.$view.firstChild, this.u$ = b.defer(), t.chart = T.extend(t.chart || {}, this.defaults.chart), this.data.provideApi(this, !0), this.$ready.push(this.render), this.data.attachEvent("onClearAll", S(this.c$, this)), this.data.attachEvent("onStoreUpdated", S(this.f$, this)) }, getMap: function(t) { return t ? this.u$ : this._u }, l$: function(t) { return S(function() { "function" == typeof t && t(), Wh = Wh || window.google, this.d$() }, this) }, render: function() { "undefined" == typeof window.google || "undefined" == typeof window.google.charts ? (Uh || ((Uh = document.createElement("script")).type = "text/javascript", Uh.src = "//www.gstatic.com/charts/loader.js", document.getElementsByTagName("head")[0].appendChild(Uh)), Uh.onload = this.l$(Uh.onload)) : this.l$()() }, d$: function() { Wh.visualization && Wh.visualization.GeoChart ? (this._u = new Wh.visualization.GeoChart(this.Wi), this.v$(), this.u$.resolve(this._u)) : (Wh.charts.load("current", { packages: ["geochart"], mapsApiKey: this.P.key }), Wh.charts.setOnLoadCallback(S(function() { this.d$() }, this))) }, $onLoad: function(t) { return !this._u && (this.u$.then(S(function() { this.parse(t, this.P.datatype) }, this)), !0) }, f$: function() { if (this._u) { var n = this.hl && this.hl.length ? this.hl : this._$(), r = []; if (this.data.each(function(t) { for (var i = [], e = 0; e < n.length; e++) { var s = t[n[e].label]; "number" == n[e].type ? s *= 1 : "tooltip" == n[e].role && (s = this.P.tooltip(t)), i.push(s) } r.push(i) }, this), n.length) { for (var t = new Wh.visualization.DataTable, i = 0; i < n.length; i++)t.addColumn(n[i]); t.addRows(r); var e = new Wh.visualization.DataView(t); this._u.draw(e, this.P.chart) } else this._u.draw(Wh.visualization.arrayToDataTable([["", ""]]), {}) } else this._u || this.u$.then(S(this.f$, this)) }, setDisplayMode: function(t) { this.P.chart.displayMode = t, this.refresh() }, setRegion: function(t) { this.P.chart.region = t, this.refresh() }, refresh: function() { this._u.clearChart(), this.f$() }, tooltip_setter: function(t) { var i = this.P.chart.tooltip; return this.P.chart.tooltip = T.extend(i || {}, { isHtml: !0 }), qt(t) }, $setSize: function(t, i) { Ri.api.$setSize.apply(this, arguments) && this._u && (T.extend(this.P, { width: t, height: i }), this.refresh()) }, c$: function() { this.hl = null, this.f$() }, p$: function(t, i) { if (!t || V(t[i])) return "string"; var e = M(t[i]); return "string" != e || isNaN(1 * t[i]) || (e = "number"), e }, _$: function() { var t = this.P.columns || [], i = this.data.pull[this.data.order[0]]; if (!t.length && i) for (var e in i) "id" !== e && t.push(e); for (var s = 0; s < t.length; s++)"object" !== M(t[s]) && (t[s] = { type: this.p$(i, t[s]), label: t[s] }); return this.P.tooltip && t.push({ type: "string", role: "tooltip", p: { html: !0 } }), this.hl = t }, v$: function() {
				Wh.visualization.events.addListener(this._u, "error", S(function() { this.callEvent("onMapError", arguments) }, this)), Wh.visualization.events.addListener(this._u, "ready", S(function() {
					this.callEvent("onMapReady", arguments)
				}, this)), Wh.visualization.events.addListener(this._u, "regionClick", S(function() { this.callEvent("onRegionClick", arguments) }, this)), Wh.visualization.events.addListener(this._u, "select", S(function() { var t = this._u.getSelection()[0], i = t || this.b$; if (i) { var e = this.data.order[i.row]; this.b$ = i, this.callEvent("onItemClick", [e, !!t]) } }, this))
			}
		}), Kh = (T.protoUI(Xh, be, g, Ri.view), { name: "google-map", $init: function() { this.$view.innerHTML = "<div class='webix_map_content' style='width:100%;height:100%'></div>", this.Wi = this.$view.firstChild, this.u$ = b.defer(), this.data.provideApi(this, !0), this.$ready.push(this.render) }, getMap: function(t) { return t ? this.u$ : this._u }, l$: function(t) { return S(function() { "function" == typeof t && t(), Yh = Yh || window.google, this.d$.call(this) }, this) }, render: function() { if ("undefined" == typeof window.google || "undefined" == typeof window.google.maps) { if (!qh) { (qh = document.createElement("script")).type = "text/javascript"; var t = this.P, i = t.src || "//maps.google.com/maps/api/js"; i += -1 === i.indexOf("?") ? "?" : "&", t.key && (i += "&key=" + t.key), t.libraries && (i += "&libraries=" + t.libraries), qh.src = i, document.getElementsByTagName("head")[0].appendChild(qh) } qh.onload = this.l$(qh.onload) } else this.l$()() }, d$: function() { var t = this.config; this.isVisible(t.id) && (this._u = new Yh.maps.Map(this.Wi, { zoom: t.zoom, center: new Yh.maps.LatLng(t.center[0], t.center[1]), mapTypeId: Yh.maps.MapTypeId[t.mapType] }), this.u$.resolve(this._u), this.Wi.firstChild.setAttribute("webix_disable_drag", "true")) }, center_setter: function(t) { return this._u && this._u.setCenter(new Yh.maps.LatLng(t[0], t[1])), t }, mapType_setter: function(t) { return this._u && this._u.setMapTypeId(Yh.maps.MapTypeId[t]), t }, zoom_setter: function(t) { return this._u && this._u.setZoom(t), t }, layerType_setter: function(t) { return "heatmap" == t && (this.config.libraries = "visualization"), this.m$[t] && (T.extend(this, this.m$[t], !0), this.data.attachEvent("onStoreUpdated", S(function() { this.u$.then(S(function() { this.drawData.call(this, arguments) }, this)) }, this))), t }, defaults: { zoom: 5, center: [39.5, -98.5], mapType: "ROADMAP", layerType: "marker" }, $setSize: function() { Ri.api.$setSize.apply(this, arguments), this._u && Yh.maps.event.trigger(this._u, "resize") }, $onLoad: function(t) { return !this._u && (this.u$.then(S(function() { this.parse(t) }, this)), !0) }, m$: { marker: { drawData: function(t, i, e) { switch (e) { case "add": case "update": i.$marker = this.g$(i); break; case "delete": i.$marker.setMap(null); break; default: this.data.each(function(t) { t.$marker = this.g$(t) }, this) } }, clearAll: function(t) { this.data.each(function(t) { t.$marker.setMap(null) }), this.data.clearAll(t) }, showItem: function(t) { var i = this.getItem(t); this._u.setCenter(new Yh.maps.LatLng(i.lat, i.lng)) }, g$: function(t) { var i = {}; for (var e in t) i[e] = t[e]; i.position = new Yh.maps.LatLng(t.lat, t.lng), i.map = t.hidden ? null : this._u; var s = t.$marker; return s ? t.$marker.setMap(i.map) : (s = new Yh.maps.Marker(i), this.yt(s)), this.callEvent("onItemRender", [t]), s }, yt: function(t) { var i = this; t.addListener("click", function() { i.callEvent("onItemClick", [this.id, this]) }), t.getDraggable() && (t.addListener("dragend", function() { i.w$(this, !0) }), t.addListener("drag", function() { i.w$(this) })) }, w$: function(t, i) { var e = this.getItem(t.id), s = t.getPosition(), n = i ? "onAfterDrop" : "onDrag"; e.lat = s.lat(), e.lng = s.lng(), this.callEvent(n, [e.id, e]) } }, heatmap: { heatmapConfig_setter: function(t) { return t = t || {} }, drawData: function() { this.x$ && (this.x$.setMap(null), this.x$ = null); var i = []; if (this.data.each(function(t) { i.push(this.y$(t)) }, this), i.length) { var t = T.extend(this.config.heatmapConfig, { data: i, map: this._u }, !0); this.x$ = new Yh.maps.visualization.HeatmapLayer(t), this.callEvent("onHeatMapRender", [this.x$]) } }, getHeatmap: function() { return this.x$ }, y$: function(t) { var i = {}; for (var e in t) i[e] = t[e]; return i.location = new Yh.maps.LatLng(t.lat, t.lng), i } } } }), Jh = (T.protoUI(Kh, be, g, Ri.view), {
			name: "organogram", defaults: { scroll: "auto", ariaLabel: "lines" }, $init: function() { this.Vt.className += " webix_organogram", this.Oi = document.createElement("DIV"), this.$ready.push(this.M$), T.extend(this.data, ds, !0), this.data.provideApi(this, !0) }, ea: "webix_dg_id", on_click: {
				webix_organogram_item: function(t, i) { this.P.select && ("multiselect" == this.P.select || this.P.multiselect ? this.select(i, !1, t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, t.shiftKey) : this.select(i), this.Hm = !1) }
			}, on_context: {}, on_dblclick: {}, M$: function() { this.tt.style.position = "relative", this.data.attachEvent("onStoreUpdated", S(this.render, this)) }, df: function(t) { var i = this.data.Fh[t.id]; return this.callEvent("onItemRender", [t]), this.type.templateStart.call(this, t, this.type, i) + (t.$template ? this.type["template" + t.$template].call(this, t, this.type, i) : this.type.template.call(this, t, this.type, i)) + this.type.templateEnd.call(this) }, Q: function(t) { var i = this.df(t); return this.data.branch[t.id] && (i += this.S$(t.id)), i }, k$: function() { return this.type.listMarginX || this.type.listMarginY }, S$: function(t, i) { var e, s, n, r, h = "", o = this.data.branch[t], a = this.data.Fh[t], u = this.getItem(t), c = !!u && u.$type; if (i = i || 0, "list" === c && (i += this.type.listMarginX), t || (this.C$ = [], this.$xy = {}, r = this.$width - 2 * this.type.padding, this.$xy[0] = { totalWidth: r, start: this.type.padding, width: 0, height: 0, left: r / 2, top: this.type.padding || 0 }), o) { n = this.$xy[t], "list" != c || this.k$() || (h += this.type.templateListStart.call(this, u, this.type, a)); var f = 0, l = 0; for (e = 0; e < o.length; e++) { s = o[e], r = this.D$[s]; var d = this.getItem(s); d.open == undefined && (d.open = !0), "list" == c && this.data.addMark(s, "list_item", "", 1, !0); var v = this.I$(s); if ("list" == c) { var _ = 0; this.k$() ? _ = this.type.listMarginY : e || (_ = this.type.marginY), this.$xy[s] = { totalWidth: r, start: n.start, width: this.type.width, height: v, left: n.start + r / 2 - this.type.width / 2 + i, top: e ? this.$xy[o[e - 1]].top + this.$xy[o[e - 1]].height + _ + l : n.top + n.height + _ }, l = this.data.branch[s] ? this.A$(s) : 0 } else this.$xy[s] = { totalWidth: r, start: n.start + f, width: this.type.width, height: v, left: n.start + f + r / 2 - this.type.width / 2, top: n.top + n.height + (t ? this.type.marginY : 0) }; h += this.df(d), f += r } for (e = 0; e < o.length; e++)s = o[e], this.data.branch[s] && this.getItem(s).open ? h += this.S$(s, i) : u && ("list" != u.$type ? this.C$.push(this.$xy[s].top + this.$xy[s].height) : e == o.length - 1 && this.C$.push(this.$xy[s].top + this.$xy[s].height)); var p = 0; for (var b in this.$xy) { var m = this.$xy[b]; p = Math.max(m.left + m.width, p) } this.tt.style.width = p + this.type.padding + this.type.marginX / 2 + "px", "list" != c || this.k$() || (h += this.type.templateListEnd(u, this.type, a)) } return h }, A$: function(t) { for (var i = this.data.branch[t], e = 0, s = 0; s < i.length; s++)e += this.I$(i[s]) + this.type.listMarginY, this.data.branch[i[s]] && (e += this.A$(i[s])); return e + this.type.marginY }, I$: function(t) { var i = this.getItem(t), e = this.type.height; return "function" == typeof e && (e = e.call(i, this.type, this.data.Fh[t])), this.F$ || (this.F$ = lt("div"), this.tt.appendChild(this.F$)), this.F$.className = this.type.classname(i, this.type, this.data.Fh[t]), this.F$.style.cssText = "width:" + this.type.width + "px;height:" + e + ("auto" == e ? "" : "px") + ";", this.F$.innerHTML = this.type.template.call(this, i, this.type, this.data.Fh[t]), this.F$.scrollHeight }, T$: function() { var n = {}, r = this.type.width, h = this.type.marginX; return this.data.each(function(t) { n[t.id] = r + h; var i = this.getParentId(t.id); if (i && "list" != this.getItem(i).$type) for (; i;) { for (var e = this.branch[i], s = n[i] = 0; s < e.length; s++)n[i] += n[e[s]] || 0; i = this.getParentId(i) } }), this.D$ = n }, getItemNode: function(t) { if (this.Ni) return this.Ni[t]; this.Ni = {}; for (var i = this.tt.childNodes, e = 0; e < i.length; e++) { var s = i[e].getAttribute(this.ea); if (s && (this.Ni[s] = i[e]), -1 != i[e].className.indexOf("webix_organogram_list") && !this.k$()) for (var n = i[e].childNodes, r = 0; r < n.length; r++)(s = n[r].getAttribute(this.ea)) && (this.Ni[s] = n[r]) } return this.getItemNode(t) }, xc: function(t) { return this.Oi.innerHTML = this.df(t), this.Oi.firstChild }, render: function(t, i, e) { if (this.isVisible(this.P.id) && !this.$blockRender) { if ("update" != e) return this.callEvent("onBeforeRender", [this.data]) && (this.T$(), this.Ni = null, this.tt.innerHTML = this.S$(0), this.F$ = null, this.tt.style.height = Math.max.apply(Math, this.C$) + this.type.padding + "px", this.WC(), this.resize(), this.callEvent("onAfterRender", [])), !0; var s = this.getItemNode(t); return _t(this.Ni[t] = this.xc(i), s), vt(s), !0 } }, WC: function() {
				this.canvas && this.canvas.clearCanvas(!0),
				this.canvas = new Ni({ container: this.tt, name: this.name, title: this.P.ariaLabel, width: this.tt.offsetWidth, height: this.tt.offsetHeight }), this.V$(0)
			}, z$: function(t, i, e, s, n, r, h) { t.strokeStyle = r, t.lineCap = "square", t.lineWidth = h, t.beginPath(), t.moveTo(i, e), t.lineTo(s, n), t.stroke(), t.lineWidth = 1 }, V$: function(t, i) { var e, s, n, r, h, o, a, u, c, f; if (i || (i = this.canvas.getCanvas()), this.$xy && (t = t || 0, n = this.data.branch[t], s = this.getItem(t), n && n.length)) { if (r = this.$xy[t], t) if (o = parseInt(r.left + r.width / 2, 10) + .5, a = parseInt(r.top + r.height, 10), u = parseInt(r.top + r.height + this.type.marginY / 2, 10), "list" == s.$type) { if (!this.k$()) return u = parseInt(r.top + r.height + this.type.marginY, 10), void this.z$(i, o, a, o, u, this.type.lineColor) } else this.z$(i, o, a, o, u, this.type.lineColor); for (a = parseInt(r.top + r.height + this.type.marginY / 2, 10) + .5, e = 0; e < n.length; e++)t && (h = this.$xy[n[e]], "list" == s.$type && this.k$() ? (o = parseInt(r.left + this.type.listMarginX / 2, 10) + .5, e ? e == n.length - 1 && (f = o) : c = o, u = parseInt(h.top + h.height / 2, 10), this.z$(i, o, a - this.type.marginY / 2, o, u, this.type.lineColor), this.z$(i, o, u, o + this.type.listMarginX / 2, u, this.type.lineColor)) : (o = parseInt(h.left + h.width / 2, 10) + .5, e ? e == n.length - 1 && (f = o) : c = o, u = parseInt(h.top, 10), this.z$(i, o, a, o, u, this.type.lineColor))), this.getItem(n[e]).open && this.V$(n[e], i); t && this.z$(i, c, a, f, a, this.type.lineColor) } }, $getSize: function(t, i) { var e = this.P.autowidth, s = this.P.autoheight; return e && (t = this.tt.offsetWidth + (this.tt.offsetHeight > i && !s ? G.scrollSize : 0)), s && (i = this.tt.offsetHeight + (this.tt.offsetWidth > t && !e ? G.scrollSize : 0)), Ri.api.$getSize.call(this, t, i) }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i) && (this.tt.style.width = this.$width + "px", this.tt.style.height = this.$height + "px", this.render()) }, type: { width: 120, height: "auto", padding: 20, marginX: 20, marginY: 20, listMarginX: 0, listMarginY: 0, lineColor: Oi.organogramLineColor || "#90caf9", classname: function(t, i, e) { var s = "webix_organogram_item"; return t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css), e && e.list_item && (s += " webix_organogram_list_item"), e && e.$css && (s += e.$css), s += " webix_organogram_level_" + t.$level, i.css && (s += " " + i.css), s }, listClassName: function(t) { var i = "webix_organogram_list webix_organogram_list_" + t.$level; return t.$listCss && ("object" == M(t.$listCss) && (t.$listCss = ut(t.$listCss)), i += " " + t.$listCss), i }, template: qt("#value#"), templateStart: function(t, i, e) { var s = ""; if ((!e || !e.list_item || i.listMarginX || i.listMarginY) && this.$xy) { var n = this.$xy[t.id]; s += "width: " + n.width + "px; height: " + n.height + "px;", s += "top: " + n.top + "px; left: " + n.left + "px;" } return '<div webix_dg_id="' + t.id + '" class="' + i.classname.call(this, t, i, e) + '"' + (s ? 'style="' + s + '"' : "") + '">' }, templateEnd: qt("</div>"), templateListStart: function(t, i, e) { var s = ""; if (this.$xy) { var n = this.$xy[t.id]; s += "width: " + n.width + "px;", s += "top: " + (n.top + n.height + i.marginY) + "px; left: " + n.left + "px;" } return '<div class="' + i.listClassName.call(this, t, i, e) + '"' + (s ? 'style="' + s + '"' : "") + '">' }, templateListEnd: qt("</div>") }
		}), Zh = (T.protoUI(Jh, ji, Ae, os, ue, Oe, He, Le, Ne, us, be, Ri.view, g), {
			$render_pie: function(t, i, e, s, n, r) { this.B$(t, i, e, s, 1, r, n) }, B$: function(t, i, e, s, n, r, h) {
				if (i.length) {
					var o = this.H$(e, s), a = this.P.radius ? this.P.radius : o.radius; if (!(a < 0)) {
						var u = this.R$(i), c = this.Zc(u), f = this.Jc(u, c), l = this.P.x ? this.P.x : o.x, d = this.P.y ? this.P.y : o.y; 1 == n && this.P.shadow && this.E$(t, l, d, a), d /= n; var v, _ = -Math.PI / 2, p = []; if (t.scale(1, n), this.P.gradient) { var b = 1 != n ? l + a / 3 : l, m = 1 != n ? d + a / 3 : d; this.P$(t, l, d, a, b, m) } for (var g = 0; g < i.length; g++)if (u[g]) { t.strokeStyle = this.P.lineColor.call(this, i[g]), t.beginPath(), t.moveTo(l, d), p.push(_); var w = -Math.PI / 2 + f[g] - 1e-4; t.arc(l, d, a, _, w, !1), t.lineTo(l, d); var x = this.P.color.call(this, i[g]); t.fillStyle = x, t.fill(), this.P.pieInnerText && this.j$(l, d, 5 * a / 6, _, w, n, this.P.pieInnerText(i[g], c), !0), this.P.label && this.j$(l, d, a + this.P.labelOffset, _, w, n, this.P.label(i[g])), 1 != n && (this.N$(t, l, d, _, w, a, !0), t.fillStyle = "#000000", t.globalAlpha = .2, this.N$(t, l, d, _, w, a, !1), t.globalAlpha = 1, t.fillStyle = x), r.addSector(i[g].id, _, w, l - e.x, d - e.y / n, a, n, h), _ = w } for (t.globalAlpha = .8, g = 0; g < p.length; g++)v = this.L$(p[g], l, d, a), this.z$(t, l, d, v.x, v.y, this.P.lineColor.call(
							this, i[g]), 2); (t.globalAlpha = 1) == n && this.P.border && (t.lineWidth = this.P.borderWidth || 2, t.strokeStyle = this.P.borderColor ? this.P.borderColor.call(this) : "#ffffff", t.beginPath(), t.arc(l, d, a + 1, 0, 2 * Math.PI, !1), t.stroke()), t.scale(1, 1 / n)
					}
				}
			}, R$: function(t) { for (var i = [], e = 0; e < t.length; e++)i.push(Math.abs(parseFloat(this.P.value(t[e])) || 0)); return i }, Zc: function(t) { for (var i = 0, e = 0; e < t.length; e++)i += t[e]; return i }, Jc: function(t, i) { var e, s = [], n = 0; i = i || this.Zc(t); for (var r = 0; r < t.length; r++)e = t[r], s[r] = 2 * Math.PI * (i ? (e + n) / i : 1 / t.length), n += e; return s }, H$: function(t, i) { var e = i.x - t.x, s = i.y - t.y; return { x: t.x + e / 2, y: t.y + s / 2, radius: Math.min(e / 2, s / 2) } }, N$: function(t, i, e, s, n, r, h) { if (t.lineWidth = 1, s <= 0 && 0 <= n || 0 <= s && n <= Math.PI || .003 < Math.abs(s - Math.PI) && s <= Math.PI && n >= Math.PI) { s <= 0 && 0 <= n && (s = 0, h = !1, this.O$(t, i, e, r, s, n)), s <= Math.PI && n >= Math.PI && (n = Math.PI, h = !1, this.O$(t, i, e, r, s, n)); var o = (this.P.pieHeight || Math.floor(r / 4)) / this.P.cant; t.beginPath(), t.arc(i, e, r, s, n, !1), t.lineTo(i + r * Math.cos(n), e + r * Math.sin(n) + o), t.arc(i, e + o, r, n, s, !0), t.lineTo(i + r * Math.cos(s), e + r * Math.sin(s)), t.fill(), h && t.stroke() } }, O$: function(t, i, e, s, n, r) { t.beginPath(), t.arc(i, e, s, n, r, !1), t.stroke() }, E$: function(t, i, e, s) { t.globalAlpha = .5; for (var n = ["#c4c4c4", "#c6c6c6", "#cacaca", "#dcdcdc", "#dddddd", "#e0e0e0", "#eeeeee", "#f5f5f5", "#f8f8f8"], r = n.length - 1; -1 < r; r--)t.beginPath(), t.fillStyle = n[r], t.arc(i + 1, e + 1, s + r, 0, 2 * Math.PI, !0), t.fill(); t.globalAlpha = 1 }, W$: function(t) { return t.addColorStop(0, "#ffffff"), t.addColorStop(.7, "#7a7a7a"), t.addColorStop(1, "#000000"), t }, P$: function(t, i, e, s, n, r) { var h; t.beginPath(), h = "function" != typeof this.P.gradient ? (h = t.createRadialGradient(n, r, s / 4, i, e, s), this.W$(h)) : this.P.gradient(h), t.fillStyle = h, t.arc(i, e, s, 0, 2 * Math.PI, !0), t.fill(), t.globalAlpha = .7 }, j$: function(t, i, e, s, n, r, h, o) { var a = this.canvases[0].renderText(0, 0, h, 0, 1); if (a) { var u = a.scrollWidth; a.style.width = u + "px", t < u && (u = t); var c = n - s < .2 ? 4 : 8; o && (c = u / 1.8); var f = s + (n - s) / 2; e -= (c - 8) / 2; var l = -c, d = "right"; (f >= Math.PI / 2 && f < Math.PI || f <= 3 * Math.PI / 2 && f >= Math.PI) && (l = -u - l + 1, d = "left"); var v = 0; !o && r < 1 && 0 < f && f < Math.PI && (v = (this.P.height || Math.floor(e / 4)) / r); var _ = (i + Math.floor((e + v) * Math.sin(f))) * r - 8, p = t + Math.floor((e + c / 2) * Math.cos(f)) + l, b = n < Math.PI / 2 + .01, m = s < Math.PI / 2; m && b ? p = Math.max(p, t + 3) : m || b ? !o && (f >= Math.PI / 2 && f < Math.PI || f <= 3 * Math.PI / 2 && f >= Math.PI) && (p += u / 3) : p = Math.min(p, t - u), a.style.top = _ + "px", a.style.left = p + "px", a.style.width = u + "px", a.style.textAlign = d, a.style.whiteSpace = "nowrap" } }, $render_pie3D: function(t, i, e, s, n, r) { this.B$(t, i, e, s, this.P.cant, r) }, $render_donut: function(t, i, e, s, n, r) { if (i.length) { this.B$(t, i, e, s, 1, r, n); var h = this.P, o = this.H$(e, s), a = h.radius ? h.radius : o.radius; if (!(a <= 0)) { var u = h.innerRadius && h.innerRadius < a ? h.innerRadius : a / 3, c = h.x ? h.x : o.x, f = h.y ? h.y : o.y; t.fillStyle = Oi.backColor, t.beginPath(), t.arc(c, f, u, 0, 2 * Math.PI, !0), t.fill() } } }
		}), Qh = {
			$render_bar: function(t, i, e, s, n, r) {
				var h, o, a, u, c, f, l, d, v, _, p, b, m, g = s.y - e.y; m = !!this.P.yAxis, b = !!this.P.xAxis, c = (u = this.U$()).max, f = u.min, o = (s.x - e.x) / i.length, n || "auto" != this.P.origin && !m || this.Y$(i, e, s, f, c, o), m && (c = parseFloat(this.P.yAxis.end), f = parseFloat(this.P.yAxis.start)), l = (v = this.q$(f, c))[0], d = v[1], p = l ? g / l : l, m || "auto" != this.P.origin && b || (_ = 10, p = l ? (g - _) / l : _), !n && "auto" != this.P.origin && !m && this.P.origin > f && this.G$(t, i, e, s, o, s.y - p * (this.P.origin - f)), h = parseInt(this.P.barWidth, 10); var w = 0, x = 0; for (a = 0; a < this.X$.length; a++)a == n && (x = w), "bar" == this.X$[a].type && w++; this.X$ && o < h * w + 4 && (h = parseInt(o / w - 4, 10)); var y = (o - h * w) / 2, M = "undefined" != typeof this.P.radius ? parseInt(this.P.radius, 10) : Math.round(h / 5), S = !1, k = this.P.gradient; for (k && "function" != typeof k ? (S = k, k = !1) : k && (k = t.createLinearGradient(0, s.y, 0, e.y), this.P.gradient(k)), b || this.z$(t, e.x, s.y + .5, s.x, s.y + .5, "#edeff0", 1), a = 0; a < i.length; a++) {
					var C = parseFloat(this.P.value(i[a]) || 0); if (this.K$ && (C = this.J$(C)), C && !isNaN(C)) {
						c < C && (C = c), C -= f, C *= d; var $ = e.x + y + a * o + (h + 1) * x, D = s.y, I = k || this.P.color.call(this, i[a]), A = this.P.border ? 1 : 0, F = this.P.label(i[a]); m || "auto" != this.P.origin && b ? C == this.P.origin || "auto" == this.P.origin && this.P.value(i[a]) == f ? (A = 0, F = "") : (C < 0 || this.P.yAxis && 0 === C && !("auto" != this.P.origin && this.P.origin > f)) && (
							C = A = 0, F = "") : C += _ / p, t.globalAlpha = this.P.alpha.call(this, i[a]); var T = this.YC(t, e, $, D, h, f, M, p, C, I, k, S, A); S && this.Z$(t, $, D, h, f, M, p, C, I, S, A), A && this.Q$(t, $, D, h, f, M, p, C, I), t.globalAlpha = 1, T[0] != $ ? this.canvases[n].renderTextAt(!1, !0, $ + Math.floor(h / 2), T[1], F) : this.canvases[n].renderTextAt(!0, !0, $ + Math.floor(h / 2), T[3], F), r.addRect(i[a].id, [$ - e.x, T[3] - e.y, T[2] - e.x, T[1] - e.y], n)
					}
				}
			}, tD: function(t, i, e, s, n, r, h) { var o = e; return "auto" != this.P.origin && this.P.origin > h && (o = e -= (this.P.origin - h) * n, (s -= this.P.origin - h) < 0 && (s *= -1, t.translate(i + r, e), t.rotate(Math.PI), e = i = 0), e -= .5), { value: s, x0: i, y0: e, start: o } }, YC: function(t, i, e, s, n, r, h, o, a, u, c, f, l) { t.save(), t.fillStyle = u; var d = this.tD(t, e, s, a, o, n, r), v = this.iD(t, d.x0, d.y0, n, h, o, d.value, l); c && !f && t.lineTo(d.x0 + l, i.y), t.fill(), t.restore(); var _ = d.x0, p = d.x0 != e ? e + v[0] : v[0]; return [_, d.x0 != e ? d.start - v[1] - d.y0 : d.y0, p, d.x0 != e ? d.start - d.y0 : v[1]] }, eD: function(t, i) { var e, s; s = We.toRgb(i), (e = We.rgbToHsv(s[0], s[1], s[2]))[2] /= 1.4; var n = "rgb(" + We.hsvToRgb(e[0], e[1], e[2]) + ")"; t.strokeStyle = n, 1 == t.globalAlpha && (t.globalAlpha = .9) }, Q$: function(t, i, e, s, n, r, h, o, a) { var u; t.save(), u = this.tD(t, i, e, o, h, s, n), this.eD(t, a), this.iD(t, u.x0, u.y0, s, r, h, u.value, t.lineWidth / 2, 1), t.stroke(), t.restore() }, Z$: function(t, i, e, s, n, r, h, o, a, u, c) { t.save(); var f = this.tD(t, i, e, o, h, s, n), l = this.sD(t, f.x0, f.y0, f.x0 + s, f.y0 - h * f.value + 2, u, a, "y"); t.fillStyle = l.gradient, this.iD(t, f.x0 + l.offset, f.y0, s - 2 * l.offset, r, h, f.value, l.offset + c), t.fill(), t.restore() }, iD: function(t, i, e, s, n, r, h, o, a) { t.beginPath(); var u = 0; if (r * h < n) { var c = (n - r * h) / n; c <= 1 && -1 <= c && (u = -Math.acos(c) + Math.PI / 2) } t.moveTo(i + o, e); var f = e - Math.floor(r * h) + n + (n ? 0 : o); n < r * h && t.lineTo(i + o, f); var l = i + n; n && 0 < n && t.arc(l, f, Math.max(n - o, 0), -Math.PI + u, -Math.PI / 2, !1); var d = i + s - n - o, v = f - n + (n ? o : 0); t.lineTo(d, v), n && 0 < n && t.arc(d + o, f, Math.max(n - o, 0), -Math.PI / 2, 0 - u, !1); var _ = i + s - o; return t.lineTo(_, e), a || t.lineTo(i + o, e), [_, v] }
		}, to = {
			$render_line: function(t, i, e, s, n, r) { var h, o, a, u, c, f, l, d, v, _, p, b; if (u = this.nD(t, i, e, s, n), h = this.P, i.length) { for (c = h.offset ? e.x + .5 * u.cellWidth : e.x, a = [], o = 0; o < i.length; o++)if ((b = this.rD(i[o], e, s, u)) || "0" == b) { if (l = o ? u.cellWidth * o - .5 + c : c, v = "object" == M(b) ? b.y0 : b, o && this.P.fixOverflow) { if ((p = this.rD(i[o - 1], e, s, u)).out && p.out == b.out) continue; f = u.cellWidth * (o - 1) - .5 + c, d = "object" == M(p) ? p.y0 : p, p.out && (_ = "min" == p.out ? s.y : e.y, a.push({ x: this.hD(f, l, d, v, _), y: _ })), b.out && (_ = "min" == b.out ? s.y : e.y, a.push({ x: this.hD(f, l, d, v, _), y: _ })) } b.out || a.push({ x: l, y: b, index: o }) } for (this.oD = e, o = 1; o <= a.length; o++)f = a[o - 1].x, d = a[o - 1].y, o < a.length && (l = a[o].x, v = a[o].y, this.z$(t, f, d, l, v, h.line.color.call(this, i[o - 1]), h.line.width), h.line && h.line.shadow && (t.globalAlpha = .3, this.z$(t, f + 2, d + h.line.width + 8, l + 2, v + h.line.width + 8, "#eeeeee", h.line.width + 3), t.globalAlpha = 1)), "undefined" != typeof a[o - 1].index && this.aD(t, f, d, i[a[o - 1].index], h.label(i[a[o - 1].index]), n, r, e) } }, hD: function(t, i, e, s, n) { return t + (n - e) * (i - t) / (s - e) }, aD: function(t, i, e, s, n, r, h) { var o = this.P.item, a = parseInt(o.radius.call(this, s), 10) || 0, u = this.oD, c = o.type.call(this, s); if (a) { if (t.save(), o.shadow) { t.lineWidth = 1, t.strokeStyle = "#bdbdbd", t.fillStyle = "#bdbdbd"; for (var f = [.1, .2, .3], l = f.length - 1; 0 <= l; l--)t.globalAlpha = f[l], t.strokeStyle = "#d0d0d0", t.beginPath(), this.uD(t, i, e + 2 * a / 3, a + l + 1, c), t.stroke(); t.beginPath(), t.globalAlpha = .3, t.fillStyle = "#bdbdbd", this.uD(t, i, e + 2 * a / 3, a + 1, c), t.fill() } t.restore(), t.lineWidth = o.borderWidth, t.fillStyle = o.color.call(this, s), t.strokeStyle = o.borderColor.call(this, s), t.globalAlpha = o.alpha.call(this, s), t.beginPath(), this.uD(t, i, e, a + 1, c), t.fill(), t.stroke(), t.globalAlpha = 1 } if (n && this.canvases[r].renderTextAt(!1, !0, i, e - a - this.P.labelOffset, this.P.label.call(this, s)), h) { var d = this.P.eventRadius || a + 1; h.addRect(s.id, [i - d - u.x, e - d - u.y, i + d - u.x, e + d - u.y], r) } }, uD: function(t, i, e, s, n) {
				var r = []; if (!n || "square" != n && "s" != n) if (!n || "diamond" != n && "d" != n) r = !n || "triangle" != n && "t" != n ? [[i, e, s, 0, 2 * Math.PI, !0]] : [[i, e - s], [i + Math.sqrt(3) * s / 2, e + s / 2], [i - Math.sqrt(3) * s / 2, e + s / 2], [i, e - s]]; else { var h = 1 < t.lineWidth ? t.lineWidth * Math.sqrt(2) / 4 : 0; r = [[i, e - s], [i + s, e], [i, e + s], [i - s, e], [i + h, e - s - h]] } else r = [[i - (s *= Math.sqrt(2) / 2) - t.lineWidth / 2, e - s], [i + s, e - s], [i + s, e + s], [i - s, e + s], [i - s, e - s
				]]; this.cD(t, r)
			}, rD: function(t, i, e, s) { var n = s.minValue, r = s.maxValue, h = s.unit, o = s.valueFactor, a = this.P.value(t); this.K$ && (a = this.J$(a)); var u = (parseFloat(a || 0) - n) * o; this.P.yAxis || (u += s.startValue / h); var c = e.y - h * u; return !this.P.fixOverflow || "line" != this.P.type && "area" != this.P.type ? (r < a && (c = i.y), (u < 0 || a < n) && (c = e.y)) : r < a ? c = { y: i.y, y0: c, out: "max" } : (u < 0 || a < n) && (c = { y: e.y, y0: c, out: "min" }), c }, nD: function(t, i, e, s, n) { var r, h = {}; h.totalHeight = s.y - e.y, this.P.cellWidth ? h.cellWidth = Math.min(s.x - e.x, this.P.cellWidth) : h.cellWidth = (s.x - e.x) / (this.P.offset ? i.length : i.length - 1); var o = !!this.P.yAxis, a = -1 != this.P.type.indexOf("stacked") ? this.fD(i) : this.U$(); h.maxValue = a.max, h.minValue = a.min, n || this.Y$(i, e, s, h.minValue, h.maxValue, h.cellWidth), o && (h.maxValue = parseFloat(this.P.yAxis.end), h.minValue = parseFloat(this.P.yAxis.start)); var u = this.q$(h.minValue, h.maxValue); return r = u[0], h.valueFactor = u[1], h.unit = r ? h.totalHeight / r : 10, h.startValue = 0, o || (h.startValue = 10, h.unit != h.totalHeight && (h.unit = r ? (h.totalHeight - h.startValue) / r : 10)), h }
		}, io = {
			$render_barH: function(t, i, e, s, n, r) { var h, o, a, u, c, f, l, d, v, _, p, b, m, g, w, x, y, M, S, k, C; for (a = (s.y - e.y) / i.length, d = (l = this.U$("h")).max, v = l.min, x = s.x - e.x, C = !!this.P.xAxis, n || this.lD(t, i, e, s, v, d, a), C && (d = parseFloat(this.P.xAxis.end), v = parseFloat(this.P.xAxis.start)), b = (g = this.q$(v, d))[0], p = g[1], M = b ? x / b : 10, C || (w = 10, M = b ? (x - w) / b : 10), (o = parseInt(this.P.barWidth, 10)) * this.X$.length + 4 > a && (o = a / this.X$.length - 4), h = Math.floor((a - o * this.X$.length) / 2), m = "undefined" != typeof this.P.radius ? parseInt(this.P.radius, 10) : Math.round(o / 5), _ = !1, (c = this.P.gradient) && "function" != typeof c ? (_ = c, c = !1) : c && (c = t.createLinearGradient(e.x, e.y, s.x, e.y), this.P.gradient(c)), C || this.z$(t, e.x - .5, e.y, e.x - .5, s.y, "#edeff0", 1), f = 0; f < i.length; f++)if (y = parseFloat(this.P.value(i[f] || 0)), this.K$ && (y = this.J$(y)), y && !isNaN(y)) if (d < y && (y = d), y -= v, y *= p, S = e.x, k = e.y + h + f * a + (o + 1) * n, y < 0 && "auto" == this.P.origin || this.P.xAxis && 0 === y && !("auto" != this.P.origin && this.P.origin > v)) this.canvases[n].renderTextAt("middle", "right", S + 10, k + o / 2 + h, this.P.label(i[f])); else { y < 0 && "auto" != this.P.origin && this.P.origin > v && (y = 0), C || (y += w / M), u = c || this.P.color.call(this, i[f]), this.P.border && this.dD(t, S, k, o, v, m, M, y, u), t.globalAlpha = this.P.alpha.call(this, i[f]); var $ = this.vD(t, s, S, k, o, v, m, M, y, u, c, _); _ && this._D(t, S, k, o, v, m, M, y, u, _), t.globalAlpha = 1, $[3] == k ? (this.canvases[n].renderTextAt("middle", "left", $[0] - 5, $[3] + Math.floor(o / 2), this.P.label(i[f])), r.addRect(i[f].id, [$[0] - e.x, $[3] - e.y, $[2] - e.x, $[3] + o - e.y], n)) : (this.canvases[n].renderTextAt("middle", !1, $[2] + 5, $[1] + Math.floor(o / 2), this.P.label(i[f])), r.addRect(i[f].id, [$[0] - e.x, k - e.y, $[2] - e.x, $[3] - e.y], n)) } }, pD: function(t, i, e, s, n, r, h, o, a) { var u = 0; if (r * h < n) { var c = (n - r * h) / n; u = -Math.asin(c) + Math.PI / 2 } t.moveTo(i, e + o); var f = i + r * h - n - (n ? 0 : o); f = Math.max(i, f), n < r * h && t.lineTo(f, e + o); var l = e + n; n && 0 < n && t.arc(f, l, n - o, -Math.PI / 2 + u, 0, !1); var d = e + s - n - (n ? 0 : o), v = f + n - (n ? o : 0); t.lineTo(v, d), n && 0 < n && t.arc(f, d, n - o, 0, Math.PI / 2 - u, !1); var _ = e + s - o; return t.lineTo(i, _), a || t.lineTo(i, e + o), [v, _] }, lD: function(t, i, e, s, n, r, h) { var o = 0; this.P.xAxis && (this.canvases.x || (this.canvases.x = this.bD("axis_x")), o = this.mD(this.canvases.x.getCanvas(), i, e, s, n, r)), this.P.yAxis && (this.canvases.y || (this.canvases.y = this.bD("axis_y")), this.gD(this.canvases.y.getCanvas(), i, e, s, h, o)) }, gD: function(t, i, e, s, n, r) { if (this.P.yAxis) { var h, o = parseInt(r || e.x, 10) - .5, a = s.y + .5, u = e.y; this.z$(t, o, a, o, u, this.P.yAxis.color, 1); for (var c = 0; c < i.length; c++) { var f = "auto" != this.P.origin && "barH" == this.P.type && parseFloat(this.P.value(i[c])) < this.P.origin; h = u + n / 2 + c * n, this.canvases.y.renderTextAt("middle", !f && "left", f ? o + 5 : o - 5, h, this.P.yAxis.template(i[c]), "webix_axis_item_y", f ? 0 : o - 10), this.P.yAxis.lines.call(this, i[c]) && this.z$(t, e.x, h, s.x, h, this.P.yAxis.lineColor.call(this, i[c]), 1) } this.P.yAxis.lines.call(this, {}) && this.z$(t, e.x + .5, u + .5, s.x, u + .5, this.P.yAxis.lineColor.call(this, {}), 1), this.wD(e, s) } }, mD: function(t, i, e, s, n, r) {
				var h, o = {}, a = this.P.xAxis; if (a) {
					var u = s.y + .5, c = e.x - .5, f = s.x - .5, l = e.x; if (this.z$(t, c, u, f, u, a.color, 1), a.step && (h = parseFloat(a.step)),
						"undefined" != typeof this.xD.step && "undefined" != typeof this.xD.start && "undefined" != typeof this.xD.end || (n = (o = this.yD(n, r)).start, r = o.end, h = o.step, this.P.xAxis.end = r, this.P.xAxis.start = n, this.P.xAxis.step = h), 0 !== h) { for (var d = (f - c) * h / (r - n), v = 0, _ = n; _ <= r; _ += h) { var p = this.K$ ? Math.pow(10, _) : _; o.fixNum && (p = parseFloat(p).toFixed(o.fixNum)); var b = Math.floor(c + v * d) + .5; if (_ == n && "auto" == this.P.origin || !a.lines.call(this, _) || this.z$(t, b, u, b, e.y, this.P.xAxis.lineColor.call(this, _), 1), _ == this.P.origin && (l = b + 1), h < 1 && !this.K$) { var m = Math.min(Math.floor(this.J$(h)), n <= 0 ? 0 : Math.floor(this.J$(n))), g = Math.pow(10, -m); _ = p = Math.round(p * g) / g } this.canvases.x.renderTextAt(!1, !0, b, u + 2, a.template(p.toString()), "webix_axis_item_x"), v++ } return this.canvases.x.renderTextAt(!0, !1, c, s.y + this.P.padding.bottom - 3, this.P.xAxis.title, "webix_axis_title_x", s.x - e.x), l }
				}
			}, MD: function(t, i, e, s, n, r, h) { var o = i; return this.P.yAxis && "auto" != this.P.origin && this.P.origin > h && (o = i += (this.P.origin - h) * n, (s -= this.P.origin - h) < 0 && (s *= -1, t.translate(i, e + r), t.rotate(Math.PI), i = .5, e = 0), i += .5), { value: s, x0: i, y0: e, start: o } }, vD: function(t, i, e, s, n, r, h, o, a, u, c, f) { t.save(); var l = this.MD(t, e, s, a, o, n, r); t.fillStyle = u, t.beginPath(); var d = this.pD(t, l.x0, l.y0, n, h, o, l.value, this.P.border ? 1 : 0); c && !f && t.lineTo(i.x, l.y0 + (this.P.border ? 1 : 0)), t.fill(), t.restore(); var v = l.y0, _ = l.y0 != s ? s : d[1]; return [l.y0 != s ? l.start - d[0] : l.start, v, l.y0 != s ? l.start : d[0], _] }, dD: function(t, i, e, s, n, r, h, o, a) { t.save(); var u = this.MD(t, i, e, o, h, s, n); t.beginPath(), this.eD(t, a), t.globalAlpha = .9, this.pD(t, u.x0, u.y0, s, r, h, u.value, t.lineWidth / 2, 1), t.stroke(), t.restore() }, _D: function(t, i, e, s, n, r, h, o, a, u) { t.save(); var c = this.MD(t, i, e, o, h, s, n), f = this.sD(t, c.x0, c.y0 + s, c.x0 + h * c.value, c.y0, u, a, "x"); t.fillStyle = f.gradient, t.beginPath(), this.pD(t, c.x0, c.y0 + f.offset, s - 2 * f.offset, r, h, c.value, f.offset), t.fill(), t.globalAlpha = 1, t.restore() }
		}, eo = { $render_stackedBar: function(t, i, e, s, n, r) { var h, o, a, u, c, f, l, d = this.P, v = s.y - e.y, _ = !!d.yAxis, p = !!d.xAxis, b = this.fD(i), m = 0 === d.origin; h = b.max, o = b.min; var g = Math.floor((s.x - e.x) / i.length); n || (a = this.Y$(i, e, s, o, h, g)), _ && (h = parseFloat(d.yAxis.end), o = parseFloat(d.yAxis.start)); var w = this.q$(o, h); l = w[0], f = w[1]; var x = l ? v / l : 10, y = parseInt(d.barWidth, 10); g < y + 4 && (y = g - 4); var M = Math.floor((g - y) / 2), S = !!d.gradient && d.gradient; p || this.z$(t, e.x, s.y + .5, s.x, s.y + .5, "#edeff0", 1); for (var k = 0; k < i.length; k++) { var C = parseFloat(d.value(i[k] || 0)); this.K$ && (C = this.J$(C)), u = e.x + M + k * g; var $ = m && C < 0; if (n ? c = $ ? i[k].$startYN : i[k].$startY : (c = a - 1, i[k].$startY = c, m && ($ && (c = a + 1), i[k].$startYN = a + 1)), C && !isNaN(C)) { n || m || (C -= o), C *= f; var D = d.border, I = d.label(i[k]); if (!(c < e.y + 1)) { var A = this.P.color.call(this, i[k]), F = Math.abs(c - (m ? s.y + o * x : s.y)) < 3; t.globalAlpha = d.alpha.call(this, i[k]), t.fillStyle = t.strokeStyle = d.color.call(this, i[k]), t.beginPath(); var T = c - x * C + (F ? $ ? -1 : 1 : 0); Math.floor(T) > s.y && (T = s.y, "" != I && T - c < kt('<div class="webix_canvas_text">'.concat(I, "</div>"), this.$view.className).height && (I = "")); var V = this.SD(t, u - (D ? .5 : 0), c, y + (D ? .5 : 0), T, 0, e.y); if (t.fill(), t.stroke(), S) { t.save(); var z = this.sD(t, u, c, u + y, V[1], S, A, "y"); t.fillStyle = z.gradient, t.beginPath(), V = this.SD(t, u + z.offset, c, y - 2 * z.offset, T, D ? 1 : 0, e.y), t.fill(), t.restore() } D && (t.save(), "string" == typeof D ? t.strokeStyle = D : this.eD(t, A), t.beginPath(), this.SD(t, u - .5, parseInt(c, 10) + .5, y + 1, parseInt(T, 10) + .5, 0, e.y, F), t.stroke(), t.restore()), t.globalAlpha = 1, this.canvases[n].renderTextAt(!1, !0, u + Math.floor(y / 2), V[1] + (c - V[1]) / 2 - 7, I), r.addRect(i[k].id, [u - e.x, V[1] - e.y, V[0] - e.x, i[k][$ ? "$startYN" : "$startY"] - e.y], n), i[k][$ ? "$startYN" : "$startY"] = V[1] } } } }, SD: function(t, i, e, s, n, r, h, o) { t.moveTo(i, e), n < h && (n = h), t.lineTo(i, n); var a = i + s, u = n; t.lineTo(a, u); var c = i + s; return t.lineTo(c, e), o || t.lineTo(i, e), [c, u] } }, so = {
			$render_stackedBarH: function(t, i, e, s, n, r) {
				var h, o, a, u, c = s.x - e.x, f = !!this.P.yAxis, l = this.fD(i); h = l.max, o = l.min; var d = Math.floor((s.y - e.y) / i.length); n || this.lD(t, i, e, s, o, h, d), f && (h = parseFloat(this.P.xAxis.end), o = parseFloat(this.P.xAxis.start)); var v = this.q$(o, h); u = v[0], a = v[1]; var _ = u ? c / u : 10, p = 0; f || (p = 10, _ = u ? (c - p) / u : 10); var b = parseInt(this.P.barWidth, 10); d < b + 4 && (b = d - 4); var m = (d - b) / 2, g = !1, w = this.P.gradient; w && (g = !0),
					f || this.z$(t, e.x - .5, e.y, e.x - .5, s.y, "#edeff0", 1); var x = 0, y = 0; for (M = 0; M < this.X$.length; M++)M == n && (y = x), "stackedBarH" == this.X$[M].type && x++; for (var M = 0; M < i.length; M++) { y || (i[M].$startX = e.x); var S = Math.abs(parseFloat(this.P.value(i[M] || 0))); h < S && (S = h), S -= o, S *= a; var k = e.x, C = e.y + m + M * d; if (y ? k = i[M].$startX : i[M].$startX = k, S && !isNaN(S)) { f || (S += p / _); var $ = this.P.color.call(this, i[M]); t.globalAlpha = this.P.alpha.call(this, i[M]), t.fillStyle = this.P.color.call(this, i[M]), t.beginPath(); var D = this.pD(t, k, C, b, 0, _, S, 0); if (w && !g && t.lineTo(e.x + c, C + (this.P.border ? 1 : 0)), t.fill(), g) { var I = this.sD(t, k, C + b, k, C, g, $, "x"); t.fillStyle = I.gradient, t.beginPath(), D = this.pD(t, k, C, b, 0, _, S, 0), t.fill() } this.P.border && this.dD(t, k, C, b, o, 0, _, S, $), t.globalAlpha = 1, this.canvases[n].renderTextAt("middle", !0, i[M].$startX + (D[0] - i[M].$startX) / 2 - 1, C + (D[1] - C) / 2, this.P.label(i[M])), r.addRect(i[M].id, [i[M].$startX - e.x, C - e.y, D[0] - e.x, D[1] - e.y], n), i[M].$startX = D[0] } }
			}
		}, no = { $render_area: function(t, i, e, s, n, r) { var h, o, a, u, c, f, l, d, v, _, p, b, m, g, w; if (f = this.nD(t, i, e, s, n), u = (o = this.P).eventRadius || Math.floor(f.cellWidth / 2), i.length) { for (l = [], _ = o.offset ? e.x + .5 * f.cellWidth : e.x, a = 0; a < i.length; a++)if (c = i[a], v = this.rD(c, e, s, f), m = _ + f.cellWidth * a, v) { if (g = "object" == M(v) ? v.y0 : v, a && this.P.fixOverflow) { if ((d = this.rD(i[a - 1], e, s, f)).out && d.out == v.out) continue; p = f.cellWidth * (a - 1) - .5 + _, b = "object" == M(d) ? d.y0 : d, d.out && (w = "min" == d.out ? s.y : e.y, l.push([this.hD(p, m, b, g, w), w])), v.out && (w = "min" == v.out ? s.y : e.y, l.push([this.hD(p, m, b, g, w), w]), a == i.length - 1 && w == e.y && l.push([m, e.y])) } v.out || (l.push([m, g]), r.addRect(c.id, [m - u - e.x, g - u - e.y, m + u - e.x, g + u - e.y], n)), o.yAxis || (h = o.offset || a != i.length - 1 ? "center" : "left", this.canvases[n].renderTextAt(!1, h, m, g - o.labelOffset, o.label(c))) } l.length && (l.push([m, s.y]), l.push([l[0][0], s.y])), t.globalAlpha = this.P.alpha.call(this, i[0]), t.fillStyle = this.P.color.call(this, i[0]), t.beginPath(), this.cD(t, l), t.fill(), t.lineWidth = 1, t.globalAlpha = 1, o.border && (t.lineWidth = o.borderWidth || 1, o.borderColor ? t.strokeStyle = o.borderColor.call(this, i[0]) : this.eD(t, t.fillStyle), t.beginPath(), this.cD(t, l), t.stroke()) } }, $render_stackedArea: function(t, e, i, s, n, r) { var h, o, a, u, c, f, l, d, v, _, p, b, m, g, w, x, y; if (v = this.nD(t, e, i, s, n), l = (u = this.P).eventRadius || Math.floor(v.cellWidth / 2), e.length) { _ = [], m = [], p = u.offset ? i.x + .5 * v.cellWidth : i.x; var M = function(t, i) { return n ? e[t].$startY ? i - s.y + e[t].$startY : 0 : i }; for (c = 0; c < e.length; c++)d = e[c], c ? p += v.cellWidth : (b = M(c, s.y), _.push([p, b])), b = M(c, this.rD(d, i, s, v)), m.push(isNaN(b) && !c ? e[c].$startY || s.y : b), b && (_.push([p, b]), r.addRect(d.id, [p - l - i.x, b - l - i.y, p + l - i.x, b + l - i.y], n), u.yAxis || (u.offset, a = "center", this.canvases[n].renderTextAt(!1, a, p, b - u.labelOffset, u.label(d)))); if (_.push([p, M(c - 1, s.y)]), n) for (c = e.length - 2; 0 < c; c--)p -= v.cellWidth, (b = e[c].$startY) && _.push([p, b]); for (_.push([_[0][0], _[0][1]]), t.globalAlpha = this.P.alpha.call(this, e[0]), t.fillStyle = this.P.color.call(this, e[0]), t.beginPath(), this.cD(t, _), t.fill(), c = 0; c < e.length; c++) { if (!(b = m[c])) for (c == e.length - 1 && (b = e[c].$startY), f = c + 1; f < e.length; f++)if (m[f]) { h = { x: i.x, y: m[0] }, o = { x: i.x + v.cellWidth * f, y: m[f] }, g = i.x + v.cellWidth * c, void 0, b = (y = ((x = o).y - (w = h).y) / (x.x - w.x)) * g + w.y - y * w.x; break } e[c].$startY = b } } } }, ro = {
			$render_radar: function(t, i, e, s, n, r) { this.kD(t, i, e, s, n, r) }, kD: function(t, i, e, s, n, r) { if (i.length) { for (var h = this.H$(e, s), o = this.P.radius ? this.P.radius : h.radius, a = this.P.x ? this.P.x : h.x, u = this.P.y ? this.P.y : h.y, c = [], f = 0; f < i.length; f++)c.push(1); var l = this.Jc(c, i.length); this.oD = e, n || this.CD(l, a, u, o, i), this.$D(t, l, a, u, o, i, n, r) } }, $D: function(t, i, e, s, n, r, h, o) { var a, u, c, f, l, d, v, _, p, b, m, g, w, x, y, M, S, k, C; for (l = (c = this.P).yAxis.start, d = c.yAxis.end, k = (g = (C = this.q$(l, d))[0]) ? n / g : n / 2, S = C[1], a = u = w = -Math.PI / 2, p = [], f = _ = 0; f < r.length; f++)y = M || (x = c.value(r[f]), this.K$ && (x = this.J$(x)), (parseFloat(x || 0) - l) * S), b = Math.floor(k * y), x = c.value(f != r.length - 1 ? r[f + 1] : r[0]), this.K$ && (x = this.J$(x)), M = (parseFloat(x || 0) - l) * S, m = Math.floor(k * M), a = u, u = f != r.length - 1 ? w + i[f] - 1e-4 : w, v = _ || this.L$(a, e, s, b), _ = this.L$(u, e, s, m), p.push(v); c.fill && this.DD(t, p, r), !c.disableLines && 2 < r.length && this.ID(t, p, r), (!c.disableItems || r.length < 3) && this.AD(t, p, r, h, o), p = null }, AD: function(t, i
				, e, s, n) { for (var r = 0; r < i.length; r++)this.aD(t, i[r].x, i[r].y, e[r], this.P.label.call(this, e), s, n) }, DD: function(t, i, e) { var s, n; t.globalAlpha = this.P.alpha.call(this, {}), t.beginPath(); for (var r = 0; r < i.length; r++)t.fillStyle = this.P.fill.call(this, e[r]), s = i[r], n = i[r + 1] || i[0], r || t.moveTo(s.x, s.y), t.lineTo(n.x, n.y); t.fill(), t.globalAlpha = 1 }, ID: function(t, i, e) { for (var s, n, r = 0; r < i.length; r++)s = i[r], n = i[r + 1] || i[0], this.z$(t, s.x, s.y, n.x, n.y, this.P.line.color.call(this, e[r]), this.P.line.width) }, CD: function(t, i, e, s, n) { var r = this.P.yAxis, h = this.P.xAxis, o = r.start, a = r.end, u = r.step, c = {}, f = this.FD; if ("undefined" == typeof f.step || "undefined" == typeof f.start || "undefined" == typeof f.end) { var l = this.U$(); o = (c = this.yD(l.min, l.max)).start, a = c.end, u = c.step, r.end = a, r.start = o } var d, v, _, p, b, m = [], g = 0, w = s * u / (a - o); u < 1 && (p = Math.min(this.J$(u), o <= 0 ? 0 : this.J$(o)), b = Math.pow(10, -p)); var x = []; this.canvases.scale || (this.canvases.scale = this.bD("radar_scale")); var y = this.canvases.scale.getCanvas(); for (d = a; o <= d; d -= u) { var M = this.K$ ? Math.pow(10, d) : d; c.fixNum && (M = parseFloat(d).toFixed(c.fixNum)), m.push(Math.floor(g * w) + .5), b && !this.K$ && (d = M = Math.round(M * b) / b); var S = e - s + m[m.length - 1]; this.canvases.scale.renderTextAt("middle", "left", i, S, r.template(M.toString()), "webix_axis_item_y webix_radar"); var k, C = -Math.PI / 2, $ = C; for (v = 0; v < t.length; v++)g || x.push($), k = C + t[v] - 1e-4, this.TD(y, 2 < t.length ? f.lineShape || "line" : "arc", i, e, s - m[m.length - 1], $, k, d, v, n[d]), $ = k; g++ } for (d = 0; d < x.length; d++)_ = this.L$(x[d], i, e, s), h && (h.lines.call(this, n[d], d) && this.z$(y, i, e, _.x, _.y, h.lineColor.call(this, n[d]), 1), this.VD(y, i, e, s, x[d], h.template.call(this, n[d]))) }, TD: function(t, i, e, s, n, r, h, o, a) { var u, c; if (n < 0) return !1; u = this.L$(r, e, s, n), c = this.L$(h, e, s, n); var f = this.P.yAxis; f.bg && (t.beginPath(), t.moveTo(e, s), "arc" == i ? t.arc(e, s, n, r, h, !1) : (t.lineTo(u.x, u.y), t.lineTo(c.x, c.y)), t.fillStyle = f.bg(o, a), t.moveTo(e, s), t.fill(), t.closePath()), f.lines.call(this, o) && (t.lineWidth = 1, t.beginPath(), "arc" == i ? t.arc(e, s, n, r, h, !1) : (t.moveTo(u.x, u.y), t.lineTo(c.x, c.y)), t.strokeStyle = f.lineColor.call(this, o), t.stroke()) }, VD: function(t, i, e, s, n, r) { if (!r) return !1; var h = this.canvases.scale.renderText(0, 0, r, "webix_axis_radar_title", 1), o = h.scrollWidth, a = h.offsetHeight, u = this.L$(n, i, e, s + 5), c = 0, f = 0; (n < 0 || n > Math.PI) && (f = -a), n > Math.PI / 2 && (c = -o), Math.abs(n + Math.PI / 2) < .001 || Math.abs(n - Math.PI / 2) < .001 ? c = -o / 2 : (Math.abs(n) < .001 || Math.abs(n - Math.PI) < .001) && (f = -a / 2), h.style.top = u.y + f + "px", h.style.left = u.x + c + "px", h.style.width = o + "px", h.style.whiteSpace = "nowrap" }
		}, ho = {
			$render_scatter: function(t, i, e, s, n, r) { if (this.P.xValue) { var h = this.P, o = !(h.disableLines || "undefined" == typeof h.disableLines), a = this.U$(), u = this.U$("h", "xValue"); n || (this.canvases.x || (this.canvases.x = this.bD("axis_x")), this.canvases.y || (this.canvases.y = this.bD("axis_y")), this.zD(this.canvases.y.getCanvas(), i, e, s, a.min, a.max), this.mD(this.canvases.x.getCanvas(), i, e, s, u.min, u.max)), a = { min: h.yAxis.start, max: h.yAxis.end }, u = { min: h.xAxis.start, max: h.xAxis.end }; var c = this.BD(t, i, e, s, u, a); this.oD = e; for (var f, l, d, v, _, p = [], b = 0; b < i.length; b++) { var m = this.HD(c, s, e, u, i[b], "X"), g = this.HD(c, e, s, a, i[b], "Y"); isNaN(m) || isNaN(g) || p.push({ x: m, y: g, index: b }) } for (var w = 0; w < p.length; w++) { if (_ = p[w].index, o) { var x = h.line.color.call(this, i[_]); f = p[w].x, l = p[w].y, w == p.length - 1 ? h.shape && 2 < p.length && (this.z$(t, d, v, p[0].x, p[0].y, x, h.line.width), h.disableItems || this.RD(t, r, p[0], i[0], n), h.fill && this.ED(t, p, i)) : (d = p[w + 1].x, v = p[w + 1].y, this.z$(t, f, l, d, v, x, h.line.width)) } !h.disableItems && p[w] && this.RD(t, r, p[w], i[_], n) } } }, ED: function(t, i, e) { var s, n; t.globalAlpha = this.P.alpha.call(this, {}), t.beginPath(); for (var r = 0; r < i.length; r++)t.fillStyle = this.P.fill.call(this, e[r]), s = i[r], n = i[r + 1] || i[0], r || t.moveTo(s.x, s.y), t.lineTo(n.x, n.y); t.fill(), t.globalAlpha = 1 }, BD: function(t, i, e, s, n, r) { var h = {}; return h.totalHeight = s.y - e.y, h.totalWidth = s.x - e.x, this.PD(h, n.min, n.max, h.totalWidth, "X"), this.PD(h, r.min, r.max, h.totalHeight, "Y"), h }, RD: function(t, i, e, s, n) { this.aD(t, e.x, e.y, s, this.P.label.call(this, s), n, i) }, HD: function(t, i, e, s, n, r) {
				var h = this.P["X" == r ? "xValue" : "value"].call(this, n), o = t["valueFactor" + r], a = (parseFloat(h || 0) - s.min) * o,
				u = t["unit" + r], c = e[r.toLowerCase()] - ("X" == r ? -1 : 1) * Math.floor(u * a); return a < 0 && (c = e[r.toLowerCase()]), h > s.max && (c = i[r.toLowerCase()]), h < s.min && (c = e[r.toLowerCase()]), c
			}, PD: function(t, i, e, s, n) { var r = this.q$(i, e); t["relValue" + (n = n || "")] = r[0], t["valueFactor" + n] = r[1], t["unit" + n] = t["relValue" + n] ? s / t["relValue" + n] : 10 }
		}, oo = { $render_splineArea: function(t, i, e, s, n, r) { var h, o, a, u, c, f, l, d, v, _, p, b, m, g = this.P, w = []; if (f = this.nD(t, i, e, s, n), c = g.eventRadius || Math.floor(f.cellWidth / 2), a = [], i.length) { for (v = e.x, o = 0; o < i.length; o++)((b = this.rD(i[o], e, s, f)) || "0" == b) && (d = o ? f.cellWidth * o - .5 + v : v, a.push({ x: d, y: b, index: o }), r.addRect(i[o].id, [d - c - e.x, b - c - e.y, d + c - e.x, b + c - e.y], n)); for (l = this.jD(a), o = 0; o < a.length; o++)if (_ = a[o].x, o < a.length - 1) { for (p = a[o + 1].x, m = a[o + 1].y, u = _; u < p; u++) { var x = this.ND(u, _, o, l.a, l.b, l.c, l.d); x < e.y && (x = e.y), x > s.y && (x = s.y); var y = this.ND(u + 1, _, o, l.a, l.b, l.c, l.d); y < e.y && (y = e.y), y > s.y && (y = s.y), w.push([u, x]), w.push([u + 1, y]) } w.push([p, m]) } h = this.P.color.call(this, i[0]), w.length && (w.push([p, s.y]), w.push([w[0][0], s.y])), t.globalAlpha = this.P.alpha.call(this, i[0]), t.fillStyle = h, t.beginPath(), this.cD(t, w), t.fill(), t.lineWidth = 1, t.globalAlpha = 1, g.border && (t.lineWidth = g.borderWidth || 1, g.borderColor ? t.strokeStyle = g.borderColor.call(this, i[0]) : this.eD(t, h), t.beginPath(), w.splice(w.length - 3), this.cD(t, w), t.stroke()) } } }, ao = { dynamic_setter: function(t) { return t && function i(h) { if (h.LD) return; var o = h.P; o.cellWidth || (o.cellWidth = 30); o.animateDuration || (o.animateDuration = 400); o.offset = !1, h.LD = h.attachEvent("onBeforeRender", function(t, i) { var e = h.OD(h.ge, h.xe); !function s(e) { co(e, function(t, i) { i.Pe(e.ge + 2 * e.P.cellWidth, e.xe) }) }(h), function r(t, i, e, s) { if (s && t.length) { var n = Math.ceil((e.x - i.x) / s); t.length > n + 1 && t.splice(0, t.length - n - 1) } }(t, e.start, e.end, o.cellWidth), "add" == i && function n(i) { var t = i.P.cellWidth; i.WD != t && (i.WD = t, i.render()); i.WD = 0, i.UD = null, window.requestAnimationFrame && !document.hidden && window.requestAnimationFrame(function(t) { !function r(i, t) { var e, s = i.P.animateDuration, n = i.P.cellWidth; n && 1 < i.count() && (i.UD || (i.UD = t), e = t - i.UD, i.WD = Math.min(Math.max(e / s * n, 1), n), i.render(), e < s && window.requestAnimationFrame(function(t) { r(i, t) })) }(i, t) }); i.YD || (i.YD = i.attachEvent("onAfterRender", function(t) { !function r(t, c) { var f = t.count(), e = t.OD(t.ge, t.xe), l = t.P.cellWidth, d = t.WD || 0, i = c.length < f || (c.length - 1) * l > e.end.x - e.start.x; function s(t, i, e, s) { var n = t.getCanvas(), r = t.Re, h = t.Ve, o = t.ze; if (d && (c.length < f || (c.length - 1) * l > e - i) ? (r.style.left = -d + "px", 1 < c.length && (!function u(t, i, e) { if (t.length) { vt(t[0]); for (var s = 1; s < t.length; s++)uo(e, t[s]) || (t[s].style.left = t[s].offsetLeft - i + "px") } }(h, d, o), n.clearRect(0, 0, i + d, r.offsetHeight), n.clearRect(e + d, 0, r.offsetWidth, r.offsetHeight))) : (r.style.left = "0px", s || d == l || n.clearRect(i + (c.length - 1) * l - l + d, 0, r.offsetWidth, r.offsetHeight)), 1 < h.length && d && d != l) { var a = h.length - 1; uo(o, h[a]) && (a -= 1), h[a].style.display = "none" } } co(t, function(t, i) { s(i, e.start.x, e.end.x, "x" == t) }), function n(t, i, e) { t.Wi.Ni.style.left = i.start.x - e + "px", t.Wi.Ni.style.width = i.end.x - i.start.x + e + "px" }(t, e, i ? d : 0) }(i, t) })) }(h) }), h.qD = h.attachEvent("onBeforeXAxis", function(t, i, e, s, n, r) { return function _(t, i, e, s, n, r, h) { var o, a, u, c, f = t.P, l = s.x - .5, d = parseInt(h || n.y, 10) + .5, v = n.x; if (!f.dynamic) return !1; for (u = (e.length - 1) * r > v - l || e.length < t.count(), a = 0; a < e.length; a++)c = l + a * r, o = u ? 1 < a : !!a, c = Math.ceil(c) - .5, t.GD(c, d, e[a], o), a && f.xAxis.lines.call(t, e[a]) && t.XD(i, c, n.y, s.y, e[a]); t.canvases.x.renderTextAt(!0, !1, l, n.y + f.padding.bottom - 3, f.xAxis.title, "webix_axis_title_x", n.x - s.x), t.z$(i, l, d, v + (u ? t.WD : 0), d, f.xAxis.color, 1) }(h, t, i, e, s, n, r), !1 }) }(this), t } }; function uo(t, i) { return "axis_x" === t && -1 !== i.className.indexOf("webix_axis_title_x") } function co(t, i) { if (t.canvases) { for (var e = 0; e < t.X$.length; e++)t.canvases[e] && i(e, t.canvases[e]); t.canvases.x && i("x", t.canvases.x) } } var fo = {
			name: "chart", $init: function(t) { if (this.X$ = [this.P], this.KD = [], this.Wi.className += " webix_chart", this.$ready.push(this.fh), t.preset && this.JD(t), t.series) { var i = t.series; delete t.series, t.series = i } this.data.provideApi(this, !0) }, fh: function() {
				this.data.attachEvent("onStoreUpdated", S(function() {
					this.render.apply(this,
						arguments)
				}, this))
			}, defaults: { ariaLabel: "chart", color: "default", alpha: "1", radius: 0, label: !1, value: "{obj.value}", padding: {}, type: "pie", lineColor: "#ffffff", cant: .5, barWidth: 30, line: { width: 2, color: "#1ca1c1" }, item: { radius: 3, borderColor: "#1ca1c1", borderWidth: 2, color: "#ffffff", alpha: 1, type: "r", shadow: !1 }, shadow: !1, gradient: !1, border: !1, labelOffset: 20, origin: "auto", scale: "linear" }, ea: "webix_area_id", on_click: { webix_chart_legend_item: function(t, i, e) { var s = e.getAttribute("series_id"); if (this.callEvent("onLegendClick", [t, s, e]) && void 0 !== s && 1 < this.X$.length) { var n = this.P, r = n.legend.values; (r && r[s].toggle || n.legend.toggle) && (-1 != e.className.indexOf("hidden") ? this.showSeries(s) : this.hideSeries(s)) } } }, on_dblclick: {}, on_mouse_move: {}, locate: function(t) { return pt(t, this.ea) }, $setSize: function(t, i) { var e = Ri.api.$setSize.call(this, t, i); if (e) { for (var s in this.canvases) this.canvases[s].Pe(this.ge, this.xe); this.render() } return e }, type_setter: function(t) { return this["$render_" + t], "undefined" == typeof this.P.offset && (this.P.offset = !(-1 != t.toLowerCase().indexOf("area"))), "radar" != t || this.P.yAxis || this.define("yAxis", {}), "scatter" == t && (this.P.yAxis || this.define("yAxis", {}), this.P.xAxis || this.define("xAxis", {})), t }, destructor: function() { this.removeAllSeries(), Ci.destructor.apply(this, arguments) }, removeAllSeries: function() { this.clearCanvas(), this.ZD && (this.ZD.innerHTML = "", this.ZD.parentNode.removeChild(this.ZD), this.ZD = null), this.canvases && (this.canvases = {}), this.Wi.innerHTML = "", this.X$ = [] }, clearCanvas: function() { if (this.canvases && "object" == M(this.canvases)) for (var t in this.canvases) this.canvases[t].clearCanvas() }, render: function(t, i, e) { var s, n, r, h; if (this.isVisible(this.P.id) && (n = this.QD(), this.callEvent("onBeforeRender", [n, e]))) { if (this.canvases && "object" == M(this.canvases)) for (var o in this.canvases) this.canvases[o].clearCanvas(); else this.canvases = {}; if (this.P.legend && (this.canvases.legend || (this.canvases.legend = this.bD("legend")), this.tI(this.data.getRange(), this.ge, this.xe)), this._u = r = new Te(this.ea), h = this.P, s = this.OD(this.ge, this.xe), this.X$) for (var a = 0; a < this.X$.length; a++)this.P = this.X$[a], this.canvases[a] || (this.canvases[a] = this.bD(this.name + " " + a, "z-index:" + (2 + a), null, a, this.P.ariaLabel)), this["$render_" + this.P.type](this.canvases[a].getCanvas(), n, s.start, s.end, a, r); if (r.render(this.Wi), this.Wi.lastChild.style.zIndex = 80, this.iI(this.Wi.lastChild, s), this.callEvent("onAfterRender", [n]), this.P = h, this.P.legend && this.P.legend.values) for (var u = this.P.legend.values, c = 0; c < u.length; c++)u[c].$hidden && this.hideSeries(c) } }, iI: function(t, i) { var e = {}; for (var s in e.left = i.start.x, e.top = i.start.y, e.width = i.end.x - i.start.x, e.height = i.end.y - i.start.y, e) t.style[s] = e[s] + "px" }, QD: function() { var t, i, e, s, n, r, h, o, a, u; if (s = this.data.getRange(), t = -1 != this.P.type.toLowerCase().indexOf("barh") ? "yAxis" : "xAxis", (i = this.P[t]) && i.units && "object" == M(i.units)) { if (o = [], "undefined" != typeof (e = i.units).start && "undefined" != typeof e.end && "undefined" != typeof e.next) for (h = e.start; h <= e.end;)o.push(h), h = e.next.call(this, h); else "[object Array]" === Object.prototype.toString.call(e) && (o = e); if (r = [], o.length) { for (a = i.value, u = {}, n = 0; n < s.length; n++)u[a(s[n])] = n; for (n = 0; n < o.length; n++)"undefined" != typeof u[o[n]] ? (s[u[o[n]]].$unit = o[n], r.push(s[u[o[n]]])) : r.push({ $unit: o[n] }) } return r } return s }, series_setter: function(t) { if (t && "object" == M(t)) { this.Rt(t.length ? t[0] : t), this.X$ = [this.P]; for (var i = 1; i < t.length; i++)this.addSeries(t[i]) } else; return t }, value_setter: qt, xValue_setter: qt, yValue_setter: function(t) { this.define("value", t) }, alpha_setter: qt, label_setter: qt, lineColor_setter: qt, borderColor_setter: qt, pieInnerText_setter: qt, gradient_setter: function(t) { return "function" != typeof t && t && !0 === t && (t = "light"), t }, colormap: { RAINBOW: function(t) { var i = Math.floor(this.getIndexById(t.id) / this.count() * 1536); return 1536 == i && (i -= 1), this.eI[Math.floor(i / 256)](i % 256) }, "default": function(t) { var i = this.count(), e = this.Gc.length, s = this.getIndexById(t.id); return i < e ? (s && (s = s < e - i ? this.qc + 2 : this.qc + 1), this.qc = s) : s %= e, this.Gc[s] } }, color_setter: function(t) { return this.colormap[t] || qt(t) }, fill_setter: function(t) {
				return !(!t || "0" == t) && qt(t)
			}, JD: function(t) { this.define("preset", t.preset), delete t.preset }, preset_setter: function(t) { var i, e, s; if (this.defaults = T.extend({}, this.defaults), "object" != M(s = this.presets[t])) return !1; for (i in s) if ("object" == M(s[i])) if (this.defaults[i] && "object" == M(this.defaults[i])) for (e in this.defaults[i] = T.extend({}, this.defaults[i]), s[i]) this.defaults[i][e] = s[i][e]; else this.defaults[i] = T.extend({}, s[i]); else this.defaults[i] = s[i]; return t }, legend_setter: function(t) { return t ? ("object" != M(t) && (t = { template: t }), this.Ei(t, { width: 150, height: 18, layout: "y", align: "left", valign: "bottom", template: "", toggle: -1 != this.P.type.toLowerCase().indexOf("stacked") ? "" : "hide", marker: { type: "square", width: 15, height: 15, radius: 3 }, margin: 4, padding: 3 }), t.template = qt(t.template), t) : (this.ZD && (this.ZD.innerHTML = "", this.ZD = null), !1) }, item_setter: function(t) { "object" != M(t) && (t = { color: t, borderColor: t }), this.Ei(t, T.extend({}, this.defaults.item)); return this.sI(["alpha", "borderColor", "color", "radius", "type"], t), t }, line_setter: function(t) { return "object" != M(t) && (t = { color: t }), (t = T.extend(t, this.defaults.line)).color = qt(t.color), t }, padding_setter: function(t) { return "object" != M(t) && (t = { left: t, right: t, top: t, bottom: t }), this.Ei(t, { left: 50, right: 20, top: 35, bottom: 40 }), t }, xAxis_setter: function(t) { if (!t) return !1; "object" != M(t) && (t = { template: t }), this.Ei(t, { title: "", color: "#edeff0", lineColor: "#edeff0", template: "{obj}", lines: !0 }); return this.sI(["lineColor", "template", "lines"], t), this.xD = T.extend({}, t), t }, yAxis_setter: function(t) { this.Ei(t, { title: "", color: "#edeff0", lineColor: "#edeff0", template: "{obj}", lines: !0, bg: Oi.backColor }); return this.sI(["lineColor", "template", "lines", "bg"], t), this.FD = T.extend({}, t), t }, sI: function(t, i) { for (var e = 0; e < t.length; e++)i[t[e]] = qt(i[t[e]]) }, bD: function(t, i, e, s, n) { var r = { container: e || this.Wi, name: t, title: V(n) ? t : n || "", series: s, style: i || "", width: this.ge, height: this.xe }; return new Ni(r) }, Y$: function(t, i, e, s, n, r) { var h, o = 0; return this.P.yAxis && (this.canvases.y || (this.canvases.y = this.bD("axis_y")), o = this.zD(this.canvases.y.getCanvas(), t, i, e, s, n)), this.P.xAxis && (this.canvases.x || (this.canvases.x = this.bD("axis_x")), h = this.canvases.x.getCanvas(), this.callEvent("onBeforeXAxis", [h, t, i, e, r, o]) && this.G$(h, t, i, e, r, o)), o }, G$: function(t, i, e, s, n, r) { var h, o, a = this.P, u = e.x - .5, c = parseInt(r || s.y, 10) + .5, f = s.x, l = !0, d = "stackedBar" == a.type ? s.y + .5 : c; for (h = 0; h < i.length; h++) { !0 === a.offset ? o = u + n / 2 + h * n : (o = h != i.length - 1 || a.cellWidth ? u + h * n : s.x, l = !!h), o = Math.ceil(o) - .5; var v = "auto" != a.origin && "bar" == a.type && parseFloat(a.value(i[h])) < a.origin; this.GD(o, d, i[h], l, v), (a.offset || h || a.cellWidth) && a.xAxis.lines.call(this, i[h]) && this.XD(t, o, s.y, e.y, i[h]) } this.canvases.x.renderTextAt(!0, !1, u, s.y + a.padding.bottom - 3, a.xAxis.title, "webix_axis_title_x", s.x - e.x), this.z$(t, u, c, f, c, a.xAxis.color, 1), a.xAxis.lines.call(this, {}) && a.offset && this.z$(t, f + .5, s.y, f + .5, e.y + .5, a.xAxis.lineColor.call(this, {}), 1) }, zD: function(t, i, e, s, n, r) { var h, o = {}; if (this.P.yAxis) { var a = e.x - .5, u = s.y, c = e.y, f = s.y + .5; if (this.P.yAxis.step && (h = parseFloat(this.P.yAxis.step)), "undefined" == typeof this.FD.step || "undefined" == typeof this.FD.start || "undefined" == typeof this.FD.end ? (n = (o = this.yD(n, r)).start, r = o.end, h = o.step, this.P.yAxis.end = r, this.P.yAxis.start = n) : "logarithmic" == this.config.scale && (this.K$ = !0), this.wD(e, s), 0 !== h) { if (r == n) return u; for (var l = (u - c) * h / (r - n), d = 0, v = this.P.origin, _ = n; _ <= r; _ += h) { var p = this.K$ ? Math.pow(10, _) : _; o.fixNum && (p = parseFloat(p).toFixed(o.fixNum)); var b = Math.floor(u - d * l) + .5; if (_ == n && "auto" == v || !this.P.yAxis.lines.call(this, _) || this.z$(t, a, b, s.x, b, this.P.yAxis.lineColor.call(this, _), 1), "auto" != v && _ <= v && v < _ + h && (f = b - l * (v - p) / h), h < 1 && !this.K$) { var m = Math.min(Math.floor(this.J$(h)), n <= 0 ? 0 : Math.floor(this.J$(n))), g = Math.pow(10, -m); _ = p = Math.round(p * g) / g } this.canvases.y.renderText(0, b - 5, this.P.yAxis.template(p.toString()), "webix_axis_item_y", e.x - 5), d++ } return this.z$(t, a, u + 1, a, c, this.P.yAxis.color, 1), f } } }, wD: function(t, i) {
				var e = this.canvases.y.renderTextAt("middle", !1, 0, parseInt((i.y - t.y) / 2 + t.y, 10), this.P.yAxis.title, "webix_axis_title_y"); e && (e.style.left = (G.transform ? (
					e.offsetHeight - e.offsetWidth) / 2 : 0) + "px")
			}, nI: function(t, i) { return { start: Math.floor(this.J$(t)), step: 1, end: Math.ceil(this.J$(i)) } }, rI: function(t) { var i = Math.floor(this.J$(t)), e = Math.pow(10, i), s = t / e; return s = 5 < s ? 10 : 5, parseInt(s, 10) * e }, yD: function(t, i) { if (this.K$ = !1, "logarithmic" == this.P.scale) { var e = Math.floor(this.J$(t)), s = Math.ceil(this.J$(i)); if (0 < t && 0 < i && 1 < s - e) return this.K$ = !0, this.nI(t, i) } var n, r; "auto" != this.P.origin && this.P.origin < t && (t = this.P.origin); var h = this.rI((i - t) / 8 || 1), o = Math.floor(this.J$(h)); if (h > Math.abs(t)) n = t < 0 ? -h : 0; else { var a = Math.abs(t), u = Math.floor(this.J$(a)), c = a / Math.pow(10, u); for (n = 0 != u || .1 <= h ? Math.ceil(10 * c) / 10 * Math.pow(10, u) - h : a, 1 < a && .1 < h && (n = Math.ceil(n)); t < 0 ? n <= t : t <= n;)n -= h; t < 0 && (n = -n - 2 * h), n -= n % h, n = parseFloat((1 * n).toFixed(Math.abs(o))) } for (10 < i - n && (h = this.rI((i - n) / 8 || 1)), r = n, 0 == i && i == t && (i = h); r < i;)r += h, r = parseFloat((1 * r).toFixed(Math.abs(o))); return { start: n, end: r, step: h, fixNum: o < 0 ? Math.abs(o) : 0 } }, U$: function(t, i) { var e, s, n = this.data.oo(), r = arguments.length && "h" == t ? this.xD : this.FD; if (i = i || "value", r && "undefined" != typeof r.end && "undefined" != typeof r.start && r.step) e = parseFloat(r.end), s = parseFloat(r.start); else if (e = De.max(this.X$[0][i], n), s = r && "undefined" != typeof r.start ? parseFloat(r.start) : De.min(this.X$[0][i], n), 1 < this.X$.length) for (var h = 1; h < this.X$.length; h++) { var o = De.max(this.X$[h][i], n), a = De.min(this.X$[h][i], n); e < o && (e = o), a < s && (s = a) } return { max: e, min: s } }, J$: function(t) { return Math.log(t) / Math.LN10 }, GD: function(t, i, e, s, n) { if (this.P.xAxis) { var r = this.canvases.x.renderTextAt(n, s, t, i - (n ? 2 : 0), this.P.xAxis.template(e)); r && (r.className += " webix_axis_item_x") } }, XD: function(t, i, e, s, n) { this.P.xAxis && this.P.xAxis.lines && this.z$(t, i, e, i, s, this.P.xAxis.lineColor.call(this, n), 1) }, z$: function(t, i, e, s, n, r, h) { t.strokeStyle = r, t.lineWidth = h, t.beginPath(), t.moveTo(i, e), t.lineTo(s, n), t.stroke(), t.lineWidth = 1 }, q$: function(t, i) { return [i != t ? i - t : t, 1] }, eI: [function(t) { return "#FF" + We.toHex(t / 2, 2) + "00" }, function(t) { return "#FF" + We.toHex(t / 2 + 128, 2) + "00" }, function(t) { return "#" + We.toHex(255 - t, 2) + "FF00" }, function(t) { return "#00FF" + We.toHex(t, 2) }, function(t) { return "#00" + We.toHex(255 - t, 2) + "FF" }, function(t) { return "#" + We.toHex(t, 2) + "00FF" }], Gc: ["#f55b50", "#ff6d3f", "#ffa521", "#ffc927", "#ffee54", "#d3e153", "#9acb61", "#63b967", "#21a497", "#21c5da", "#3ea4f5", "#5868bf", "#7b53c0", "#a943ba", "#ec3b77", "#9eb0b8"], qc: 0, addSeries: function(t) { var i = this.P; this.P = T.extend({}, i), this.Rt(t), this.X$.push(this.P), this.P = i }, $tooltipIn: function(t) { return t }, Te: function(t, i) { var e = this.locate(i); if (!e) return null; var s = this.hI(i), n = T.extend({ dx: 20, dy: 0, template: "{obj.value}", css: "" }, this.X$[s].tooltip || { template: "" }, !0); return ui.Nt.define(n), this.getItem(e) }, hI: function(t) { var i, e, s, n, r, h, o, a; for (e = this._u.pu, n = bt(this.Wi.Ni), o = (r = gt(t)).x - n.x, a = r.y - n.y, s = 0; s < e.length; s++)o <= (i = e[s].points)[2] && o >= i[0] && a <= i[3] && a >= i[1] && (h ? e[s].index > h.index && (h = e[s]) : h = e[s]); return h ? h.index : 0 }, hideSeries: function(t) { this.canvases[t].hideCanvas(); var i = this.P.legend; i && i.values && i.values[t] && (i.values[t].$hidden = !0, this.tI()), this._u.hide(this.Wi, t, !0) }, showSeries: function(t) { this.canvases[t].showCanvas(); var i = this.P.legend; i && i.values && i.values[t] && (delete i.values[t].$hidden, this.tI()), this._u.hide(this.Wi, t, !1) }, tI: function(t, i) {
				var e, s, n, r, h, o, a, u, c, f, l, d = 0, v = 0; if (t = t || [], i = i || this.ge, u = this.canvases.legend.getCanvas(), s = this.P.legend, a = "x" != this.P.legend.layout ? "width:" + s.width + "px" : "", this.ZD && (this.ZD.innerHTML = "", this.ZD.parentNode.removeChild(this.ZD)), this.canvases.legend.clearCanvas(!0), n = lt("DIV", { "class": "webix_chart_legend", style: "left:" + d + "px; top:" + v + "px;" + a }, ""), s.padding && (n.style.padding = s.padding + "px"), this.ZD = n, this.Wi.appendChild(n), h = [], s.values) for (e = 0; e < s.values.length; e++)h.push(this.oI(n, s.values[e].text, "undefined" != typeof s.values[e].id ? M(s.values[e].id) : e, s.values[e].$hidden)); else for (e = 0; e < t.length; e++)h.push(this.oI(n, s.template(t[e]), t[e].id)); var _, p, b = document.body.contains(this.Wi); for (b || (p = lt("DIV", { style: "visibility:hidden; position:absolute; top:0px; left:0px;" }, ""), _ = this.Wi.parentNode, document.body.appendChild(p),
					p.appendChild(this.Wi)), o = n.offsetWidth, r = n.offsetHeight, o < i && ("x" == s.layout && "center" == s.align && (d = (i - o) / 2), "right" == s.align && (d = i - o), s.margin && "center" != s.align && (d += ("left" == s.align ? 1 : -1) * s.margin)), r < this.xe && ("middle" == s.valign && "center" != s.align && "x" != s.layout ? v = (this.xe - r) / 2 : "bottom" == s.valign && (v = this.xe - r), s.margin && "middle" != s.valign && (v += ("top" == s.valign ? 1 : -1) * s.margin)), n.style.left = d + "px", n.style.top = v + "px", u.save(), e = 0; e < h.length; e++)l = h[e], c = s.values && s.values[e].$hidden ? (f = !0, s.values[e].disableColor ? s.values[e].disableColor : "#edeff0") : (f = !1, s.values ? s.values[e].color : this.P.color.call(this, t[e])), this.aI(u, l.offsetLeft + d, l.offsetTop + v, c, l.offsetHeight, f, e); u.restore(), b || (_.appendChild(this.Wi), vt(p)), h = null
			}, oI: function(t, i, e, s) { var n = ""; "x" == this.P.legend.layout && (n = "float:left;"); var r = lt("DIV", { style: n + "padding-left:" + (10 + this.P.legend.marker.width) + "px", "class": "webix_chart_legend_item" + (s ? " hidden" : ""), role: "button", tabindex: "0", "aria-label": A.aria[(s ? "show" : "hide") + "Chart"] + " " + i }, i); return 2 < arguments.length && r.setAttribute("series_id", e), t.appendChild(r), r }, aI: function(t, i, e, s, n, r, h) { var o = [], a = this.P.legend.marker, u = this.P.legend.values, c = u && u[h].markerType ? u[h].markerType : a.type; if (s && (t.strokeStyle = t.fillStyle = s), "round" != c && a.radius) if ("item" == c) { if (this.P.line && "scatter" != this.P.type && !this.P.disableLines) { t.beginPath(), t.lineWidth = this.X$[h].line.width, t.strokeStyle = r ? s : this.X$[h].line.color.call(this, {}); var f = i + 5, l = e + n / 2; t.moveTo(f, l); var d = f + a.width; t.lineTo(d, l), t.stroke() } var v = this.X$[h].item, _ = parseInt(v.radius.call(this, {}), 10) || 0, p = v.type.call(this, {}); _ && (t.beginPath(), r ? (t.lineWidth = v.borderWidth, t.strokeStyle = s, t.fillStyle = s) : (t.lineWidth = v.borderWidth, t.fillStyle = v.color.call(this, {}), t.strokeStyle = v.borderColor.call(this, {}), t.globalAlpha = v.alpha.call(this, {})), t.beginPath(), i += a.width / 2 + 5, e += n / 2, this.uD(t, i, e, _ + 1, p), t.fill(), t.stroke()), t.globalAlpha = 1 } else t.beginPath(), t.lineWidth = 1, i += 5, e += n / 2 - a.height / 2, o = [[i + a.radius, e + a.radius, a.radius, Math.PI, 3 * Math.PI / 2, !1], [i + a.width - a.radius, e], [i + a.width - a.radius, e + a.radius, a.radius, -Math.PI / 2, 0, !1], [i + a.width, e + a.height - a.radius], [i + a.width - a.radius, e + a.height - a.radius, a.radius, 0, Math.PI / 2, !1], [i + a.radius, e + a.height], [i + a.radius, e + a.height - a.radius, a.radius, Math.PI / 2, Math.PI, !1], [i, e + a.radius]], this.cD(t, o), t.stroke(), t.fill(); else { t.beginPath(); var b = a.height / 2; t.arc(i + b + 5, e + n / 2, b, 0, 2 * Math.PI), t.fill() } }, OD: function(t, i) { var e, s, n, r; if (e = this.P.padding.left, s = this.P.padding.top, n = t - this.P.padding.right, r = i - this.P.padding.bottom, this.P.legend) { var h = this.P.legend, o = this.P.legend.width, a = this.P.legend.height; "x" == h.layout ? "center" == h.valign ? "right" == h.align ? n -= o : "left" == h.align && (e += o) : "bottom" == h.valign ? r -= a : s += a : "right" == h.align ? n -= o : "left" == h.align && (e += o) } return { start: { x: e, y: s }, end: { x: n, y: r } } }, fD: function(t) { var i, e, s, n, r; if (this.P.yAxis && "undefined" != typeof this.P.yAxis.end && "undefined" != typeof this.P.yAxis.start && this.P.yAxis.step) s = parseFloat(this.P.yAxis.end), n = parseFloat(this.P.yAxis.start); else { for (i = 0; i < t.length; i++)for (t[i].$sum = 0, t[i].$min = Infinity, e = 0; e < this.X$.length; e++)r = Math.abs(parseFloat(this.X$[e].value(t[i]) || 0)), isNaN(r) || (-1 != this.X$[e].type.toLowerCase().indexOf("stacked") && (t[i].$sum += r), r < t[i].$min && (t[i].$min = r)); for (s = -Infinity, n = Infinity, i = 0; i < t.length; i++)t[i].$sum > s && (s = t[i].$sum), t[i].$min < n && (n = t[i].$min); 0 < n && (n = 0) } return { max: s, min: n } }, sD: function(t, i, e, s, n, r, h, o) { var a, u, c, f, l, d; return "light" == r ? (a = "x" == o ? t.createLinearGradient(i, e, s, e) : t.createLinearGradient(i, e, i, n), d = [[0, "#FFFFFF"], [.9, h], [1, h]], u = 2) : "falling" == r || "rising" == r ? (a = "x" == o ? t.createLinearGradient(i, e, s, e) : t.createLinearGradient(i, e, i, n), c = We.toRgb(h), (f = We.rgbToHsv(c[0], c[1], c[2]))[1] *= .5, l = "rgb(" + We.hsvToRgb(f[0], f[1], f[2]) + ")", "falling" == r ? d = [[0, l], [.7, h], [1, h]] : "rising" == r && (d = [[0, h], [.3, h], [1, l]]), u = 0) : (t.globalAlpha = .37, u = 0, a = "x" == o ? t.createLinearGradient(i, n, i, e) : t.createLinearGradient(i, e, s, e), d = [[0, "#9d9d9d"], [.3, "#e8e8e8"], [.45, "#ffffff"], [.55, "#ffffff"], [.7, "#e8e8e8"], [1, "#9d9d9d"]]), this.uI(a, d), { gradient: a, offset: u } },
			L$: function(t, i, e, s) { return t *= -1, { x: i += Math.cos(t) * s, y: e -= Math.sin(t) * s } }, uI: function(t, i) { for (var e = 0; e < i.length; e++)t.addColorStop(i[e][0], i[e][1]) }, cD: function(t, i) { var e, s; for (e = 0; e < i.length; e++)s = e ? "lineTo" : "moveTo", 2 < i[e].length && (s = "arc"), t[s].apply(t, i[e]) }, cI: function(t, i, e, s, n) { t.addRect(i, [e[0].x - s.x, e[0].y - s.y, e[1].x - s.x, e[1].y - s.y], n) }
		}, lo = { api: fo, view: T.protoUI(fo, Zh, Qh, to, io, eo, so, { $render_spline: function(t, i, e, s, n, r) { var h, o, a, u, c, f, l, d, v, _, p, b, m; if (c = this.nD(t, i, e, s, n), h = this.P, this.oD = e, a = [], i.length) { for (d = h.offset ? e.x + .5 * c.cellWidth : e.x, o = 0; o < i.length; o++)((p = this.rD(i[o], e, s, c)) || "0" == p) && (l = o ? c.cellWidth * o - .5 + d : d, a.push({ x: l, y: p, v: this.P.value(i[o]), index: o })); for (f = this.jD(a), o = 0; o < a.length; o++) { if (v = a[o].x, b = a[o].y, o < a.length - 1) { for (_ = a[o + 1].x, m = a[o + 1].y, u = v; u < _; u++) { var g = this.ND(u, v, o, f.a, f.b, f.c, f.d); g < e.y && (g = e.y), g > s.y && (g = s.y); var w = this.ND(u + 1, v, o, f.a, f.b, f.c, f.d); w < e.y && (w = e.y), w > s.y && (w = s.y), this.z$(t, u, g, u + 1, w, h.line.color(i[o]), h.line.width) } this.z$(t, _ - 1, this.ND(u, v, o, f.a, f.b, f.c, f.d), _, m, h.line.color(i[o]), h.line.width) } this.aD(t, v, b, i[a[o].index], h.label(i[a[o].index]), n, r) } } }, jD: function(t) { var i, e, s, n, r, h, o, a, u = [], c = [], f = t.length; for (r = 0; r < f - 1; r++)u[r] = t[r + 1].x - t[r].x, c[r] = (t[r + 1].y - t[r].y) / u[r]; for (a = [], (o = [])[0] = 0, o[1] = 2 * (u[0] + u[1]), a[0] = 0, a[1] = 6 * (c[1] - c[0]), r = 2; r < f - 1; r++)o[r] = 2 * (u[r - 1] + u[r]) - u[r - 1] * u[r - 1] / o[r - 1], a[r] = 6 * (c[r] - c[r - 1]) - u[r - 1] * a[r - 1] / o[r - 1]; for ((h = [])[f - 1] = h[0] = 0, r = f - 2; 1 <= r; r--)h[r] = (a[r] - u[r] * h[r + 1]) / o[r]; for (i = [], e = [], s = [], n = [], r = 0; r < f - 1; r++)i[r] = t[r].y, e[r] = -u[r] * h[r + 1] / 6 - u[r] * h[r] / 3 + (t[r + 1].y - t[r].y) / u[r], s[r] = h[r] / 2, n[r] = (h[r + 1] - h[r]) / (6 * u[r]); for (r = 0; r < t.length - 1; r++)0 === t[r].v && 0 === t[r + 1].v && (i[r] = t[r].y, n[r] = s[r] = e[r] = 0); return { a: i, b: e, c: s, d: n } }, ND: function(t, i, e, s, n, r, h) { return s[e] + (t - i) * (n[e] + (t - i) * (r[e] + (t - i) * h[e])) } }, no, ro, ho, { presets: { simple: { item: { borderColor: "#ffffff", color: "#2b7100", shadow: !1, borderWidth: 2 }, line: { color: "#8ecf03", width: 2 } }, plot: { color: "#8664C6", item: { borderColor: "#8664C6", borderWidth: 1, color: "#ffffff", type: "r", shadow: !1 }, line: { color: "#8664C6", width: 2 } }, diamond: { color: "#FF5C4C", item: { borderColor: "#FF5C4C", color: "#FF5C4C", type: "d", radius: 3, shadow: !0 }, line: { color: "#FF5C4C", width: 2 } }, point: { color: "#1ca1c1", disableLines: !0, fill: !1, disableItems: !1, item: { color: "#1ca1c1", borderColor: "#1ca1c1", radius: 2, borderWidth: 2, type: "r" }, alpha: 1 }, line: { line: { color: "#1ca1c1", width: 2 }, item: { color: "#ffffff", borderColor: "#1ca1c1", radius: 2, borderWidth: 2, type: "d" }, fill: !1, disableItems: !1, disableLines: !1, alpha: 1 }, area: { fill: "#1ca1c1", line: { color: "#1ca1c1", width: 1 }, disableItems: !0, alpha: .2, disableLines: !1 }, round: { item: { radius: 3, borderColor: "#1ca1c1", borderWidth: 1, color: "#1ca1c1", type: "r", shadow: !1, alpha: .6 } }, square: { item: { radius: 3, borderColor: "#00a497", borderWidth: 2, color: "#ffffff", type: "s", shadow: !1, alpha: 1 }, line: { color: "#00a497" } }, column: { color: "RAINBOW", gradient: !1, barWidth: 45, radius: 0, alpha: 1, border: !0 }, stick: { barWidth: 5, gradient: !1, color: "#1ca1c1", radius: 2, alpha: 1, border: !1 }, alpha: { color: "#b9a8f9", barWidth: 70, gradient: "falling", radius: 0, alpha: .5, border: !0 } } }, oo, ao, Ae, ji, be, He, g, Ri.view) }, vo = {
			name: "rangechart", $init: function() { this.attachEvent("onAfterRender", this.fI), this.lI() }, fI: function() {
				if (-1 === this.P.type.indexOf("pie") && "radar" !== this.P.type && this.P.type, this._u.pu.length && !this.dI) {
					this.vI(), this._I = (this._u.pu[0].points[2] - this._u.pu[0].points[0]) / 2; var t = { webix_disable_drag: "true", tabindex: "0", role: "button", "aria-label": A.aria.resizeChart }; this.pI = lt("div", T.extend({ "class": "webix_chart_resizer right" }, t)), this.bI = lt("div", T.extend({ "class": "webix_chart_resizer left" }, t)), this.dI = lt("div", { "class": "webix_chart_frame", webix_disable_drag: "true" }), this.Vt.appendChild(this.bI), this.Vt.appendChild(this.dI), this.Vt.appendChild(this.pI), this.mI(), Zt(this.pI, G.mouse.down, this.gI, { bind: this }), Zt(this.bI, G.mouse.down, this.gI, { bind: this }), Zt(this.dI, G.mouse.down, this.gI, { bind: this }), Zt(C(this.pI), "keydown", this.wI, { bind: this }), Zt(C(this.bI), "keydown", this.wI, { bind: this }), this.jC && (this.P.range = this.lI(this.jC)), this.xI(), this.callEvent("onAfterRangeChange",
						[this.jC]), this.data.attachEvent("onStoreUpdated", S(this.xI, this))
				} else this.mI(!0)
			}, $setSize: function(t, i) { lo.api.$setSize.call(this, t, i) && (this.vI(), this.xI()) }, mI: function(t) { this.pI && !this.yI && (this.yI = this.pI.clientWidth / 2, t && this.xI()) }, vI: function() { var t = this.OD(this.ge, this.xe); this.oD = t.start, this.MI = t.end }, removeAllSeries: function() { this.dI = this.pI = this.bI = null, lo.api.removeAllSeries.apply(this, arguments) }, wI: function(t) { var i = t.which || t.keyCode; if (37 === i || 39 === i) { wt(t); var e = -1 !== t.target.className.indexOf("right") ? "eindex" : "sindex", s = -1 !== t.target.className.indexOf("right") ? "end" : "start", n = this.jC; n[e] = n[e] + (37 === i ? -1 : 1), this._u.pu[n[e]] && (n[s] = this.SI(n[e]), this.setFrameRange(n)) } }, gI: function(t) { if (-1 !== t.target.className.indexOf("webix_chart_resizer")) this.kI = t.target; else if (this._u.pu.length) { var i = this._u.pu[this.jC.sindex].points[2] - this._I, e = this._u.pu[this.jC.eindex].points[2] - this._I; this.CI = { ex: gt(t).x, fx: i + this.oD.x, fw: e - i } } Mt(this.Vt, "webix_noselect webix_wresize_cursor"), this.$I(), this.DI = Qt(document.body, G.mouse.move, this.II, { bind: this }), this.AI = Qt(document.body, G.mouse.up, this.FI, { bind: this }) }, $I: function() { this.DI && (ti(this.DI), ti(this.AI), this.AI = this.DI = null) }, II: function(t) { if (this.kI) { var i = gt(t).x - bt(this.$view).x; i >= this.oD.x && i <= this.MI.x && (-1 !== this.kI.className.indexOf("left") ? i < this.pI.offsetLeft && (this.kI.style.left = i - this.yI + "px", this.dI.style.left = i + "px", this.dI.style.width = this.pI.offsetLeft - this.bI.offsetLeft - 1 + "px") : i > this.bI.offsetLeft + this.yI && (this.kI.style.left = i - this.yI + "px", this.dI.style.width = this.pI.offsetLeft - this.bI.offsetLeft - 1 + "px")) } else if (this.CI) { var e = gt(t).x - this.CI.ex, s = this.CI.fx + e, n = s + this.CI.fw; this.oD.x <= s && this.MI.x >= n && (T.extend(this.CI, { lx: s, rx: n }, !0), this.bI.style.left = s - this.yI + "px", this.pI.style.left = n - this.yI + "px", this.dI.style.left = s + "px") } }, FI: function(t) { if (this.$I(), St(this.Vt, "webix_noselect"), St(this.Vt, "webix_wresize_cursor"), this.count()) { if (this.kI) { var i = G.touch ? t.changedTouches[0].pageX : gt(t).x; i -= bt(this.$view).x + this.oD.x; var e = this.TI(i), s = this.SI(e); this.kI === this.bI ? (e >= this.jC.eindex && (e = this.jC.eindex, s = this.SI(e)), this.jC.start = s, this.jC.sindex = e) : (e <= this.jC.sindex && (e = this.jC.sindex, s = this.SI(e)), this.jC.end = s, this.jC.eindex = e), this.kI = null } else if (this.CI && this.CI.lx) { var n = this.jC.sindex = this.TI(this.CI.lx - this.oD.x), r = this.jC.eindex = this.TI(this.CI.rx - this.oD.x); this.jC.start = this.SI(n), this.jC.end = this.SI(r), this.CI = null } this.xI(), this.callEvent("onAfterRangeChange", [this.jC.start, this.jC.end]) } }, SI: function(t) { return t >= this.data.order.length && (t = this.data.order.length - 1), this.getItem(this.data.order[t])[this.P.frameId || "id"] }, TI: function(t) { for (var i = this._u.pu, e = 0; e < i.length; e++)if (t <= i[e].points[2] - this._I) return e; return i.length - 1 }, VI: function(t) { for (var i = this.P.frameId || "id", e = 0; e < this.data.order.length; e++)if (this.getItem(this.data.order[e])[i] == t) return e; return -1 }, lI: function(t) { t ? (t.start && (t.sindex = this.VI(t.start)), t.end && (t.eindex = this.VI(t.end)), t.start = t.start || this.SI(t.sindex), t.end = t.end || this.SI(t.eindex)) : t = { start: 0, end: 0, sindex: 0, eindex: 0 }, this.jC = t }, range_setter: function(t) { return this.lI(t), this.jC }, getFrameData: function() { for (var t = [], i = this.jC.sindex; i <= this.jC.eindex; i++) { var e = this.getItem(this.data.order[i]); e && t.push(e) } return t }, setFrameRange: function(t) { this.lI(t), this.xI(), this.callEvent("onAfterRangeChange", [t]) }, xI: function() { if (this._u) { var t = this._u.pu; if (t.length) { var i = t[this.jC.sindex].points[0] + this.oD.x + this._I - 1, e = t[this.jC.eindex].points[0] + this.oD.x + this._I - 1; this.bI.style.left = i - this.yI + "px", this.pI.style.left = e - this.yI + "px", this.dI.style.left = i + "px", this.dI.style.width = e - i + "px", this.P.range = this.jC } } }, getFrameRange: function() { return this.P.range }
		}, _o = (T.protoUI(vo, lo.view), {
			name: "grouplist", defaults: { animate: {} }, zm: "webix_grouplist", $init: function() { T.extend(this.data, ds, !0), this.data.count = function() { return this.order.length }, this.data.provideApi(this, !0), this.data.attachEvent("onClearAll", S(this.zI, this)), this.zI() }, zI: function() { this.BI = [], this.HI = [] }, $setSize: function() {
				Ri.api.$setSize.apply(this, arguments) && (this.tt.style.width = this.ge)
			}, on_click: { webix_list_item: function(t, i) { if (this.Xv) return !1; for (var e = 0; e < this.HI.length; e++)if (this.HI[e] == i) { for (var s = e; s < this.HI.length; s++)this.data.getItem(this.HI[s]).$template = ""; return e ? (this.BI = this.data.branch[this.HI[e - 1]], this.HI.splice(e)) : (this.BI = this.data.branch[0], this.HI = []), this.RI = !1, this.render() } var n = this.getItem(i); if (n.$count) return this.RI = !0, this.HI.push(i), n.$template = "Back", this.BI = this.data.branch[n.id], this.render(); this.P.select && (this.Hm = !0, "multiselect" == this.P.select || this.P.multiselect ? this.select(i, !1, "touch" == this.P.multiselect || t.ctrlKey || t.metaKey, t.shiftKey) : this.select(i), this.Hm = !1) } }, getOpenState: function() { return { parents: this.HI, branch: this.BI } }, render: function(t, i, e) { var s, n, r = this, h = arguments; if (this.HI = _(this.HI), this.BI = _(this.BI), this.HI.length) for (s = 0; s < this.HI.length; s++)this.data.branch[this.HI[s]] || (this.HI.splice(s, 1), s--); if (n = this.HI.length ? this.HI[this.HI.length - 1] : 0, this.BI = _(this.data.branch[n]), !this.BI.length && this.HI.length && (this.BI = [n], this.HI.pop()), this.Xv) return this.Xv.then(function() { return r.render.apply(r, h) }); for (s = 0; s < this.BI.length; s++)this.data.getItem(this.BI[s]).$template = ""; if (this.BI.length || (this.BI = this.data.branch[0]), this.data.order = D([].concat(this.HI).concat(this.BI)), this.callEvent("onBeforeRender", [this.data])) { if (!this.Hm && this.tt.innerHTML && Li.isSupported() && this.P.animate && this.EI != this.HI.length) { if (this.callEvent("onBeforeRender", [this.data])) { this.jI || (this.jI = []); var o = this.tt.cloneNode(!1); o.innerHTML = this.data.getRange().map(this.Q, this).join(""); var a = T.extend({}, this.P.animate); a.direction = this.RI ? "left" : "right"; var u, c = [l(a), l(a)]; this.RI ? this.jI.push(this.getScrollState()) : u = this.jI.pop(); var f = Li.formLine(o, this.tt, a); a.master = this, a.callback = function() { this.tt = o, this.RI ? this.scrollTo(0, 0) : u && this.scrollTo(0, u.y), Li.breakLine(f), a.master = a.callback = null, this.Ni = this.Xv = null, a.wait_animation.resolve(), this.callEvent("onAfterRender", []) }, Li(f, c), this.Xv = a.wait_animation = b.defer() } } else { if (t && "delete" !== e && -1 === this.data.getIndexById(t)) return; Ne.render.apply(this, arguments) } this.EI = this.HI.length } }, templateBack_setter: function(t) { this.type.templateBack = qt(t) }, templateItem_setter: function(t) { this.type.templateItem = qt(t) }, templateGroup_setter: function(t) { this.type.templateGroup = qt(t) }, type: { template: function(t, i) { return t.$count ? i.templateGroup(t, i) : i.templateItem(t, i) }, css: "group", classname: function(t, i, e) { return "webix_list_item webix_" + (t.$count ? "group" : "item") + (t.$template ? "_back" : "") + (e && e.webix_selected ? " webix_selected" : "") + (i.css ? " " + i.css : "") + (t.$css ? " " + t.$css : "") }, templateStart: qt('<div webix_l_id="#id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()};  overflow:hidden;" {common.aria()}>'), templateBack: qt("#value#"), templateItem: qt("#value#"), templateGroup: qt("#value#"), templateEnd: function(t) { var i = ""; return t.$count && (i += "<div class='webix_arrow_icon'></div>"), i += "</div>" } }, showItem: function(t) { var i, e; for (t && (e = (i = this.getItem(t)).$parent, i.$count && (e = i.id)), this.BI = this.data.branch[e || 0], this.HI = []; e;)this.getItem(e).$template = "Back", this.HI.unshift(e), e = this.getItem(e).$parent; this.Hm = !0, this.render(), this.Hm = !1, Ne.showItem.call(this, t) }
		}); ii(T.protoUI(_o, Ae, Gr.view), {}); var po = {
			name: "unitlist", ea: "webix_item_id", uniteBy_setter: qt, render: function(t, i, e) { var s = this.P; if (this.isVisible(s.id) && s.uniteBy) { if (t) { var n = this.getItemNode(t); if (n && "update" == e && this.P.uniteBy.call(this, i) == this.getItem(t).$unitValue) return _t(this.Ni[t] = this.xc(i), n), void vt(n) } this.callEvent("onBeforeRender", [this.data]) && (this.units = null, this.NI(), this.units && (this.callEvent("onUnits", []), this.tt.innerHTML = this.LI().map(this.Q, this).join(""), this.Ni = null), this.callEvent("onAfterRender", [])) } }, getUnits: function() { var t = []; if (this.units) for (var i in this.units) t.push(i); return t }, getUnitList: function(t) { return this.units ? this.units[t] : null }, Q: function(t) {
				var i = this.data.Fh[t.id]
				; return !t.$template || this.type["template" + t.$template], t.$template, this.callEvent("onItemRender", [t]), t.$unit ? this.type.templateStartHeader(t, this.type) + this.type.templateHeader.call(this, t.$unit) + this.type.templateEnd(t, this.type) : this.type.templateStart(t, this.type, i) + (t.$template ? this.type["template" + t.$template] : this.type.template)(t, this.type) + this.type.templateEnd(t, this.type)
			}, LI: function() { var t = [], i = this.data.$min || 0, e = this.data.$max || Infinity, s = 0; for (var n in this.units) { t.push({ $unit: n }); for (var r = this.units[n], h = 0; h < r.length; h++) { if (s == i && (t = [{ $unit: n }]), t.push(this.getItem(r[h])), s == e) return D(t); s++ } } return D(t) }, NI: function() { var e = this; this.units = {}, this.data.each(function(t) { var i = e.P.uniteBy.call(this, t); t.$unitValue = i, e.units[i] || (e.units[i] = []), e.units[i].push(t.id) }) }, type: { headerHeight: 20, classname: function(t, i, e) { var s = "webix_list_item"; return i.css && (s += " webix_list_" + i.css + "_item"), e && e.$css && (s += " " + e.$css), t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css), s }, templateHeader: function(t) { return "<span class='webix_unit_header_inner'>" + t + "</span>" }, templateStart: function(t, i, e) { if (t.$unit) return i.templateStartHeader.apply(this, arguments); var s = "width:" + i.widthSize(t, i, e) + "; height:" + i.heightSize(t, i, e) + "; overflow:hidden;" + (i.layout && "x" == i.layout ? "float:left;" : ""); return '<div webix_item_id="' + t.id + '" class="' + i.classname(t, i, e) + '" style="' + s + '" ' + i.aria(t, i, e) + ">" }, templateStartHeader: function(t, i, e) { var s = "webix_unit_header" + (i.css ? " webix_unit_header_" + i.css + "_item" : ""), n = "width:" + i.widthSize(t, i, e) + "; height:" + i.headerHeight + "px; overflow:hidden;"; return '<div webix_unit_id="' + t.$unit + '" class="' + s + '" style="' + n + '">' } }, $skin: function() { Gr.api.$skin.call(this), this.type.headerHeight = Oi.unitHeaderHeight }
		}; T.protoUI(po, Gr.view); A.dbllist = { selectAll: "<span class='webix_icon wxi-angle-double-right'></span>", selectOne: "<span class='webix_icon wxi-angle-right'></span>", deselectAll: "<span class='webix_icon wxi-angle-double-left'></span>", deselectOne: "<span class='webix_icon wxi-angle-left'></span>" }; var bo = {
			name: "dbllist", defaults: { borderless: !0 }, $init: function() { this.OI = {}, this.WI = S(function(t) { return this.OI[t.id] }, this), this.UI = S(function(t) { return !this.OI[t.id] }, this), this.$view.className += " webix_dbllist", this.$ready.unshift(this.Eg) }, $onLoad: function(t, i) { var e = this.$$("left"), s = this.$$("right"); return this.YI(function() { e.data.driver = i, e.parse(t), s.data.driver = i, s.parse(t) }), this.qI = !0, this.PC(), !0 }, GI: function() { if (!1 === this.P.buttons) return { width: 10 }; var t = A.dbllist, i = [this.XI("deselect_all", t.deselectAll), this.XI("select_all", t.selectAll), this.XI("deselect_one", t.deselectOne), this.XI("select_one", t.selectOne)]; return i = { width: 120, template: i.join(""), onClick: { dbllist_button: function(t, i, e) { this.getTopParentView().KI(e.getAttribute("action")) } } }, this.P.buttons && (i.template = this.P.buttons), i }, XI: function(t, i) { return "<button class='dbllist_button' action='" + t + "'>" + i + "</button>" }, JI: function(t, i, e, s) { var n = { view: "list", select: "multiselect", multiselect: "touch", id: t, action: i, drag: !0, type: { margin: 3, id: t }, on: { onBeforeDrop: function(t) { var i = t.from, e = t.to, s = i.getTopParentView(); if (s === this.getTopParentView()) { var n = "select_one" != e.P.action; s.select(t.source, n) } return !1 }, onItemDblClick: function() { return this.getTopParentView().KI(this.config.action) } } }; return this.P.list && T.extend(n, this.P.list, !0), e && (n = { rows: [{ view: "label", label: e, css: "webix_inp_top_label" }, n] }), s ? { rows: [n, { view: "label", height: 20, label: s, css: "bottom_label" }] } : n }, Eg: function() { var t = [{ margin: 10, type: "clean", cols: [this.JI("left", "select_one", this.P.labelLeft, this.P.labelBottomLeft), this.GI(), this.JI("right", "deselect_one", this.P.labelRight, this.P.labelBottomRight)] }]; this.cols_setter(t) }, KI: function(t) { var i = null, e = !1; "select_all" === t ? (i = this.$$("left").data.order, e = !0) : "select_one" === t ? (i = this.$$("left").getSelectedId(!0), e = !0) : "deselect_all" === t ? (i = this.$$("right").data.order, e = !1) : "deselect_one" === t && (i = this.$$("right").getSelectedId(!0), e = !1), this.select(i, e) }, select: function(t, i) {
				var e; if ("object" !== M(t) && (t = [t]), i
				) for (e = 0; e < t.length; e++)this.OI[t[e]] = !0; else for (e = 0; e < t.length; e++)delete this.OI[t[e]]; this.PC(), this.callEvent("onChange", [])
			}, YI: function(t, i) { di(S(t, this), !1), i && (this.$$("left").P.autoheight || this.$$("right").P.autoheight) && this.resize() }, PC: function() { var t = this.$$("left"), i = this.$$("right"); t && this.YI(function() { t.filter(this.UI), i.filter(this.WI) }, !0) }, focus: function() { if (!Si.canFocus(this)) return !1; Si.setFocus(this) }, value_setter: function(t) { this.setValue(t) }, setValue: function(t) { if (this.OI = {}, t) { "object" !== M(t) && (t = t.toString().split(",")); for (var i = 0; i < t.length; i++)this.OI[t[i]] = !0 } this.PC() }, getValue: function() { var t = [], i = this.$$("left"); for (var e in this.OI) this.qI && !i.data.pull[e] || t.push(e); return t.join(",") }
		}, mo = (T.protoUI(bo, Rt, Ve, $n.view), { name: "tree", defaults: { scroll: "auto", navigation: !0 }, $init: function() { this.Vt.className += " webix_tree", T.extend(this.data, ds, !0), T.extend(this.on_click, as), this.data.provideApi(this, !0), this.Vt.setAttribute("role", "tree") }, ea: "webix_tm_id", on_context: {}, on_dblclick: { webix_tree_checkbox: function() { if (this.on_click.webix_tree_checkbox) return this.on_click.webix_tree_checkbox.apply(this, arguments) } }, $fixEditor: function(t) { var i = this.getItemNode(t.id).querySelector("span"); if (i) { "" === i.innerHTML && (i.innerHTML = "&nbsp;"); var e = i.offsetLeft; t.node.style.width = this.$view.scrollWidth - e - 10 + "px", t.node.style.marginLeft = e + "px", t.node.style.left = "0px" } }, on_click: { webix_tree_item: function(t, i) { this.P.activeTitle && (this.getItem(i).open ? this.close(i) : this.open(i)); if (this.P.select) if ("multiselect" == this.P.select || this.P.multiselect) { var e = t.ctrlKey || t.metaKey || "touch" == this.P.multiselect; if ("level" == this.P.multiselect && (e || t.shiftKey)) { var s = this.getSelectedId(!0)[0]; if (s && this.getParentId(i) != this.getParentId(s)) return } this.select(i, !1, e, t.shiftKey) } else this.select(i) } }, Zn: { insert: function(t) { var i = this.getSelectedId() || "0"; this.add({ value: t }, null, i) }, modify: function(t) { for (var i = this.getSelectedId(!0), e = 0; e < i.length; e++)this.getItem(i[e]).value = t, this.refresh(i[e]) }, custom: function() { } }, Jo: !0, $dragHTML: function(t, i, e) { var s = "<div class='webix_tree_item'>" + this.type.template(t, this.type) + "</div>"; return $(e.source) && 1 < e.source.length && (s = this.Wo(s, e.source.length)), s }, Xo: function(t) { for (var i = t.source, e = 0; e < i.length; e++)this.close(i[e]) }, Go: function(t, i) { var e = this.getItemNode(t); e ? e.parentNode.insertBefore(Ki.dn[0], e) : i.children[0].children[0].appendChild(Ki.dn[0]) }, type: T.extend({ template: function(t, i) { return (i["template" + t.level] || i.templateCommon).apply(this, arguments) }, classname: function(t, i, e) { var s = "webix_tree_item"; return t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css), e && e.$css && (s += " " + e.$css), i.css && (s += " " + i.css), s }, aria: function(t, i, e) { return 'role="treeitem"' + (e && e.webix_selected ? ' aria-selected="true" tabindex="0"' : ' tabindex="-1"') + (t.$count ? 'aria-expanded="' + (t.open ? "true" : "false") + '"' : "") + 'aria-level="' + t.$level + '"' }, templateCommon: qt("{common.icon()} {common.folder()} <span>#value#</span>"), templateStart: qt('<div webix_tm_id="#id#" class="{common.classname()}" {common.aria()}>'), templateEnd: qt("</div>"), templateCopy: qt("#value#") }, _s) }), go = T.protoUI(mo, ls, Ae, os, ge, cs, Oe, ze, He, Le, us, Yr.view, fs, he, g), wo = { api: mo, view: go }; ii(go, { name: "lineTree", css: "webixLineTree", icon: function(t, i) { for (var e = "", s = "", n = 1; n <= t.$level; n++) { n == t.$level && (s = t.$count ? t.open ? "webix_tree_open " : "webix_tree_close " : "webix_tree_none "); var r = i.ZI(t, i, n); r && (e += "<div class='" + s + "webix_tree_img webix_tree_" + r + "'></div>") } return e }, ZI: function(t, i, e) { var s = i.pf, n = fs.Be; if (0 === s && n) { var r = t.$level, h = t.id; for (s = []; r;) { var o = n.getParentId(h), a = n.data.branch[o]; a[a.length - 1] == h && (s[r] = !0), h = o, r-- } i.pf = s } if (!s) return 0; if (e != t.$level) return s[e] ? "blank" : "line1"; var u = 3; return t.$parent || 0 === t.$index && (u = 4), s[t.$level] && (u = 2), t.$count ? t.open ? "minus" + u : "plus" + u : "line" + u } }); var xo = {
			name: "treemap", defaults: { activeItem: !1, subRender: !0, header: !0, headerHeight: 35, value: qt("#value#"), headerTemplate: "", navigation: !0 }, value_setter: qt, headerTemplate_setter: qt, header_setter: function(t) {
				return t && !0 !== t && (this.type.header = t), t
			}, $init: function() { this.$view.className += " webix_treemap", this.Vt.setAttribute("role", "tree"), this.QI = document.createElement("DIV"), T.extend(this.data, ds, !0), this.data.provideApi(this, !0), this.data.attachEvent("onClearAll", S(function() { this.Oi = "", this.$values = {}, this.$xy = {} }, this)), this.attachEvent("onKeyPress", this.Ce) }, df: function(t) { var i = this.data.Fh[t.id]; this.callEvent("onItemRender", [t]); var e = t.$template ? this.type["template" + t.$template].call(this, t, this.type, i) : this.type.template.call(this, t, this.type, i); return this.type.templateStart.call(this, t, this.type, i) + e + this.type.templateEnd.call(this) }, tA: function(t) { var i = this.getItem(t), e = this.P.headerHeight, s = "<div class='webix_treemap_header' style='height:" + e + "px;line-height:" + e + "px;'>"; return s += this.type.header.call(this, i, this.type), s += "</div>" }, S$: function(t) { var i, e, s, n, r = []; if (!this.$width || !this.count()) return this.Oi = "", !1; if (t || (t = this.config.branch || 0, this.Oi = "", this.$values = {}, this.$xy = {}, this.$xy[t] = { width: this.$width, height: this.$height, top: 0, left: 0 }, t && this.P.header && (this.$xy[t].height -= this.P.headerHeight, this.$xy[t].top = this.P.headerHeight, this.Oi += this.tA(t)), n = 0, this.data.each(function(t) { var i = this.getParentId(t.id); if (!this.data.branch[t.id] && (s = 1 * this.config.value.call(this, t), !isNaN(s) && s)) for (this.$values[t.id] = s, n += s; i;)this.$values[i] || (this.$values[i] = 0), this.$values[i] += s, i = this.getParentId(i) }, this, !1, t)), this.data.eachChild(t, function(t) { this.$values[t.id] && r.push(_(t)) }, this), n = n || this.$values[t], r.length && n) { (e = { top: (i = this.$xy[t]).top, left: i.left, dx: i.width, dy: i.height, set: [], sum: 0 }).dim = Math.min(e.dx, e.dy); for (var h = e.dx * e.dy / n, o = 0; o < r.length; o++)r[o].$value = this.$values[r[o].id] * h; r.sort(function(t, i) { return t.$value > i.$value ? -1 : 1 }); for (var a = Infinity, u = 0; r[u];) { var c = this.iA(e, r[u]); if (c < a) e.sum += r[u].$value, e.set.push(r[u]), a = c, u++; else { this.tb(e); var f = { top: e.top, left: e.left, dx: e.dx, dy: e.dy, set: [], sum: 0 }, l = e.sum / e.dim; e.dx > e.dy ? (f.left += l, f.dx -= l) : (f.top += l, f.dy -= l), (e = f).dim = Math.min(e.dx, e.dy), a = Infinity } } } e && this.tb(e) }, tb: function(t) { var i, e, s, n, r = t.top, h = t.left; for (t.mode = t.dy < t.dx, t.contra = t.sum / t.dim, i = 0; i < t.set.length; i++)e = t.set[i].id, n = t.mode ? (s = t.contra, t.set[i].$value / t.contra) : (s = t.set[i].$value / t.contra, t.contra), this.$xy[e] = {}, this.$xy[e].top = r, this.$xy[e].left = h, t.mode ? r += n : h += s, this.$xy[e].width = s, this.$xy[e].height = n, this.Oi += this.df(this.getItem(e)), this.P.subRender && this.data.branch[e] && this.S$(e) }, iA: function(t, i) { var e = t.sum + i.$value, s = e * e / (t.dim * t.dim * i.$value); return t.set.length && (s = Math.max(t.dim * t.dim * t.set[0].$value / (e * e), s)), 1 < s ? s : 1 / s }, xc: function(t) { return this.QI.innerHTML = this.df(t), this.QI.firstChild }, showBranch: function(t) { this.P.branch = t, this.refresh() }, render: function(t, i, e) { if (this.isVisible(this.P.id) && !this.$blockRender) { if ("update" == e) { var s = this.getItemNode(t); if (s) _t(this.Ni[t] = this.xc(i), s), vt(s) } else !this.data.branch || this.P.branch && !this.data.branch[this.P.branch] || (this.Ni = null, this.callEvent("onBeforeRender", []), this.S$(), this.tt.innerHTML = this.Oi, this.callEvent("onAfterRender", [])); return !0 } }, ea: "webix_dm_id", on_click: { webix_treemap_item: function(t, i) { this.P.select && ("multiselect" == this.P.select || this.P.multiselect ? this.select(i, !1, t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, t.shiftKey) : this.select(i)), this.P.activeItem && this.isBranch(i) && this.showBranch(i) }, webix_treemap_header_item: function(t) { var i = pt(t, "webix_dm_header_id"); this.define("branch", i), this.refresh() }, webix_treemap_reset: function() { this.define("branch", 0), this.refresh() } }, on_dblclick: {}, on_mouse_move: {}, eA: function(t) { var i = ""; for (var e in t) i += e + ":" + t[e] + ";"; return i }, type: {
				template: qt("#value#"), header: function(t, i) { for (var e = t.id, s = "<div role='button' tabindex='0' aria-label='" + A.aria.resetTreeMap + "' class='webix_treemap_reset'></div>", n = []; e;)t = this.getItem(e), n.push(i.headerItem.call(this, t, i)), e = this.getParentId(e); return n.reverse(), s + n.join("<span class='webix_icon wxi-angle-right webix_treemap_path_icon'></span>") }, headerItem: function(t) {
					var i = this.config.headerTemplate(t), e = '<a role="button" tabindex="0" aria-label="' + i + '" webix_dm_header_id="' + t.id + '" class="webix_treemap_header_item">'; return e += i, e += "</a>"
				}, classname: function(t, i, e) { var s = "webix_treemap_item"; i.css && (s += " " + i.css), t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css); var n = this.$xy[t.id]; e && e.$css && (s += " " + e.$css), s += " webix_treemap_level_" + this.getItem(t.id).$level; var r = this.getParentId(t.id); if (r && r != this.P.branch || (s += " webix_treemap_level_top"), this.$height - n.top - n.height < 1 && (s += " webix_treemap_item_bottom"), this.$width - n.left - n.width < 1 && (s += " webix_treemap_item_right"), i.cssClass) { var h = i.cssClass.call(this, t, i, e); h && ("object" == M(h) ? s += " " + ut(h) : s += " " + h) } return s }, templateStart: function(t, i, e) { var s = ""; if (this.$xy) { var n = this.$xy[t.id]; s += "width: " + n.width + "px; height: " + n.height + "px;", s += "top: " + n.top + "px; left: " + n.left + "px;" } return '<div role="treeitem" aria-level="' + t.$level + '" ' + (e && e.webix_selected ? 'aria-selected="true" tabindex="0"' : "") + ' webix_dm_id="' + t.id + '" class="' + i.classname.call(this, t, i, e) + '" style="' + s + '">' }, templateEnd: qt("</div>")
			}
		}, yo = (T.protoUI(xo, Ae, os, Oe, ze, He, Le, us, Yr.view, fs, he, g), {
			name: "dataview", $init: function(t) { t.sizeToContent && this.$ready.unshift(this.fh); var i = t.type || t.item; t.prerender || this.defaults.prerender || i && "auto" == i.width || "move" == t.drag || "order" == t.drag || t.autoheight || T.extend(this, gs, !0), t.autoheight && (t.scroll = !1), i && "tiles" == i.type && (this.el = i.padding || this.type.padding, this.Vt.firstChild.style["float"] = "left", this.Vt.firstChild.style.padding = this.el / 2 + "px"), this.Wi.className += " webix_dataview", this.Vt.setAttribute("role", "listbox") }, fh: function() { var t = lt("DIV", 0, this.type.template({})); t.className = "webix_dataview_item", t.style.position = "absolute", document.body.appendChild(t), this.type.width = t.offsetWidth + this.el, this.type.height = t.offsetHeight + this.el, vt(t) }, defaults: { scroll: !0, datafetch: 50, navigation: !0 }, ea: "webix_l_id", lr: "webix_dataview_item", el: 0, Qo: "x", on_click: { webix_dataview_item: function(t, i) { this.P.select && ("multiselect" == this.P.select || this.P.multiselect ? this.select(i, !1, "touch" == this.P.multiselect || t.ctrlKey || t.metaKey, t.shiftKey) : this.select(i)) } }, on_dblclick: {}, on_mouse_move: {}, type: { template: qt("#value#"), templateLoading: qt("Loading..."), width: 160, height: 50, padding: 8, classname: function(t, i, e) { var s = "webix_dataview_item"; return i.css && (s += " " + i.css), i.type && (s += " " + i.type), t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css), e && e.$css && (s += " " + e.$css), s }, aria: function(t, i, e) { return 'role="option"' + (e && e.webix_selected ? ' aria-selected="true" tabindex="0"' : ' tabindex="-1"') }, templateStart: function(t, i, e) { var s = i.width, n = i.height, r = 0; return "tiles" == i.type && (s -= i.padding, n -= i.padding, r = i.padding / 2), '<div webix_l_id="' + t.id + '" class="' + i.classname(t, i, e) + '" ' + i.aria(t, i, e) + ' style="margin:' + r + "px; width:" + s + "px; height:" + n + 'px; float:left; overflow:hidden;">' }, templateEnd: qt("</div>") }, $dropHTML: function() { var t = this.el; return '<div class="webix_drop_area_inner" style="width:'.concat(this.type.width - t, "px; height:").concat(this.type.height - t, "px; margin:").concat(t / 2, 'px"></div>') }, sA: function(t) { return this.P.height = this.type.height * Math.ceil(this.data.count() / Math.floor(t / this.type.width)) }, autoheight_setter: function(t) { return t && (this.data.attachEvent("onStoreLoad", S(this.resize, this)), this.Wi.style.overflowY = "hidden"), t }, $getSize: function(t, i) { this.P.xCount && "auto" != this.type.width && !this.nA && (this.P.width = this.type.width * this.P.xCount + this.el + (this.we ? G.scrollSize : 0)), this.P.yCount && "auto" != this.type.height && !this.rA && (this.P.height = this.type.height * this.P.yCount + this.el); var e = this.P.width || this.ge; return this.P.autoheight && e && (this.hA(), this.sA(e), this.scroll_setter(!1)), Ri.api.$getSize.call(this, t, i) }, hA: function() {
				return this.P.yCount && (this.rA || "auto" == this.type.height) && (this.type.height = Math.floor((this.xe - this.el) / this.P.yCount), this.rA = this.P.yCount), this.P.xCount && (this.nA || "auto" == this.type.width) && (this.type.width = Math.floor((this.ge - this.el) / this.P.xCount), this.nA = this.P.xCount),
					this.rA || this.nA
			}, $setSize: function(t, i) { var e = this.P; if (Ri.api.$setSize.call(this, t, i)) { if (e.autoheight && this.sA() != this.xe) return k(this.resize, this); (this.hA() || this.qf) && this.render() } else (e.yCount && e.yCount != this.rA || e.xCount && e.xCount != this.nA) && this.hA() && this.render() }
		}); T.protoUI(yo, ce, ge, He, ze, Oe, Le, oe, Yr.view); A.pager = { first: "<span class='webix_icon wxi-angle-double-left'></span>", last: "<span class='webix_icon wxi-angle-double-right'></span>", next: "<span class='webix_icon wxi-angle-right'></span>", prev: "<span class='webix_icon wxi-angle-left'></span>" }; var Mo = { defaults: { size: 10, page: 0, group: 5, template: "{common.pages()}", maxWidth: 1e5, height: 30, borderless: !0 }, name: "pager", on_click: { webix_pager_item: function(t, i) { this.select(i) } }, $init: function(t) { this.data = this.P, this.tt = this.Vt, this.Vt.className += " webix_pager" + (t.autowidth ? " webix_pager_auto" : ""), !1 !== t.master && 0 !== t.master || this.$ready.push(this.oA) }, oA: function() { this.refresh(), this.$master = { refresh: function() { }, select: function() { } } }, select: function(t) { if (this.$master && "pager" == this.$master.name) return this.$master.select(t); switch (t) { case "next": t = this.P.page + 1; break; case "prev": t = this.P.page - 1; break; case "first": t = 0; break; case "last": t = this.P.limit - 1 }t < 0 && (t = 0), t >= this.data.limit && (t = this.data.limit - 1); var i = this.data.page; this.callEvent("onBeforePageChange", [t, i]) && (this.data.page = 1 * t, this.refresh() && (this.P.animate && this.LC(i, 1 * t, this.P.animate) || this.$master.refresh()), this.callEvent("onAfterPageChange", [t])) }, ea: "webix_p_id", template_setter: qt, type: { template: function(t, i) { return t.template.call(this, t, i) }, pages: function(t) { var i = ""; if (-1 == t.page) return ""; t.$min = t.page - Math.round((t.group - 1) / 2), t.$max = t.$min + 1 * t.group - 1, t.$min < 0 && (t.$max += -1 * t.$min, t.$min = 0), t.$max >= t.limit && (t.$min -= Math.min(t.$min, t.$max - t.limit + 1), t.$max = t.limit - 1); for (var e = t.$min || 0; e <= t.$max; e++)i += this.button({ id: e, index: e + 1, selected: e == t.page ? "_selected" : "", label: A.aria.page + " " + (e + 1) }); return i }, page: function(t) { return t.page + 1 }, first: function() { return this.button({ id: "first", index: A.pager.first, selected: "", label: A.aria.pages[0] }) }, last: function() { return this.button({ id: "last", index: A.pager.last, selected: "", label: A.aria.pages[3] }) }, prev: function() { return this.button({ id: "prev", index: A.pager.prev, selected: "", label: A.aria.pages[1] }) }, next: function() { return this.button({ id: "next", index: A.pager.next, selected: "", label: A.aria.pages[2] }) }, button: qt("<button type='button' webix_p_id='{obj.id}' class='webix_pager_item{obj.selected}' aria-label='{obj.label}'>{obj.index}</button>") }, clone: function(t) { t.$view || (t.view = "pager", t = ni(t)), ((this.uA = t).$master = this).aA() }, refresh: function() { var t = this.P; t.limit = Math.ceil(t.count / t.size) || 1; var i = Math.min(t.limit - 1, t.page); return i != t.page ? this.$master.setPage(i) : 0 <= (t.page = i) && i != t.old_page || t.limit != t.old_limit || t.old_count != t.count ? (this.render(), this.aA(), t.old_limit = t.limit, t.old_page = t.page, t.old_count = t.count, !0) : void 0 }, apiOnly_setter: function(t) { return this.$apiOnly = t }, aA: function() { this.uA && (this.uA.P.count = this.P.count, this.uA.P.page = this.P.page, this.uA.refresh()) }, LC: function(t, i, e) { if (t == i) return !1; if (this.cA) return this.fA && window.clearTimeout(this.fA), this.fA = k(this.LC, this, [t, i, e], 100); var s = t < i ? "left" : "right"; "top" != e.direction && "bottom" != e.direction || (s = t < i ? "top" : "bottom"), e.flip && (s = ""); var n = 0, r = this.$master.tt, h = !!this.$master.st; h && (n = (r = this.$master.st).offsetTop, Mt(this.$master.$view, "webix_animation")); var o, a = r.cloneNode(!0); a.style.width = r.style.width = "100%", this.$master.refresh(), _t(a, r.nextSibling, r.parentNode), h && (a.childNodes[1].scrollLeft = r.childNodes[1].scrollLeft); var u = !0 !== e ? e : {}, c = T.extend({ direction: s, callback: S(function() { c.callback = null, Li.breakLine(o), this.cA = !1, this.$master.st && St(this.$master.$view, "webix_animation") }, this), top: n, keepViews: h }, u); o = Li.formLine(r, a, c), Li([r, a], c), this.cA = !0 } }, So = (T.protoUI(Mo, He, Ei, Ri.view, g), {
			name: "comments", defaults: { sendAction: "click", mode: "comments", highlight: !0 }, $init: function(t) {
				this.$view.className += " webix_comments", this.Bt = [], t.rows = [this.lA(t)], t.moreButton || (
					t.moreButton = qt(A.comments.moreComments)), t.readonly || (t.rows.push(this.dA(t)), this.vA()), this._A(t.users), this.$ready.push(this.M$)
			}, $exportView: function() { return this.pA }, M$: function() { var e = this; this.pA = this.queryView("list"), this.iw = this.queryView("form"), this.bA = this.queryView("button"), this.mA = this.queryView({ localId: "textarea" }), this.config.mentions && this.gA(this.config.mentions), this.pA.data.provideApi(this, !0), this.serialize = function() { var t = e.pA.serialize(), i = e.getIndexById("$more"); return 0 <= i && t.splice(i, 1), t }, this.P.readonly || (this.wA = F("onClick", function(t) { var i = ai(t); i == e.mA ? e.focus() : i === e.bA || i === e.xA || e.yA && i === e.yA.getList() || t && -1 !== (t.target.className || "").toString().indexOf("webix_comments_menu") || e.MA() }), this.attachEvent("onDestruct", function() { B(this.wA) }), this.pA.attachEvent("onAfterScroll", function() { e.xA.hide() })) }, $onLoad: function(t, i) { return this.SA(t, i) }, SA: function(t, i) { var e = this, s = this.pA || this.queryView({ view: "list" }); s.data.driver = i; var n = !1; if (t = "function" == typeof t.serialize ? t.serialize() : (n = t.more, i.getRecords(t)), this.kA) { if (this.kA = !1, t.length) { var r = s.data.order, h = 1; if ("chat" == this.P.mode) s.data.order = D([r[0]].concat(new Array(t.length), r.slice(1))); else { var o = s.getIndexById("$more"); s.data.order = D(r.slice(0, o).concat(new Array(t.length), r.slice(o))), h = o } s.parse({ data: t, pos: h }), n && ve(this.pA).ignore(function() { e.pA.updateItem("$more", { value: n }) }), "chat" == this.P.mode && s.showItem(s.getIdByIndex(t.length)) } t.length && n || ve(this.pA).ignore(function() { e.pA.remove("$more") }) } else n && !s.exists("$more") && (n = { id: "$more", value: n, $css: "webix_comments_more_item" }, "chat" == this.P.mode ? t.unshift(n) : t.push(n)), s.parse(t), "chat" == this.P.mode && s.waitData.then(function() { return s.showItem(s.getLastId()) }); return !0 }, $skin: function() { $n.api.$skin.call(this), this.Pb = Oi.inputHeight + 6 }, getUsers: function() { return this.CA }, getMenu: function() { return this.xA }, setCurrentUser: function(t, i) { this.config.currentUser = t, this.iw.clear(i), this.pA.refresh() }, edit: function(t, i) { if (!this.config.readonly && this.callEvent("onBeforeEditStart", [t])) { this.MA(!0); var e = this.pA.getItem(t); this.iw.setValues(e, !1, i), this.iw.focus(); var s = this.iw.elements.text.getInputNode(); s.scrollTop = s.scrollHeight, Dt(s, e.text.length), this.callEvent("onAfterEditStart", [t]) } }, $A: function(t) { var i = this.iw.getValues(); i.text && (i.id ? this.updateItem(i.id, i) : (this.config.currentUser && (i.user_id = this.config.currentUser), i.date = new Date, this.add(i), this.pA.showItem(i.id)), this.iw.clear("user"), t && (this.mA.getInputNode().value = "")) }, DA: function(t) { this.iw.getValues().id == t && this.iw.clear("user"), this.remove(t) }, MA: function(t) { if (!G.touch && !t != !this.IA) { var i = this.mA; this.IA = t ? (this.bA.getParentView().show(), i.define({ height: 84 }), !0) : (Si.hasFocus(this.bA) && Si.setFocus(this.pA), this.bA.getParentView().hide(), i.define({ height: this.Pb }), !1), i.resize() } }, focus: function() { var t = this; this.MA(!0), k(function() { t.mA.focus() }) }, AA: function(t) { t || (t = this.mA.getValue()), t && !this.bA.isEnabled() ? this.bA.enable() : !t && this.bA.isEnabled() && this.bA.disable() }, vA: function() { var e = this; this.xA = ni({ view: "contextmenu", autowidth: !0, point: !1, data: [{ id: "edit", icon: "wxi-pencil", value: A.comments.edit }, { id: "remove", icon: "wxi-trash", value: A.comments.remove }], on: { onShow: function() { var t = e.xA.getContext(); e.pA.addCss(t.id, "active_menu") }, onHide: function() { var t = e.xA.getContext(); e.pA.removeCss(t.id, "active_menu") }, onItemClick: function(t) { var i = e.xA.getContext(); e.callEvent("onBeforeMenuAction", [t, i.id]) && ("edit" == t ? e.edit(i.id, "user") : "remove" == t && (A.comments.confirmMessage ? tn({ text: A.comments.confirmMessage, callback: function(t) { t && e.DA(i.id) } }) : e.DA(i.id))) } } }), this.Bt.push(this.xA) }, dA: function(t) {
				var n = this, i = A.comments, e = { view: "textarea", localId: "textarea", css: "webix_comments_textarea", height: this.Pb, name: "text", placeholder: i.placeholder, keyPressTimeout: 100, on: { onTimedKeyPress: function() { n.AA() }, onChange: function(t) { n.AA(t) }, onKeyPress: function(t, i) { if (13 == t) { var e = n.P.sendAction, s = i.shiftKey; ("enter" == e && !s || "enter" !== e && s) && (wt(i), n.$A(!0)) } } } }; return !1 !== t.highlight && T.extend(
					e, { view: "texthighlight", type: "textarea", highlight: function(t) { return n.FA(qt.escape(t), !0) } }, !0), { view: "form", minHeight: 50, paddingX: 10, elements: [e, { hidden: !G.touch, cols: [{}, { view: "button", disabled: !0, css: "webix_comments_send webix_primary", value: i.send, autowidth: !0, click: function() { n.$A() } }] }] }
			}, FA: function(t, n) { var r, h = this; if (-1 === t.indexOf("@")) return t; "users" === this.P.highlight && (r = this.yA && this.yA.P.textValue || "value"); var i = n ? this.TA : this.VA; return t.replace(i, function(t, i, e, s) { return h.zA(t, s || i, r, n) }) }, zA: function(t, i, e, s) { return e && !this.CA.find(function(t) { return t[e] == i }, !0) ? t : '<span class="webix_comments_mention">'.concat(s ? t : "@" + i, "</span>") }, lA: function(i) { var o = this, h = "webix_comments_", e = { height: "auto", templateStatus: function(t) { return "<span class = '" + h + "status " + t.status + "'></span>" }, templateUser: function(t) { var i = o.getUsers(), e = i && i.exists(t.user_id) ? i.getItem(t.user_id) : {}; return "<span class = '" + h + "name'>" + (e.value || "") + "</span>" }, templateMenu: function() { return o.config.readonly ? "" : "<span class='webix_icon wxi-dots " + h + "menu'></span>" }, templateDate: function(t) { var i = rn.dateToStr("%d %M, %H:%i"); return t.date ? "<span class='" + h + "date'>" + i(t.date) + "</span>" : "" }, templateLinks: function(t) { return t.text.replace(/(https?:\/\/[^\s]+)/g, function(t) { var i = "<a target='_blank' href='" + (t = qt.escape(t)) + "'>"; return t.match(/.(jpg|jpeg|png|gif)$/) ? i += "<img class='webix_comments_image' src='" + t + "'/>" : i += t, i + "</a>" }) }, templateMentioned: function(t) { var i = t.text; return o.P.mentions && o.P.highlight && (i = o.FA(t.text)), i }, templateText: function(t) { return "<div class = '" + h + "message'>" + t.text + "</div>" }, templateAvatar: function(t, i) { var e = "<div class='" + h + "avatar'>", s = o.getUsers(), n = s && s.exists(t.user_id) ? s.getItem(t.user_id) : {}; if (n.status && (e += i.templateStatus(n)), e += "<div class='" + h + "avatar_image ", n.image) e += "'><img src = '" + n.image + "' class='" + h + "photo'>"; else { var r = n.value ? n.value[0].toUpperCase() : "<span class='webix_icon wxi-user'></span>"; e += h + "avatar_text'>" + r } return e += "</div></div>" }, template: function(t, i) { var e; if ("$more" == t.id) e = "<div class='webix_comments_more'>" + o.P.moreButton(t) + "</div>"; else { t = _(t); var s = i.templateAvatar(t, i), n = i.templateUser(t, i), r = i.templateDate(t, i), h = i.templateMenu(t, i); t.text = i.templateMentioned(t), t.text = i.templateLinks(t), e = s + n + h + r + i.templateText(t, i) } return e }, classname: function(t, i, e) { var s = Gr.api.type.classname(t, i, e); return (t.user_id && t.user_id == o.P.currentUser || !o.CA.count()) && (s += " webix_comments_current"), s } }; e = T.extend(e, i.listItem || {}, !0); var s = { $init: function(t) { t.date && (t.date = A.parseFormatDate(t.date)) } }; i.scheme && Object.keys(i.scheme).forEach(function(t) { s[t] = i.scheme[t] }); var t = { view: "list", navigation: !1, type: e, scheme: s, onClick: { webix_comments_menu: function(t, i) { o.xA.isVisible() ? o.xA.hide() : (o.xA.setContext({ obj: o, id: i }), o.xA.show(t.target, e.menuPosition || { pos: "left", y: 30, x: 10 })) }, webix_comments_more: function() { if (o.config.url && o.callEvent("onDataRequest", [])) { o.kA = !0; var t = o.pA.getItem("$more").value, i = "chat" == o.P.mode ? t : o.pA.getIndexById("$more"), e = U.$parse(o.config.url), s = { error: function() { o.kA = !1 } }; "string" == typeof e && (e = e + (e.indexOf("?") < 0 ? "?" : "&") + "pos=" + i + "&more=" + t), o.load(e, s, { pos: i, more: t }) } } } }; return i.save && (t.save = i.save), t }, _A: function(t) { var i = this; t && t.getItem ? this.CA = t : (this.CA = new $r, this.Bt.push(this.CA), t && "string" == typeof t ? this.CA.load(t) : this.CA.parse(t || [])), this.CA.data.attachEvent("onStoreUpdated", function() { return i.pA.refresh() }) }, gA: function(t) { var s = this, i = this.config.readonly; i || this.BA(t), this.config.highlight && (i || (this.TA = new RegExp("@((&quot;(.*?)&quot;)|([^\\s]{1,}))", "g")), this.VA = new RegExp('@(("(.*?)")|([^\\s]{1,}))', "g")), b.all([this.pA.waitData, this.CA.waitData]).then(function() { s.pA.refresh() }), this.pA.data.attachEvent("onStoreUpdated", function(t, i, e) { !t || "add" !== e && "update" !== e || s.HA(i) }) }, BA: function(t) {
				var i = "object" != M(t) ? {} : t; "object" !== M(i.body) ? i.body = { data: this.CA } : i.body.data = this.CA, T.extend(i, { view: "mentionsuggest" }, !0); var e = this.mA.define("suggest", i); this.mA.setValueHere = function(t, i, e) {
					return -1 != t.indexOf(" ") && (
						t = '"'.concat(t, '"')), Cr.api.setValueHere.apply(this, [t, i, e])
				}, this.yA = ai(e)
			}, HA: function(h) { var o = this; if (-1 != h.text.indexOf("@")) { var a = this.yA && this.yA.P.textValue || "value", u = {}; h.text.replace(this.VA, function(t, i, e, s) { var n = s || i, r = o.CA.find(function(t) { return t[a] == n }, !0); return r && !u[n] && (o.callEvent("onUserMentioned", [r.id, h.id]), u[n] = !0), t }) } }
		}), ko = (T.protoUI(So, Rt, $n.view), {
			name: "timeline", defaults: { scroll: "auto" }, $init: function(t) { var s = this, i = "x" === t.layout; if (i) { var e = t.type; this.type.type = e && e.type || "top", V(t.scroll) && (t.scroll = "x") } this.Vt.className += i ? " webix_timeline_horizontal" : " webix_timeline", this.$blockRender = !0, this.data.provideApi(this, !0), this.data.attachEvent("onStoreUpdated", function(t, i, e) { return s.render(t, i, e) }) }, ea: "webix_tl_id", on_click: {}, $setSize: function(t, i) { this.$blockRender = !1, zi.api.$setSize.call(this, t, i) && this.refresh() }, render: function(t, i, e) { if (this.isVisible(this.P.id) && !this.$blockRender) { if ("update" != e) return this.callEvent("onBeforeRender", [this.data]) && (this.Ni = null, this.tt.innerHTML = this.data.getRange().map(this.Q, this).join(""), this.callEvent("onAfterRender", [])), !0; var s = this.getItemNode(t); return _t(this.Ni[t] = this.xc(i), s), vt(s), !0 } }, Q: function(t) { this.callEvent("onItemRender", [t]); var i = this.getIndexById(t.id); return this.type.templateStart.call(this, t, this.type, i) + this.type.template.call(this, t, this.type, i) + this.type.templateEnd.call(this) }, type: {
				type: "left", classname: function(t, i, e) { var s = "webix_timeline_item"; return "alternate" !== i.type ? s += "  webix_timeline_" + i.type : "x" == this.P.layout ? s += " webix_timeline_" + (e % 2 ? "bottom" : "top") : s += " webix_timeline_" + (e % 2 ? "right" : "left"), i.css && (s += " " + i.css), t.$css && ("object" == M(t.$css) && (t.$css = ut(t.$css)), s += " " + t.$css), s }, lineColor: function(t) { return t.color }, templateValue: qt("#value#"), templateDetails: function(t) { return t.details || "" }, templateDate: function(t) { return rn.dateToStr("%d %M, %Y")(t.date) }, template: function(t, i, e) {
					var s, n, r, h, o, a, u, c, f = Oi.dataPadding, l = "string" == typeof i.lineColor ? i.lineColor : i.lineColor(t, i), d = "stroke-width:".concat(2, "px; stroke:").concat(l || Oi.timelineColor, ";"), v = i.type, _ = e + 1 == this.count(), p = "position:relative;", b = "", m = "", g = i.templateDate(t, i), w = i.templateDetails(t, i), x = '<div class="webix_timeline_value">'.concat(i.templateValue(t, i), "</div>\n\t\t\t\t").concat(w ? '<div class="webix_timeline_details">'.concat(w, "</div>") : ""); if ("x" == this.P.layout) { var y = this.$height - 2 * f, M = Oi.listItemHeight, S = f, k = y - M - 14, C = M + 14 + f, $ = "top"; "bottom" == v ? (S = (M = y - M) + 14 + f, C = y - M + f + 14, $ = "bottom") : "alternate" == v && (S = (k = (M = Math.round(.5 * y)) - 14) + f - 20, C = M + 14 + f, e % 2 && (S = C, $ = "bottom")); var D = t.$width || i.width; "auto" == D && (D = this.RA([{ text: x, css: "webix_timeline_event", height: k }, { text: g, css: "webix_timeline_date" }]).width + f), b = "top:".concat(S, "px;"), m = "".concat($, ":").concat(C, "px; height:auto; max-height:").concat(k, "px; width:inherit;"), s = D, n = M + 14, p += "left:1px;", r = 13, o = "100%", c = a = h = M, u = 7 } else { var I = this.P.scroll ? G.scrollSize : 0, A = this.$width - 2 * f - I, F = Math.floor(.35 * A), T = f, V = Math.floor(.65 * A) - 14, z = F + 14 + f, B = F - 14; "right" == v ? (T = (F = A - z + 14 + f) + 14 + f, z = f) : "alternate" == v && (z = (F = Math.floor(.5 * A)) + 14 + f, B = V = F - 14, e % 2 && (T = z, z = f)); var H = t.$height || i.height; "auto" == H && (H = this.RA([{ text: x, css: "webix_timeline_event", width: V }, { text: g, css: "webix_timeline_date", width: B }]).height + f), b = "left:".concat(T, "px; width:").concat(B, "px;"), m = "left:".concat(z, "px; width:").concat(V, "px; height:").concat(H - f, "px;"), s = F + 14, n = H, p += "top:3px;", h = 13, a = "100%", u = o = r = F, c = 7 } return '<div style="'.concat(b, '" class="webix_timeline_date">').concat(g, '</div>\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="').concat(s, 'px" height="').concat(n, 'px" style="').concat(p, '">\n\t\t\t\t\t\t').concat(_ ? "" : '<line x1="'.concat(r, '" y1="').concat(h, '" x2="').concat(o, '" y2="').concat(a, '" class="webix_timeline_node" style="').concat(d, '"/>'), '\n\t\t\t\t\t\t<circle cx="').concat(u, '" cy="').concat(c, '" r="').concat(6, '" class="webix_timeline_node webix_timeline_point" style="').concat(d, ' fill:transparent;" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class="webix_timeline_event" style="').concat(m,
						'">\n\t\t\t\t\t\t').concat(x, "\n\t\t\t\t\t</div>")
				}, widthSize: function(t, i) { var e = t.$width || i.width; return e + (-1 < e ? "px" : "") }, heightSize: function(t, i) { var e = t.$height || i.height; return e + (-1 < e ? "px" : "") }, templateStart: function(t, i, e) { return "x" == this.P.layout ? "<div ".concat("webix_tl_id", '="', t.id, '" class="').concat(i.classname.call(this, t, i, e), '" style="width:').concat(i.widthSize(t, i), ';">') : "<div ".concat("webix_tl_id", '="', t.id, '" class="').concat(i.classname.call(this, t, i, e), '" style="height:').concat(i.heightSize(t, i), ';">') }, templateEnd: qt("</div>")
			}, RA: function(t) { var i = lt("DIV"); i.style.cssText = "visibility:hidden;position:absolute;top:0px;left:0px;overflow:hidden;", document.body.appendChild(i); for (var e = 0, s = 0, n = 0; n < t.length; n++)i.className = "webix_measure_size " + t[n].css, i.style.width = t[n].width ? t[n].width + "px" : "auto", i.style.height = t[n].height ? t[n].height + "px" : "auto", i.innerHTML = t[n].text, e = Math.max(e, i.offsetWidth + 1), s = Math.max(s, i.offsetHeight + 1); return vt(i), { width: e, height: s } }, templateValue_setter: function(t) { this.type.templateValue = qt(t) }, templateDetails_setter: function(t) { this.type.templateDetails = qt(t) }, templateDate_setter: function(t) { this.type.templateDate = qt(t) }, $skin: function() { this.type.height = Oi.timelineItemHeight, this.type.width = 3 * Oi.timelineItemHeight }
		}), Co = (T.protoUI(ko, Le, Ne, be, He, g, ji, zi.view), {
			name: "menu", zm: "webix_menu", $init: function(t) { t.autowidth && (this.EA = !0, delete t.autowidth), this.data.attachEvent("onStoreUpdated", S(function() { this.ku() }, this)), this.attachEvent("onMouseMove", this.PA), this.attachEvent("onMouseOut", function(t) { this.jA() && "click" == this.P.openAction || !this.NA && t.relatedTarget && this.ku() }), this.attachEvent("onItemClick", function(t, i, e) { var s = this.getItem(t); if (s) { if (s.$template) return; var n = this.getTopMenu(); if (!n.callEvent("onMenuItemClick", [t, i, e])) return void (i.showpopup = n.P.id); this != n && n.wc(t, i, e), this.type.LA(s) || n.OA ? ((G.touch || this === n && "click" == n.P.openAction) && this.$u(t, e), i.showpopup = n.P.id) : (n.ku(!0), n.WA && n.hide()) } }), this.attachEvent("onKeyPress", function(t) { if (9 === t) this.getTopMenu().ku(); else if (13 === t || 32 === t) { var i, e = this.getSelectedId(); e && (i = this.getItemNode(e)), i && yt(i, "MouseEvents", "click") } }), this.data.attachEvent("onClearAll", function() { this.UA = [] }), this.data.UA = [], this.Vt.setAttribute("role", "menubar"), this.Bt = [] }, sizeToContent: function() { if ("y" == this.P.layout) { var i = [], e = !1; this.data.each(function(t) { i.push(this.Q(t)), t.submenu && (e = !0) }, this), this.config.width = kt(i, this.$view.className).width + 16 + 2 + (e ? 15 : 0), this.resize() } }, getTopMenu: function() { for (var t = this; t.Su;)t = ai(t.Su); return t }, Em: function(t) { this.P.autoheight && (t = this.count()); for (var i = this.count(), e = 0, s = 0; s < t; s++) { var n = this.data.pull[this.data.order[s]]; n && "Separator" == n.$template ? (e += 4, this.P.autoheight || t++) : e += this.type.height } return this.kc(t && t < i, "y"), e }, on_mouse_move: {}, type: { LA: function(t) { return t.submenu || t.data || t.item }, css: "menu", width: "auto", aria: function(t, i, e) { return 'role="menuitem"' + (e && e.webix_selected ? ' aria-selected="true" tabindex="0"' : 'tabindex="-1"') + (i.LA(t) ? 'aria-haspopup="true"' : "") + (t.disabled ? ' aria-disabled="true"  webix_disabled="true"' : "") }, templateStart: function(t, i, e) { if ("Separator" === t.$template || "Spacer" === t.$template) return '<div webix_l_id="#id#" role="separator" tabindex="-1" class="webix_context_' + t.$template.toLowerCase() + '">'; var s = (t.href ? " href='" + t.href + "' " : "") + (t.target ? " target='" + t.target + "' " : ""); return Gr.api.type.templateStart(t, i, e).replace(/^<div/, "<a " + s) + (i.LA(t) && i.subsign ? "<div class='webix_submenu_icon'></div>" : "") }, templateEnd: function(t) { return "Separator" === t.$template || "Spacer" === t.$template ? "</div>" : "</a>" }, templateSeparator: qt("<div class='sep_line'></div>"), templateSpacer: qt("<div></div>") }, getMenu: function(t) { if (this.data.pull[t]) return this; for (var i in this.data.pull) { var e = this.getItem(i); if (e.submenu) { var s = this.YA(e).getMenu(t); if (s) return s } } }, getSubMenu: function(t) { var i = this.getMenu(t), e = i.getItem(t); return e.submenu ? i.YA(e) : null }, getMenuItem: function(t) { return this.getMenu(t).getItem(t) }, YA: function(t) {
				var i = ai(t.submenu)
				; return i || (t.submenu = this.qA(t), i = ai(t.submenu)), i
			}, PA: function(t, i, e) { this.jA() && this.$u(t, e) }, jA: function() { if (G.touch) return !1; var t = this.getTopMenu(); if ("click" != t.P.openAction) return !0; var i = t.GA; return !(!i || !ai(i).isVisible()) }, $u: function(t, i) { var e = this.getItem(t); if (e && (this.NA = null, this.GA && e.submenu != this.GA && this.ku(!0), this.type.LA(e) && !this.config.hidden)) { var s = this.YA(e); if (!this.isItemEnabled(t)) return; s.show(i, { pos: this.P.subMenuPos }), s.Su = this.P.id, this.GA = e.submenu } }, disableItem: function(t) { var i = this.getMenu(t); i && i.jm(t, !0) }, enableItem: function(t) { var i = this.getMenu(t); i && i.jm(t, !1) }, isItemEnabled: function(t) { var i = this.getMenu(t); if (i) return Gr.api.isItemEnabled.apply(i, arguments) }, XA: function(t, i) { var e = this.data; e.UA[t] != i && (e.UA[t] = i, e.filter(function(t) { return !e.UA[t.id] }), this.resize()) }, hideItem: function(t) { var i = this.getMenu(t); i && i.XA(t, !0) }, showItem: function(t) { var i = this.getMenu(t); if (i) return i.XA(t, !1), Gr.api.showItem.call(i, t) }, ku: function(t) { if (this.GA) { var i = ai(this.GA); i.ku && i.ku(t), !t && i.Xn || (i.hide(), this.GA = null) } }, qA: function(t) { var i = { view: "submenu", data: this.type.LA(t) }, e = this.getTopMenu().P.submenuConfig; e && T.extend(i, e, !0); var s = this.getMenuItem(t.id); s && s.config && T.extend(i, s.config, !0); var n = ni(i); return this.Bt.push(n), n.Su = this, n.P.id }, Cu: function(t, i, e) { var s = this.getItem(t); return "Separator" != s.$template && "Spacer" != s.$template && this.isItemEnabled(t) ? t : (t = this.getNextId(t, e) || null) && t != i ? this.Cu(t, i, e) : i }, $skin: function() { Gr.api.$skin.call(this), this.type.height = Oi.menuHeight }, defaults: { scroll: "", layout: "x", mouseEventDelay: 100, subMenuPos: "bottom" }
		}), $o = { api: Co, view: T.protoUI(Co, Gr.view) }, Do = { name: "submenu", $init: function() { this.$t = l(this.KA), (this.$t.Ht = this).attachEvent("onMouseOut", function(t) { "click" != this.getTopMenu().P.openAction && (this.NA || this.Xn || !t.relatedTarget || this.hide()) }), this.attachEvent("onMouseMoving", function() { this.Su && (ai(this.Su).NA = !0) }), this.attachEvent("onBeforeShow", function() { this.getTopMenu().EA && this.sizeToContent && !this.isVisible() && this.sizeToContent() }), this.tt.setAttribute("role", "menu") }, $skin: function() { $o.api.$skin.call(this), er.api.$skin.call(this), this.type.height = Oi.menuHeight }, KA: { $getSize: function(t, i) { var e = 1 * this.Ht.P.height, s = 1 * this.Ht.P.width, n = $o.api.$getSize.call(this.Ht, t, i); return this.Ht.P.height = e, this.Ht.P.width = s, n }, $setSize: function(t, i) { this.Ht.P.scroll && (this.Ht.Fn.style.height = i + "px") }, destructor: function() { this.Ht = null } }, body_setter: function() { }, getChildViews: function() { return [] }, defaults: { width: 150, subMenuPos: "right", layout: "y", autoheight: !0 }, type: { height: Oi.menuHeight, subsign: !0 } }, Io = { api: Do, view: T.protoUI(Do, $o.view, er.view) }, Ao = {
			name: "sidemenu", defaults: { animate: !0, position: "left", width: 200, borderless: !0 }, $init: function() { this.$view.className += " webix_sidemenu" }, $skin: function() { er.api.$skin.call(this), this.defaults.padding = 0 }, position_setter: function(t) { var i = this.P.position; return i && St(this.$view, " webix_sidemenu_" + i), Mt(this.$view, " webix_sidemenu_" + t), t }, $getSize: function() { var t = ee.api.$getSize.apply(this, arguments); return this.JA = t }, $setSize: function(t, i) { Ri.api.$setSize.call(this, t, i), t = this.ge - 2 * this.P.padding, i = this.xe - 2 * this.P.padding, this.Wi.style.padding = this.P.padding + "px", this._n.style.display = "none", this.Fn.style.height = i + "px", this.$t.$setSize(t, i) }, show: function() { if (!this.callEvent("onBeforeShow", arguments)) return !1; this.P.hidden = !1, this.Vt.style.zIndex = pi(this.P.zIndex), (this.P.modal || this.Vn) && (this.pn(!0), this.Vn = null), this.Vt.style.display = "block", this.Se(), this.P.position && this.Qt(), this.Rn = 1, k(function() { this.Rn = 0 }, this, [], G.touch ? 400 : 100), this.config.autofocus && (this.En = Si.getFocus(), Si.setFocus(this)), -1 == ei.kt.find(this) && ei.kt.push(this), this.callEvent("onShow", []) }, Qt: function(t) {
				var i, e, s, n, r, h = 0, o = 0, a = {}; this.$view.style.position = "fixed", s = document.documentElement.offsetWidth, n = document.documentElement.offsetHeight, i = this.JA[0] || s, e = this.JA[2] || n, "top" == (r = this.P.position) ? i = s : "right" == r ? (e = n, h = s - i) : "bottom" == r ? (i = s, o = n - e) : e = n, a = {
					left: h, top: o, width: i, height: e, maxWidth: s,
					maxHeight: n
				}, "function" == typeof this.P.state && this.P.state.call(this, a), this.ZA = a, this.$setSize(a.width, a.height), void 0 === t && this.QA() ? (St(this.$view, "webix_animate"), this.LC[this.P.position].beforeShow.call(this, a), k(function() { Mt(this.$view, "webix_animate", !0) }, this, null, 1), k(function() { this.LC[this.P.position].show.call(this, a) }, this, null, 10)) : ("right" === this.P.position && (a.left = a.right ? s - a.width - a.right : s - a.width), this.setPosition(a.left, a.top))
			}, ZA: {}, QA: function() { return Li.isSupported() && this.P.animate && !(G.isIE && -1 != navigator.appVersion.indexOf("MSIE 9")) }, hidden_setter: function(t) { return t ? this.hide() : this.show(), !!t }, LC: { left: { beforeShow: function(t) { this.$view.style.left = -t.width + "px", this.$view.style.top = t.top + "px" }, show: function(t) { this.$view.style.left = t.left ? t.left + "px" : "0px" }, hide: function(t) { this.$view.style.left = -t.width + "px" } }, right: { beforeShow: function(t) { this.$view.style.left = "auto", this.$view.style.right = -t.width + "px", this.$view.style.top = t.top + "px" }, show: function(t) { this.$view.style.right = t.right ? t.right + "px" : "0px" }, hide: function(t) { this.$view.style.right = -t.width + "px" } }, top: { beforeShow: function(t) { this.setPosition(t.left, t.top), this.$view.style.height = "0px", this.Fn.style.height = "0px" }, show: function(t) { this.$view.style.height = t.height + "px", this.Fn.style.height = t.height + "px" }, hide: function() { this.$view.style.height = "0px", this.Fn.style.height = "0px" } }, bottom: { beforeShow: function(t) { this.$view.style.left = t.left + "px", this.$view.style.top = "auto"; var i = t.bottom != undefined ? t.bottom : t.maxHeight - t.top - t.height; this.$view.style.bottom = i + "px", this.$view.style.height = "0px" }, show: function(t) { this.$view.style.height = t.height + "px" }, hide: function() { this.$view.style.height = "0px" } } }, Nn: function() { var t = document.documentElement.offsetWidth, i = document.documentElement.offsetHeight; if (this.QA() && t == this.ZA.maxWidth && i == this.ZA.maxHeight) { this.LC[this.P.position].hide.call(this, this.ZA); var e = Qt(this.$view, G.transitionEnd, S(function() { this.Ln(), ti(e) }, this)) } else this.Ln() }
		}, Fo = (T.protoUI(Ao, er.view), {
			name: "sidebar", defaults: { type: "sideBar", activeTitle: !0, select: !0, scroll: !1, collapsed: !1, collapsedWidth: 44, position: "left", width: 250, mouseEventDelay: 10 }, $skin: function() { this.defaults.titleHeight = Oi.sidebarTitleHeight }, $init: function(t) { this.tF = V(t.width) ? this.defaults.width : t.width, this.P.width = t.width = t.collapsed ? t.collapsedWidth || this.defaults.collapsedWidth : this.tF, this.$view.className += " webix_sidebar", this.$ready.push(this.iF), this.$ready.push(this.eF), this.data.jh = function(t) { t.data ? t.menu = _(t.data) : t.item && (t.menu = _(t.item.length ? t.item : [t.item])) }, t.multiselect = !1 }, on_context: {}, on_mouse_move: {}, iF: function() { this.attachEvent("onBeforeOpen", function(t) { if (!this.config.multipleOpen) for (var i = this.getOpenItems(), e = 0; e < i.length; e++)this.getParentId(t) == this.getParentId(i[e]) && this.close(i[e]); return !this.config.collapsed }), this.attachEvent("onItemClick", function(t, i, e) { var s = this.getPopup(); s && !s.config.hidden && (i.showpopup = s.config.id), G.touch && this.sF(t, e) }), this.attachEvent("onBeforeSelect", function(t) { return !this.getItem(t).$count && (this.clearCss("webix_sidebar_selected"), !0) }), this.attachEvent("onAfterSelect", function(t) { this.nF(this, t, !Oi.sidebarMarkAll), this.getPopup().rF(t) }), this.attachEvent("onAfterUnSelect", function() { this.clearCss("webix_sidebar_selected") }), this.attachEvent("onMouseMove", function(t, i, e) { this.sF(t, e) }), this.attachEvent("onMouseOut", function() { this.config.collapsed && (this.getPopup().masterId = null) }) }, sF: function(t, i) { if (this.config.collapsed) { var e = this.getPopup(); e && (this.hF(t, e), this.oF(t, e), e.masterId = t, e.show(i, { x: "left" == this.config.position ? this.config.collapsedWidth : -e.config.width, y: -1 })) } }, hF: function(t, i) { var e = i.getBody().getChildViews()[0]; e && i.masterId != t && (e.parse(this.getItem(t)), this.getSelectedId() == t ? Mt(e.$view, "webix_selected", !0) : St(e.$view, "webix_selected")) }, oF: function(t, i) {
				var e = i.getBody().getChildViews()[1]; if (e && i.masterId != t) {
					this.exists(i.masterId) && this.getItem(i.masterId).menu && this.updateItem(i.masterId, { menu: e.data.serialize() }), e.clearCss(
						"webix_sidebar_selected"), e.unselectAll(); var s = _(this.getItem(t).menu || []); if (s.length) { e.show(), e.data.importData(s); var n = this.getSelectedId(); e.exists(n) ? e.select(n) : n && this.nF(e, n) } else e.hide(), e.data.clearAll()
				}
			}, eF: function() { var e, n = this, s = n.config; if (s.popup && (e = ai(s.popup)), !e) { var t = "left" == s.position ? "webix_sidebar_popup_left" : "webix_sidebar_popup_right", i = "left" == s.position ? "right" : "left", r = function(t) { var i = "wxi-angle-" + ("left" == s.position ? "right" : "left"); return (t.submenu || t.data || t.item ? '<div class="webix_icon ' + i + '"></div>' : "") + t.value }, h = s.css ? " " + s.css : "", o = { view: "popup", css: "webix_sidebar_popup " + t + h, autofit: !1, width: this.tF - this.config.collapsedWidth, borderless: !0, padding: 0, body: { rows: [{ view: "template", borderless: !0, css: "webix_sidebar_popup_title", template: "#value#", height: this.config.titleHeight + 2, onClick: { webix_template: function() { var t = this.getValues().id; n.getItem(t).$count || n.select(t) } } }, { view: "menu", submenu: "data", layout: "y", subMenuPos: i, select: !0, borderless: !0, autoheight: !0, css: "webix_sidebar_popup_list " + t + h, template: r, type: { subsign: !1 }, submenuConfig: { padding: 0, subMenuPos: i, template: r, select: !0, type: { subsign: !1 }, css: "webix_sidebar_popup_list " + t + h, on: { onShow: function() { this.clearCss("webix_sidebar_selected"), this.unselectAll(); var t = n.getSelectedId(); t && this.exists(t) ? this.select(t) : t && n.nF(this, t) }, onBeforeSelect: function(t) { if (this.getSubMenu(t)) return !1 }, onAfterSelect: function(t) { for (var i = n.getPopup().queryView({ view: "menu" }), e = n.getParentId(t); e;) { var s = i.getMenu(e); s && (s.unselectAll(), n.nF(s, t)), e = n.getParentId(e) } n.nF(this, t) } } }, on: { onBeforeSelect: function(t) { if (this.getSubMenu(t)) return !1 }, onMenuItemClick: function(t) { this.getSubMenu(t) || n.select(t) } } }] } }; T.extend(o, s.popup || {}, !0), (e = ni(o)).rF = function(t) { if (n.config.collapsed && 1 == n.getItem(t).$level) { var i = e.getBody().getChildViews()[0]; i && Mt(i.$view, "webix_selected", !0) } }, e.queryView({ view: "menu" }).OA = !0 } e.attachEvent("onBeforeShow", function() { return s.collapsed }), this.Bt = [e], s.popupId = e.config.id, Zt(document.body, "mousemove", function(t) { var i = t.target; e.config.hidden || e.$view.contains(i) || this.$view.firstChild.contains(i) || e.queryView({ view: "menu" }).GA || e.hide() }, { bind: this }) }, nF: function(i, e, s) { var n = "webix_sidebar_selected"; i.data.each(function(t) { !this.aF(e, t.id) || s && "0" != this.getParentId(t.id) ? i.hasCss(t.id, n) && i.removeCss(t.id, n) : i.addCss(t.id, n) }, this) }, aF: function(t, i) { var e = this.getParentId(t); return i == e || !!e && this.aF(e, i) }, getPopup: function() { return ai(this.config.popupId) }, position_setter: function(t) { var i = t, e = "left" == t ? "right" : "left"; St(this.$view, "webix_sidebar_" + e), Mt(this.$view, "webix_sidebar_" + i, !0); var s = this.getPopup(); if (s) { var n = s.$view; St(n, "webix_sidebar_popup_" + e), Mt(n, "webix_sidebar_popup_" + i, !0) } return t }, select: function(t) { t && ($(t) && (t = t.pop()), wo.api.select.call(this, t)) }, selectAll: function() { }, collapse: function() { this.define("collapsed", !0) }, expand: function() { this.define("collapsed", !1) }, toggle: function() { var t = !this.config.collapsed; this.define("collapsed", t) }, collapsed_setter: function(t) { var i; return t ? (i = this.config.collapsedWidth, this.closeAll(), this.type.collapsed = !0, St(this.$view, "webix_sidebar_expanded")) : (i = this.tF, this.type.collapsed = !1, Mt(this.$view, "webix_sidebar_expanded", !0)), V(i) || i === this.config.width || (this.define("width", i), this.resize()), t }, getState: function() { var t = { collapsed: this.config.collapsed }; return T.extend(t, os.getState.call(this)), t }, setState: function(t) { os.setState.call(this, t), this.define("collapsed", t.collapsed) }
		}); ii(wo.view, { name: "sideBar", height: "auto", template: function(t, i) { return i.collapsed ? i.icon(t, i) : i.arrow(t, i) + i.icon(t, i) + "<span>" + t.value + "</span>" }, arrow: function(t) { for (var i = "", e = 1; e <= t.$level; e++) { if (e == t.$level && t.$count) i += "<span class='" + ("webix_sidebar_dir_icon webix_icon " + ("wxi-angle-" + (t.open ? "down" : "left"))) + "'></span>" } return i }, icon: function(t) { var i = ""; return 2 < t.$level && (i = 'style="padding-left:' + 40 * (t.$level - 2) + 'px"'), t.icon ? "<span class='webix_icon webix_sidebar_icon " + t.icon + "' " + i + "></span>" : "<span " + i + "></span>" } }); T.protoUI(Fo, wo.view),
			T.protoUI({ name: "context" }, se, er.view); var To = { name: "contextmenu", WA: !0, $init: function(t) { t.submenuConfig && T.extend(t, t.submenuConfig) } }, Vo = (T.protoUI(To, se, Io.view), { name: "treetable", $init: function() { for (var t in T.extend(this.data, ds, !0), T.extend(this.type, _s), T.extend(this, cs, !0), as) this.on_click[t] || (this.on_click[t] = this.uF(as[t])); this.type.treetable = qt("{common.space()}{common.icon()} {common.folder()}"), this.type.treecheckbox = function(t) { return t.indeterminate && !t.nocheckbox ? "<div class='webix_tree_checkbox webix_indeterminate'></div>" : _s.checkbox.apply(this, arguments) }, this.data.provideApi(this, !0), this.Vt.setAttribute("role", "treegrid") }, Jo: !1, uF: function(e) { return function(t, i) { return i = i.row, e.call(this, t, i) } }, Xo: function(t) { for (var i = this.P.prerender ? t.source : [t.start], e = 0; e < i.length; e++)this.close(i[e]) }, getState: function() { var t = me.getState.call(this); return T.extend(t, os.getState.call(this)), t }, setState: function(t) { os.setState.call(this, t) && me.setState.call(this, t) }, clipboard_setter: function(t) { return T.extend(this.Zn, vs), hs.clipboard_setter.call(this, t) }, rl: function(t, i) { for (var e = 0; e < t.start; e++) { var s = this.data.order[e]; s && 1 != this.getItem(s).$level && t.start-- } return Bh.api.rl.call(this, t, i) } }), zo = (T.protoUI(Vo, os, ls, us, Bh.view), {
				name: "filter", $init: function(t) { t.mode = t.mode || "number", this.P.conditions = t.conditions, this.P.mode = this.mode_setter(t.mode), delete t.mode, t.rows = this.cF(t), this.$ready.push(this.M$) }, $onLoad: function(t, i) { return this.SA(t, i) }, SA: function(t, i) { var e = this, s = this.pA || this.queryView("list"); s.data.driver = i; var n = [], r = {}; if ("function" == typeof t.serialize ? (t.data && "DataStore" == t.data.name && (t = t.data), t.each(function(t) { return e.fF(t, n, r) })) : i.getRecords(t).forEach(function(t) { return e.fF(t, n, r) }), s.clearAll(), s.parse(n), this.pA) { var h = this.P.value.includes; this.lF(), this.dF(h) } return !0 }, fF: function(t, i, e) { var s = t[this.P.field]; V(s) || e[s] || (e[s] = !0, i.push(_(t))) }, M$: function() { var t = this; this.vF = !0, this.pA = this.queryView("list"), this.uv = this.queryView("toggle"), this.Bo = this.queryView("richselect"), this.mA = this.queryView({ batch: this._F }), this.pA.data.provideApi(this, !0), this.pA.data.attachEvent("onSyncApply", function() { return t.SA(t.pA, t.pA.data.driver) }), this.setValue(this.P.value, "auto"), delete this.vF }, mode_setter: function(t) { if (this.pF[t], this.bF = this.mF(this.P.conditions, t), this.mA) { var i = this.Bo.getList(); i.clearAll(), i.parse(this.bF), this.Bo.config.value = "", this.Bo.setValue(this.bF[0].id, "auto") } else this._F = this.bF[0].batch; return t }, cF: function(t) { var e = this, i = this.gF(t.inputs); return [{ visibleBatch: this._F, cols: [{ view: "richselect", value: this.bF[0].id, width: 160, options: this.bF, on: { onChange: function(t) { e.wF(t), e.applyFilter("user") } } }].concat(o(i)) }, { view: "toggle", batch: "includes", onLabel: A.combo.unselectAll, offLabel: A.combo.selectAll, value: !0, on: { onItemClick: function() { e.xF(e.uv.getValue()), e.callEvent("onChange", ["user"]) } } }, { view: "list", batch: "includes", css: "webix_multilist", autoheight: !0, borderless: !0, yCount: 5, type: "checklist", template: t.template || "#".concat(t.field, "#"), on: { onItemClick: function(t) { var i = e.pA.getItem(t); e.pA.updateItem(t, { $checked: !i.$checked }), e.P.value.includes = e.yF(), e.MF(e.uv, e.xw()), e.callEvent("onChange", ["user"]) } } }] }, gF: function(t) { var i = this; t = t || Object.keys(this.di); for (var e = 0; e < t.length; e++)if (this.di[t[e]]) { if (t[e] = _(this.di[t[e]]), t[e].on) { var s = t[e].on; for (var n in s) s[n] = function() { return i.applyFilter("user") } } } else t[e] && t[e].batch; return t }, di: { text: { view: "text", batch: "text", on: { onTimedKeyPress: !0 } }, datepicker: { view: "datepicker", batch: "datepicker", on: { onChange: !0 } }, daterangepicker: { view: "daterangepicker", batch: "daterangepicker", on: { onChange: !0 } }, none: { view: "spacer", batch: "none" } }, SF: {
					number: vn.number, text: vn.text, date: {
						greater: { batch: "datepicker", handler: vn.date.greater }, less: { batch: "datepicker", handler: vn.date.less }, greaterOrEqual: { batch: "datepicker", handler: vn.date.greaterOrEqual }, lessOrEqual: { batch: "datepicker", handler: vn.date.lessOrEqual }, equal: { batch: "datepicker", handler: vn.date.equal }, notEqual: {
							batch: "datepicker",
							handler: vn.date.notEqual
						}, between: { batch: "daterangepicker", handler: vn.date.between }, notBetween: { batch: "daterangepicker", handler: vn.date.notBetween }
					}
				}, pF: { number: ["greater", "less", "greaterOrEqual", "lessOrEqual", "equal", "notEqual", "contains", "notContains"], text: ["contains", "notContains", "equal", "notEqual", "beginsWith", "notBeginsWith", "endsWith", "notEndsWith"], date: ["greater", "less", "greaterOrEqual", "lessOrEqual", "equal", "notEqual", "between", "notBetween"] }, mF: function(t, i) { t = t || this.pF[i]; for (var e = [], s = 0; s < t.length; s++) { var n = this.kF(t[s], i); e.push(n) } return e }, kF: function(t, i) { if (t && "function" == typeof t.handler) return t; if (this.SF[i][t]) { var e = { id: t, value: A.filter[t] }, s = "function" == typeof this.SF[i][t] ? { batch: "text", handler: this.SF[i][t] } : this.SF[i][t]; return T.extend(e, s, !0) } return null }, CF: function(t) { for (var i = 0; i < this.bF.length; i++)if (this.bF[i].id == t) return this.bF[i] }, yF: function() { var i = this, e = []; return this.pA.data.each(function(t) { t.$checked && e.push(t[i.P.field]) }), e.length == this.pA.count() ? null : e }, getValue: function() { return { condition: { filter: this.mA.getValue ? this.mA.getValue() || "" : null, type: this.Bo.getValue() }, includes: this.yF() } }, xw: function() { for (var t = this.pA.data.order, i = 0; i < t.length; i++)if (!this.getItem(t[i]).$checked) return !1; return !0 }, $compareValue: function(t, i) { if (!t || t.condition.type !== i.condition.type || t.condition.filter !== i.condition.filter) return !1; if (t.includes && i.includes) { if (t.includes.length !== i.includes.length) return !1; for (var e = {}, s = 0; s < t.includes.length; s++)e[t.includes[s]] = !0; for (var n = 0; n < i.includes.length; n++)if (!e[i.includes[n]]) return !1; return !0 } return t.includes === i.includes }, setValue: function(t, i) { if (t = this.$prepareValue(t), !this.$compareValue(this.P.value, t)) { var e = t.condition, s = t.includes; this.wF(e.type), this.MF(this.mA, e.filter), this.MF(this.Bo, e.type), this.lF(), this.dF(s), this.MF(this.uv, this.xw()), this.P.value = t, this.vF || this.callEvent("onChange", [i]) } }, dF: function(e) { var s = this.P.field, n = "date" == this.P.mode; e && n && (e = e.map(function(t) { return t && t.valueOf() })), this.pA.data.each(function(t) { var i = t[s]; t.$checked = !e || -1 != e.indexOf(n ? i && i.valueOf() : i) }), this.pA.refresh() }, MF: function(t, i) { t.setValue && (t.blockEvent(), t.setValue(i), t.unblockEvent()) }, $prepareValue: function(t) { return (t = t || {}).condition = t.condition || { filter: "", type: this.bF[0].id }, t.includes = t.includes || null, t }, lF: function() { var i = this.mA.getValue ? this.mA.getValue() || "" : null; if ("" === i) this.pA.filter(); else { var e = this.P.field, s = this.CF(this.Bo.getValue()).handler; this.pA.filter(function(t) { return s(t[e], i) }) } this.showBatch("includes", !!this.pA.count()) }, wF: function(t) { var i = this.CF(t).batch; i != this._F && (this._F = i, this.mA = this.queryView({ batch: i }), this.mA.setValue && this.mA.setValue("", "auto"), this.mA.getParentView().showBatch(i)) }, applyFilter: function(t) { this.lF(), this.MF(this.uv, !0), this.xF(!0), this.callEvent("onChange", [t]) }, xF: function(i) { this.pA.data.each(function(t) { t.$checked = i }), this.pA.refresh(), this.P.value = this.getValue() }, getFilterFunction: function() { var e = this.P.field, s = "date" == this.P.mode, t = this.getValue(), n = t.includes, r = t.condition, h = this.CF(r.type).handler; return n && s && (n = n.map(function(t) { return t && t.valueOf() })), function(t) { var i = t[e]; return n ? -1 != n.indexOf(s ? i && i.valueOf() : i) : "" === r.filter || h(i, r.filter) } }
			}), Bo = (T.protoUI(zo, Rt, $n.view), T.proto({ name: "DataRecord", isVisible: function() { return !0 }, $init: function(t) { this.data = t || {}; var i = t && t.id ? t.id : z(); this.P = { id: i }, ni.views[i] = this }, getValues: function() { return this.data }, setValues: function(t, i, e) { this.data = i ? T.extend(this.data, t, !0) : t, this.callEvent("onChange", [t, e]) }, refresh: function() { this.callEvent("onBindRequest") } }, g, Fi, Rt, ki)), Ho = T.proto({ name: "DataValue", isVisible: function() { return !0 }, $init: function(t) { t && !V(t.value) || (this.data = t || ""); var i = t && t.id ? t.id : z(); this.P = { id: i }, ni.views[i] = this }, setValue: function(t, i) { this.data = t, this.callEvent("onChange", [t, i]) }, getValue: function() { return this.data }, refresh: function() { this.callEvent("onBindRequest") } }, g, Fi), Ro = T.proto({
				name: "TreeCollection", $init: function() {
					T.extend(this.data, ds, !0), this.data.provideApi(this
						, !0), T.extend(this, cs, !0)
				}
			}, us, $r); T.Date = rn, T.Number = hn, T.promise = b, T.DataCollection = $r, T.DataRecord = Bo, T.DataValue = Ho, T.TreeCollection = Ro, T.AtomDataLoader = Rt, T.AtomRender = Gt, T.AutoScroll = Xt, T.AutoTooltip = ji, T.BaseBind = Fi, T.BindSource = Ai, T.Canvas = Ni, T.CodeParser = Et, T.CollectionBind = $i, T.ContextHelper = se, T.CopyPaste = he, T.CustomPrint = oe, T.CustomScroll = ae, T.DataMarks = ue, T.DataMove = ce, T.DataLoader = be, T.DataState = me, T.DataStore = pe, T.Destruction = Ci, T.DragControl = Ki, T.DragItem = ge, T.DragOrder = we, T.EditAbility = Ce, T.EventSystem = g, T.FlexLayout = $e, T.Group = Ae, T.GroupMethods = De, T.GroupStore = Ie, T.HTMLOptions = Fe, T.HtmlMap = Te, T.IdSpace = Ve, T.KeysNavigation = ze, T.MapCollection = Be, T.Modality = Qi, T.MouseEvents = He, T.Movable = Ji, T.NavigationButtons = Re, T.OverlayBox = Ee, T.PagingAbility = Pe, T.ProgressBar = je, T.RecordBind = Ii, T.RenderStack = Ne, T.ResizeArea = te, T.SingleRender = Ei, T.Scrollable = Le, T.SelectionModel = Oe, T.Settings = ki, T.Sparklines = rs, T.TablePaste = hs, T.TooltipControl = ui, T.Touch = qi, T.TreeAPI = os, T.TreeClick = as, T.TreeDataLoader = us, T.TreeDataMove = cs, T.TreeRenderStack = fs, T.TreeStateCheckbox = ls, T.TreeStore = ds, T.TreeTablePaste = vs, T.TreeType = _s, T.UIManager = Si, T.Undo = xe, T.UploadDriver = ps, T.ValidateCollection = bs, T.ValidateData = le, T.ValueBind = Di, T.Values = ms, T.VirtualRenderStack = gs, T.VRenderStack = ws, T.html = pn, T.skin = Yi, T.debug = function Wo(t) { if (t) if ("object" !== M(t)) h = { events: !0 }; else for (var i in t) h[i] = t[i]; else h = {} }, T.i18n = A, T.ready = bi, T.env = G, T.color = We, T.csv = re, T.clipbuffer = ne, T.storage = an, T.template = qt, T.type = ii, T.editors = ke, T.animate = Li, T.print = function(t, i) { var e = ai(t); e && e.$printView && (e = e.$printView()), e && (e.callEvent && e.callEvent("onBeforePrint", [i]), function s(t) { Mt(document.body, "webix_print"), t.docHeader && dn("Header", t), t.docFooter && dn("Footer", t), ct("@media print { @page{ size:" + t.paper + " " + t.mode + ";margin-top:" + t.margin.top + "px;margin-bottom:" + t.margin.bottom + "px;margin-right:" + t.margin.right + "px;margin-left:" + t.margin.left + "px;}}", "print") }(i = function n(t) { (t = t || {}).paper = un[(t.paper || "").toLowerCase()] || "A4", t.mode = fn[t.mode] ? t.mode : "portrait", t.fit = cn[t.fit] ? t.fit : "page", t.scroll = t.scroll || !1, t.size = ln[t.paper], t.margin = t.margin || 0 === t.margin ? t.margin : {}; var i = isNaN(1 * t.margin) ? G.printMargin : t.margin; return t.margin = { top: t.margin.top || 0 === t.margin.top ? t.margin.top : i, bottom: t.margin.bottom || 0 === t.margin.bottom ? t.margin.bottom : i, right: t.margin.right || 0 === t.margin.right ? t.margin.right : i, left: t.margin.left || 0 === t.margin.left ? t.margin.left : i }, t }(i)), e.$customPrint && !0 !== e.$customPrint(i) || function h(t, i) { var e = t.$view.cloneNode(!0), s = t.$view.getElementsByTagName("canvas"); if (s.length) for (var n = s.length - 1; 0 <= n; n--) { var r = e.getElementsByTagName("canvas")[n].getContext("2d"); r.drawImage(s[n], 0, 0) } _t(e, i.docFooter, document.body), Mt(e, "webix_ui_print"), !i.scroll && (t.tt && t.data && t.data.pull || t.getBody) && Mt(e, "webix_print_noscroll"), window.print(), vt(e) }(e, i), function r(t) { St(document.body, "webix_print"), ft("print"), t.docHeader && vt(t.docHeader), t.docFooter && vt(t.docFooter) }(i)) }, T.rules = fe, T.filters = vn, T.patterns = _n, T.fullscreen = Mi, T.version = "8.3.1", T.name = "core", T.level_in = function Uo() { 0 }, T.level_out = function Yo() { 0 }, T.clone = l, T.copy = _, T.single = function qo(t) { var i = null; return function() { return i || (i = new t({})), i.$F && i.$F.apply(i, arguments), i } }, T.bind = S, T.exec = p, T.wrap = function Go(i, e) { return i ? function() { var t = i.apply(this, arguments); return e.apply(this, arguments), t } : e }, T.isUndefined = V, T.delay = k, T.once = u, T.uid = z, T.toNode = C, T.toFunctor = v, T.isArray = $, T.isDate = I, T.DF = D, T.IF = x, T.AF = Jt, T.FF = Zt, T.event = Qt, T.eventRemove = ti, T.callEvent = y, T.attachEvent = F, T.detachEvent = B, T.blockEvent = function() { return w.blockEvent() }, T.unblockEvent = function() { return w.unblockEvent() }, T.mapEvent = function(t) { return w.mapEvent(t) }, T.hasEvent = function(t) { return w.hasEvent(t) }, T.stringify = m, T.toPNG = function(s, n) {
				var r = b.defer(); return Vt(G.cdn + "/extras/html2canvas-1.0.min.js").then(function() {
					"string" == typeof n && (n = { filename: n }), n = n || {}; var t = ai(s); if (t && t.$exportView && (t = t.$exportView(n)), !t) return r.reject(xs); var i = t ? t.$view : C(s), e = Cs(n.filename, "png")
						; return window.html2canvas(i, { background: "#fff", logging: !1, useCORS: !0 }).then(function(t) { var i = function(t) { !1 !== n.download && Ct(t, e), r.resolve(t) }; t.msToBlob ? i(t.msToBlob()) : t.toBlob(i, "image/png") }), r
				})
			}, T.toCSV = function(t, i) { i = i || {}; var e = ai(t); if (e && e.$exportView && (e = e.$exportView(i)), !e) return b.reject(xs); i.export_mode = "csv", i.filterHTML = !0; var s = ks(e, i), n = function o(t) { return re.stringify(t) }($s(e, i, s)), r = Cs(i.filename, "csv"), h = new Blob(["\ufeff" + n], { type: "text/csv" }); return !1 !== i.download && Ct(h, r), b.resolve(h) }, T.toPDF = Is, T.toExcel = Rs, T.alert = function Xo() { var t = Qs.apply(this, arguments); return t.type = t.type || "alert", Xs(t) }, T.confirm = tn, T.modalbox = en, T.prompt = function Ko() { var t = Qs.apply(this, arguments); return t.type = t.type || "prompt", t.input = t.input || {}, Zs(t) }, T.message = sn, T.editStop = function Jo() { y("onEditEnd", []) }, T.ajax = E, T.DataDriver = Bt, T.dp = ve, T.DataProcessor = _e, T.remote = wn, T.require = Vt, T.proxy = U, T.send = function Zo(t, i, e, s) { var n = lt("FORM", { target: s || "_self", action: t, method: e || "POST" }, ""); for (var r in i) { var h = lt("INPUT", { type: "hidden", name: r, value: i[r] }, ""); n.appendChild(h) } n.style.display = "none", document.body.appendChild(n), n.submit(), document.body.removeChild(n) }, T.ui = ni, T.$$ = ai, Object.defineProperty(T, "TF", { value: !0 })
});
//# sourceMappingURL=webix.js.map
